import{V as st}from"./chunk-vue.e8abc0df.js";import{V as pl,a as Bg,_ as be,b as Tt,c as Lg,d as Ng,e as Yl,f as vo,g as Ed,h as Ig,i as Si,j as Qs,k as Sd,l as si,m as $g,n as Pg,o as Rg,p as ea,q as Xl,r as Vg,s as Hg,t as zg,u as Zl,v as jg,w as ic,x as oc,y as Wg}from"./chunk-vuetify.6301ce0f.js";const qg=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};qg();var hl=function(t,e){return hl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},hl(t,e)};function Ug(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");hl(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ml=function(){return ml=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ml.apply(this,arguments)};function _d(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kg(t){var e;Se(t,(e=yo())===null||e===void 0?void 0:e.proxy)}var rs,No=[],Od=function(){function t(e){this.active=!0,this.effects=[],this.cleanups=[],this.vm=e}return t.prototype.run=function(e){if(this.active)try{return this.on(),e()}finally{this.off()}else Kg("cannot run an inactive effect scope.")},t.prototype.on=function(){this.active&&(No.push(this),rs=this)},t.prototype.off=function(){this.active&&(No.pop(),rs=No[No.length-1])},t.prototype.stop=function(){this.active&&(this.vm.$destroy(),this.effects.forEach(function(e){return e.stop()}),this.cleanups.forEach(function(e){return e()}),this.active=!1)},t}();(function(t){Ug(e,t);function e(n){n===void 0&&(n=!1);var r=this,i=void 0;return e0(function(){i=bo(Hn())}),r=t.call(this,i)||this,n||Jg(r),r}return e})(Od);function Jg(t,e){var n;if(e=e||rs,e&&e.active){e.effects.push(t);return}var r=(n=yo())===null||n===void 0?void 0:n.proxy;r&&r.$on("hook:destroyed",function(){return t.stop()})}function Gg(){return rs}function Yg(){var t,e;return((t=Gg())===null||t===void 0?void 0:t.vm)||((e=yo())===null||e===void 0?void 0:e.proxy)}function Xg(t){if(!t.scope){var e=new Od(t.proxy);t.scope=e,t.proxy.$on("hook:destroyed",function(){return e.stop()})}return t.scope}var gl=void 0;try{var Qn=require("vue");Qn&&sc(Qn)?gl=Qn:Qn&&"default"in Qn&&sc(Qn.default)&&(gl=Qn.default)}catch{}var lr=null,Pr=null,Go=!0,Td="__composition_api_installed__";function sc(t){return t&&En(t)&&t.name==="Vue"}function Zg(t){return lr&&Gt(t,Td)}function Hn(){return Ql(lr,"must call Vue.use(VueCompositionAPI) before using any function."),lr}function Md(){var t=lr||gl;return Ql(t,"No vue dependency found."),t}function Qg(t){lr&&t.__proto__!==lr.__proto__&&Se("[vue-composition-api] another instance of Vue installed"),lr=t,Object.defineProperty(t,Td,{configurable:!0,writable:!0,value:!0})}function e0(t){var e=Go;Go=!1;try{t()}finally{Go=e}}function ac(t){if(!!Go){var e=Pr;e==null||e.scope.off(),Pr=t,Pr==null||Pr.scope.on()}}function yo(){return Pr}var Fa=new WeakMap;function is(t){if(Fa.has(t))return Fa.get(t);var e={proxy:t,update:t.$forceUpdate,type:t.$options,uid:t._uid,emit:t.$emit.bind(t),parent:null,root:null};Xg(e);var n=["data","props","attrs","refs","vnode","slots"];return n.forEach(function(r){je(e,r,{get:function(){return t["$".concat(r)]}})}),je(e,"isMounted",{get:function(){return t._isMounted}}),je(e,"isUnmounted",{get:function(){return t._isDestroyed}}),je(e,"isDeactivated",{get:function(){return t._inactive}}),je(e,"emitted",{get:function(){return t._events}}),Fa.set(t,e),t.$parent&&(e.parent=is(t.$parent)),t.$root&&(e.root=is(t.$root)),e}var t0=function(t){return Object.prototype.toString.call(t)};function lc(t){return typeof t=="function"&&/native code/.test(t.toString())}var n0=typeof Symbol!="undefined"&&lc(Symbol)&&typeof Reflect!="undefined"&&lc(Reflect.ownKeys),or=function(t){return t};function je(t,e,n){var r=n.get,i=n.set;Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:r||or,set:i||or})}function Fd(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}function Gt(t,e){return Object.hasOwnProperty.call(t,e)}function Ql(t,e){if(!t)throw new Error("[vue-composition-api] ".concat(e))}function r0(t){return typeof t=="string"||typeof t=="number"||typeof t=="symbol"||typeof t=="boolean"}function ai(t){return Array.isArray(t)}var i0=4294967295;function o0(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)&&e<=i0}function ss(t){return t!==null&&typeof t=="object"}function In(t){return t0(t)==="[object Object]"}function En(t){return typeof t=="function"}function s0(t){return t==null}function Se(t,e){var n=Md();!n||!n.util?console.warn("[vue-composition-api] ".concat(t)):n.util.warn(t,e)}function bo(t,e){e===void 0&&(e={});var n=t.config.silent;t.config.silent=!0;var r=new t(e);return t.config.silent=n,r}function a0(t){var e=Hn();return e&&t instanceof e}function l0(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.$scopedSlots[e]?t.$scopedSlots[e].apply(t,n):Se("slots.".concat(e,'() got called outside of the "render()" scope'),t)}}function u0(t,e){var n;if(!t)n={};else{if(t._normalized)return t._normalized;n={};for(var r in t)t[r]&&r[0]!=="$"&&(n[r]=!0)}for(var r in e)r in n||(n[r]=!0);return n}var Ba,c0=function(){if(!Ba){var t=bo(Hn(),{computed:{value:function(){return 0}}}),e=t._computedWatchers.value.constructor,n=t._data.__ob__.dep.constructor;Ba={Watcher:e,Dep:n},t.$destroy()}return Ba},qi="composition-api.refKey",uc=new WeakMap,f0=new WeakMap;function d0(t,e,n){var r=Hn(),i=r.util,o=i.warn,s=i.defineReactive;(s0(t)||r0(t))&&o("Cannot set reactive property on undefined, null, or primitive value: ".concat(t));var a=t.__ob__;function l(){a&&ss(n)&&!Gt(n,"__ob__")&&tu(n)}if(ai(t)){if(o0(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),l(),n;if(e==="length"&&n!==t.length)return t.length=n,a==null||a.dep.notify(),n}return e in t&&!(e in Object.prototype)?(t[e]=n,l(),n):t._isVue||a&&a.vmCount?(o("Avoid adding reactive properties to a Vue instance or its root $data at runtime - declare it upfront in the data option."),n):a?(s(a.value,e,n),Nd(t,e,n),l(),a.dep.notify(),n):(t[e]=n,n)}var Bd=function(){function t(e){var n=e.get,r=e.set;je(this,"value",{get:n,set:r})}return t}();function eu(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=new Bd(t);n&&(r.effect=!0);var i=Object.seal(r);return e&&f0.set(i,!0),i}function At(t){var e;if(Ue(t))return t;var n=$d((e={},e[qi]=t,e));return eu({get:function(){return n[qi]},set:function(r){return n[qi]=r}})}function Ue(t){return t instanceof Bd}function p0(t){if(Wr(t)||Se("toRefs() expects a reactive object but received a plain one."),!In(t))return t;var e={};for(var n in t)e[n]=h0(t,n);return e}function h0(t,e){e in t||d0(t,e,void 0);var n=t[e];return Ue(n)?n:eu({get:function(){return t[e]},set:function(r){return t[e]=r}})}var Ld="__v_skip";function li(t){var e;return Boolean(t&&Gt(t,"__ob__")&&typeof t.__ob__=="object"&&((e=t.__ob__)===null||e===void 0?void 0:e[Ld]))}function Wr(t){var e;return Boolean(t&&Gt(t,"__ob__")&&typeof t.__ob__=="object"&&!(!((e=t.__ob__)===null||e===void 0)&&e[Ld]))}function vl(t){if(!(!In(t)||li(t)||ai(t)||Ue(t)||a0(t)||uc.has(t))){uc.set(t,!0);for(var e=Object.keys(t),n=0;n<e.length;n++)Nd(t,e[n])}}function Nd(t,e,n){if(e!=="__ob__"&&!li(t[e])){var r,i,o=Object.getOwnPropertyDescriptor(t,e);if(o){if(o.configurable===!1)return;r=o.get,i=o.set,(!r||i)&&arguments.length===2&&(n=t[e])}vl(n),je(t,e,{get:function(){var a=r?r.call(t):n;return e!==qi&&Ue(a)?a.value:a},set:function(a){r&&!i||(e!==qi&&Ue(n)&&!Ue(a)?n.value=a:(i&&i.call(t,a),n=a),vl(a))}})}}function Id(t){var e=Md(),n;if(e.observable)n=e.observable(t);else{var r=bo(e,{data:{$$state:t}});n=r._data.$$state}return Gt(n,"__ob__")||tu(n),n}function tu(t,e){var n,r;if(e===void 0&&(e=new Set),!(e.has(t)||Gt(t,"__ob__")||!Object.isExtensible(t))){Fd(t,"__ob__",m0(t)),e.add(t);try{for(var i=_d(Object.keys(t)),o=i.next();!o.done;o=i.next()){var s=o.value,a=t[s];!(In(a)||ai(a))||li(a)||!Object.isExtensible(a)||tu(a,e)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}function m0(t){return t===void 0&&(t={}),{value:t,dep:{notify:or,depend:or,addSub:or,removeSub:or}}}function g0(){return Id({}).__ob__}function $d(t){if(!ss(t))return Se('"reactive()" must be called on an object.'),t;if(!(In(t)||ai(t))||li(t)||!Object.isExtensible(t))return t;var e=Id(t);return vl(e),e}function v0(t){var e=Yg(),n,r;En(t)?n=t:(n=t.get,r=t.set);var i,o;if(e&&!e.$isServer){var s=c0(),a=s.Watcher,l=s.Dep,u;o=function(){return u||(u=new a(e,n,or,{lazy:!0})),u.dirty&&u.evaluate(),l.target&&u.depend(),u.value},i=function(f){if(!r){Se("Write operation failed: computed value is readonly.",e);return}r&&r(f)}}else{var c=bo(Hn(),{computed:{$$state:{get:n,set:r}}});e&&e.$on("hook:destroyed",function(){return c.$destroy()}),o=function(){return c.$$state},i=function(f){if(!r){Se("Write operation failed: computed value is readonly.",e);return}c.$$state=f}}return eu({get:o,set:i},!r,!0)}Object.freeze({});function y0(t,e){e===void 0&&(e=void 0);var n=Hn(),r=void 0,i={config:n.config,use:n.use.bind(n),mixin:n.mixin.bind(n),component:n.component.bind(n),directive:function(o,s){return s?(n.directive(o,s),i):n.directive(o)},mount:function(o,s){return r?(Se("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`"),r):(r=new n(ml({propsData:e},t)),r.$mount(o,s),r)},unmount:function(){r?(r.$destroy(),r=void 0):Se("Cannot unmount an app that is not mounted.")}};return i}var Io,b0=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=(this===null||this===void 0?void 0:this.proxy)||((e=yo())===null||e===void 0?void 0:e.proxy);return i?i.$createElement.apply(i,n):(Se("`createElement()` has been called outside of render function."),Io||(Io=bo(Hn()).$createElement),Io.apply(Io,n))};function D0(t,e,n){var r=t.__composition_api_state__=t.__composition_api_state__||{};r[e]=n}function C0(t,e){return(t.__composition_api_state__||{})[e]}var On={set:D0,get:C0};function A0(t,e,n){var r=t.$options.props;!(e in t)&&!(r&&Gt(r,e))?(Ue(n)?je(t,e,{get:function(){return n.value},set:function(i){n.value=i}}):je(t,e,{get:function(){return Wr(n)&&n.__ob__.dep.depend(),n},set:function(i){n=i}}),t.$nextTick(function(){Object.keys(t._data).indexOf(e)===-1&&(Ue(n)?je(t._data,e,{get:function(){return n.value},set:function(i){n.value=i}}):je(t._data,e,{get:function(){return n},set:function(i){n=i}}))})):r&&Gt(r,e)?Se('The setup binding property "'.concat(e,'" is already declared as a prop.'),t):Se('The setup binding property "'.concat(e,'" is already declared.'),t)}function w0(t){var e=On.get(t,"rawBindings")||{};if(!(!e||!Object.keys(e).length)){for(var n=t.$refs,r=On.get(t,"refs")||[],i=0;i<r.length;i++){var o=r[i],s=e[o];!n[o]&&s&&Ue(s)&&(s.value=null)}for(var a=Object.keys(n),l=[],i=0;i<a.length;i++){var o=a[i],s=e[o];n[o]&&s&&Ue(s)&&(s.value=n[o],l.push(o))}On.set(t,"refs",l)}}function cc(t){for(var e=[t._vnode];e.length;){var n=e.pop();if(n&&(n.context&&w0(n.context),n.children))for(var r=0;r<n.children.length;++r)e.push(n.children[r])}}function fc(t,e){var n,r;if(!!t){var i=On.get(t,"attrBindings");if(!(!i&&!e)){if(!i){var o=$d({});i={ctx:e,data:o},On.set(t,"attrBindings",i),je(e,"attrs",{get:function(){return i==null?void 0:i.data},set:function(){Se("Cannot assign to '$attrs' because it is a read-only property",t)}})}var s=t.$attrs,a=function(f){Gt(i.data,f)||je(i.data,f,{get:function(){return t.$attrs[f]}})};try{for(var l=_d(Object.keys(s)),u=l.next();!u.done;u=l.next()){var c=u.value;a(c)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}}function dc(t,e){var n=t.$options._parentVnode;if(!!n){for(var r=On.get(t,"slots")||[],i=u0(n.data.scopedSlots,t.$slots),o=0;o<r.length;o++){var s=r[o];i[s]||delete e[s]}for(var a=Object.keys(i),o=0;o<a.length;o++){var s=a[o];e[s]||(e[s]=l0(t,s))}On.set(t,"slots",a)}}function La(t,e,n){var r=yo();ac(t);try{return e(t)}catch(i){if(n)n(i);else throw i}finally{ac(r)}}function x0(t){t.mixin({beforeCreate:e,mounted:function(){cc(this)},beforeUpdate:function(){fc(this)},updated:function(){cc(this)}});function e(){var s=this,a=s.$options,l=a.setup,u=a.render;if(u&&(a.render=function(){for(var f=this,d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];return La(is(s),function(){return u.apply(f,d)})}),!!l){if(!En(l)){Se('The "setup" option should be a function that returns a object in component definitions.',s);return}var c=a.data;a.data=function(){return n(s,s.$props),En(c)?c.call(s,s):c||{}}}}function n(s,a){a===void 0&&(a={});var l=s.$options.setup,u=o(s),c=is(s);c.setupContext=u,Fd(a,"__ob__",g0()),dc(s,u.slots);var f;if(La(c,function(){f=l(a,u)}),!!f){if(En(f)){var d=f;s.$options.render=function(){return dc(s,u.slots),La(c,function(){return d()})};return}else if(ss(f)){Wr(f)&&(f=p0(f)),On.set(s,"rawBindings",f);var p=f;Object.keys(p).forEach(function(h){var m=p[h];if(!Ue(m))if(Wr(m))ai(m)&&(m=At(m));else if(En(m)){var y=m;m=m.bind(s),Object.keys(y).forEach(function(D){m[D]=y[D]})}else ss(m)?i(m)&&r(m):m=At(m);A0(s,h,m)});return}Ql(!1,'"setup" must return a "Object" or a "Function", got "'.concat(Object.prototype.toString.call(f).slice(8,-1),'"'))}}function r(s,a){if(a===void 0&&(a=new Set),!a.has(s)&&!(!In(s)||Ue(s)||Wr(s)||li(s))){var l=Hn(),u=l.util.defineReactive;Object.keys(s).forEach(function(c){var f=s[c];u(s,c,f),f&&(a.add(f),r(f,a))})}}function i(s,a){return a===void 0&&(a=new Map),a.has(s)?a.get(s):(a.set(s,!1),ai(s)&&Wr(s)?(a.set(s,!0),!0):!In(s)||li(s)||Ue(s)?!1:Object.keys(s).some(function(l){return i(s[l],a)}))}function o(s){var a={slots:{}},l=["root","parent","refs","listeners","isServer","ssrContext"],u=["emit"];return l.forEach(function(c){var f="$".concat(c);je(a,c,{get:function(){return s[f]},set:function(){Se("Cannot assign to '".concat(c,"' because it is a read-only property"),s)}})}),fc(s,a),u.forEach(function(c){var f="$".concat(c);je(a,c,{get:function(){return function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var h=s[f];h.apply(s,d)}}})}),a}}function Pd(t,e){if(!t)return e;if(!e)return t;for(var n,r,i,o=n0?Reflect.ownKeys(t):Object.keys(t),s=0;s<o.length;s++)n=o[s],n!=="__ob__"&&(r=e[n],i=t[n],Gt(e,n)?r!==i&&In(r)&&!Ue(r)&&In(i)&&!Ue(i)&&Pd(i,r):e[n]=i);return e}function k0(t){if(Zg(t)){Se("[vue-composition-api] already installed. Vue.use(VueCompositionAPI) should be called only once.");return}t.version?(t.version[0]!=="2"||t.version[1]!==".")&&Se("[vue-composition-api] only works with Vue 2, v".concat(t.version," found.")):Se("[vue-composition-api] no Vue version found"),t.config.optionMergeStrategies.setup=function(e,n){return function(i,o){return Pd(En(e)?e(i,o)||{}:void 0,En(n)?n(i,o)||{}:void 0)}},Qg(t),x0(t)}var Rd={install:function(t){return k0(t)}};typeof window!="undefined"&&window.Vue&&window.Vue.use(Rd);const E0=t=>(t.use(pl),new pl);var S0="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4M16,10V17A1,1 0 0,1 15,18H9A1,1 0 0,1 8,17V10H16M13.5,6L14.5,7H17V9H7V7H9.5L10.5,6H13.5Z",_0="M14 2H6C4.89 2 4 2.9 4 4V20C4 21.11 4.89 22 6 22H18C19.11 22 20 21.11 20 20V8L14 2M18 20H6V4H13V9H18V20M9.54 15.65L11.63 17.74L10.35 19L7 15.65L10.35 12.3L11.63 13.56L9.54 15.65M17 15.65L13.65 19L12.38 17.74L14.47 15.65L12.38 13.56L13.65 12.3L17 15.65Z",O0="M2,21L23,12L2,3V10L17,12L2,14V21Z",yl=function(t,e){return yl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},yl(t,e)};function T0(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");yl(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var bl=function(){return bl=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},bl.apply(this,arguments)};function Vd(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hd(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function zd(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function M0(t){var e;he(t,(e=_i())===null||e===void 0?void 0:e.proxy)}var as,$o=[],jd=function(){function t(e){this.active=!0,this.effects=[],this.cleanups=[],this.vm=e}return t.prototype.run=function(e){if(this.active)try{return this.on(),e()}finally{this.off()}else M0("cannot run an inactive effect scope.")},t.prototype.on=function(){this.active&&($o.push(this),as=this)},t.prototype.off=function(){this.active&&($o.pop(),as=$o[$o.length-1])},t.prototype.stop=function(){this.active&&(this.vm.$destroy(),this.effects.forEach(function(e){return e.stop()}),this.cleanups.forEach(function(e){return e()}),this.active=!1)},t}();(function(t){T0(e,t);function e(n){n===void 0&&(n=!1);var r=this,i=void 0;return $0(function(){i=Do(zn())}),r=t.call(this,i)||this,n||F0(r),r}return e})(jd);function F0(t,e){var n;if(e=e||as,e&&e.active){e.effects.push(t);return}var r=(n=_i())===null||n===void 0?void 0:n.proxy;r&&r.$on("hook:destroyed",function(){return t.stop()})}function B0(){return as}function Wd(){var t,e;return((t=B0())===null||t===void 0?void 0:t.vm)||((e=_i())===null||e===void 0?void 0:e.proxy)}function L0(t){if(!t.scope){var e=new jd(t.proxy);t.scope=e,t.proxy.$on("hook:destroyed",function(){return e.stop()})}return t.scope}var Dl=void 0;try{var er=require("vue");er&&pc(er)?Dl=er:er&&"default"in er&&pc(er.default)&&(Dl=er.default)}catch{}var ur=null,Rr=null,Yo=!0,qd="__composition_api_installed__";function pc(t){return t&&_t(t)&&t.name==="Vue"}function N0(t){return ur&&Yt(t,qd)}function zn(){return ta(ur,"must call Vue.use(VueCompositionAPI) before using any function."),ur}function Ud(){var t=ur||Dl;return ta(t,"No vue dependency found."),t}function I0(t){ur&&t.__proto__!==ur.__proto__&&he("[vue-composition-api] another instance of Vue installed"),ur=t,Object.defineProperty(t,qd,{configurable:!0,writable:!0,value:!0})}function $0(t){var e=Yo;Yo=!1;try{t()}finally{Yo=e}}function ls(t){if(!!Yo){var e=Rr;e==null||e.scope.off(),Rr=t,Rr==null||Rr.scope.on()}}function _i(){return Rr}var Na=new WeakMap;function us(t){if(Na.has(t))return Na.get(t);var e={proxy:t,update:t.$forceUpdate,type:t.$options,uid:t._uid,emit:t.$emit.bind(t),parent:null,root:null};L0(e);var n=["data","props","attrs","refs","vnode","slots"];return n.forEach(function(r){We(e,r,{get:function(){return t["$".concat(r)]}})}),We(e,"isMounted",{get:function(){return t._isMounted}}),We(e,"isUnmounted",{get:function(){return t._isDestroyed}}),We(e,"isDeactivated",{get:function(){return t._inactive}}),We(e,"emitted",{get:function(){return t._events}}),Na.set(t,e),t.$parent&&(e.parent=us(t.$parent)),t.$root&&(e.root=us(t.$root)),e}var P0=function(t){return Object.prototype.toString.call(t)};function hc(t){return typeof t=="function"&&/native code/.test(t.toString())}var Kd=typeof Symbol!="undefined"&&hc(Symbol)&&typeof Reflect!="undefined"&&hc(Reflect.ownKeys),zt=function(t){return t};function We(t,e,n){var r=n.get,i=n.set;Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:r||zt,set:i||zt})}function Jd(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}function Yt(t,e){return Object.hasOwnProperty.call(t,e)}function ta(t,e){if(!t)throw new Error("[vue-composition-api] ".concat(e))}function R0(t){return typeof t=="string"||typeof t=="number"||typeof t=="symbol"||typeof t=="boolean"}function pn(t){return Array.isArray(t)}var V0=Object.prototype.toString,Gd=function(t){return V0.call(t)},H0=function(t){return Gd(t)==="[object Map]"},z0=function(t){return Gd(t)==="[object Set]"},j0=4294967295;function W0(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)&&e<=j0}function ao(t){return t!==null&&typeof t=="object"}function hn(t){return P0(t)==="[object Object]"}function _t(t){return typeof t=="function"}function q0(t){return t==null}function he(t,e){var n=Ud();!n||!n.util?console.warn("[vue-composition-api] ".concat(t)):n.util.warn(t,e)}function U0(t,e,n){if(he("Error in ".concat(n,': "').concat(t.toString(),'"'),e),typeof window!="undefined"&&typeof console!="undefined")console.error(t);else throw t}function K0(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function J0(t,e){return e=e||_i(),e||he("".concat(t," is called when there is no active component instance to be ")+"associated with. Lifecycle injection APIs can only be used during execution of setup()."),e}function Do(t,e){e===void 0&&(e={});var n=t.config.silent;t.config.silent=!0;var r=new t(e);return t.config.silent=n,r}function G0(t){var e=zn();return e&&t instanceof e}function Y0(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.$scopedSlots[e]?t.$scopedSlots[e].apply(t,n):he("slots.".concat(e,'() got called outside of the "render()" scope'),t)}}function X0(t,e){var n;if(!t)n={};else{if(t._normalized)return t._normalized;n={};for(var r in t)t[r]&&r[0]!=="$"&&(n[r]=!0)}for(var r in e)r in n||(n[r]=!0);return n}var Ia,Z0=function(){if(!Ia){var t=Do(zn(),{computed:{value:function(){return 0}}}),e=t._computedWatchers.value.constructor,n=t._data.__ob__.dep.constructor;Ia={Watcher:e,Dep:n},t.$destroy()}return Ia};function Yd(t){return Kd?Symbol.for(t):t}var ni=Yd("composition-api.preFlushQueue"),Ui=Yd("composition-api.postFlushQueue"),Ki="composition-api.refKey",mc=new WeakMap,Q0=new WeakMap,ev=new WeakMap;function tv(t,e,n){var r=zn(),i=r.util,o=i.warn,s=i.defineReactive;(q0(t)||R0(t))&&o("Cannot set reactive property on undefined, null, or primitive value: ".concat(t));var a=t.__ob__;function l(){a&&ao(n)&&!Yt(n,"__ob__")&&ru(n)}if(pn(t)){if(W0(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),l(),n;if(e==="length"&&n!==t.length)return t.length=n,a==null||a.dep.notify(),n}return e in t&&!(e in Object.prototype)?(t[e]=n,l(),n):t._isVue||a&&a.vmCount?(o("Avoid adding reactive properties to a Vue instance or its root $data at runtime - declare it upfront in the data option."),n):a?(s(a.value,e,n),Qd(t,e,n),l(),a.dep.notify(),n):(t[e]=n,n)}var Xd=function(){function t(e){var n=e.get,r=e.set;We(this,"value",{get:n,set:r})}return t}();function nu(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=new Xd(t);n&&(r.effect=!0);var i=Object.seal(r);return e&&ev.set(i,!0),i}function De(t){var e;if(Ce(t))return t;var n=iu((e={},e[Ki]=t,e));return nu({get:function(){return n[Ki]},set:function(r){return n[Ki]=r}})}function Ce(t){return t instanceof Xd}function A(t){return Ce(t)?t.value:t}function nv(t){if(fn(t)||he("toRefs() expects a reactive object but received a plain one."),!hn(t))return t;var e={};for(var n in t)e[n]=rv(t,n);return e}function rv(t,e){e in t||tv(t,e,void 0);var n=t[e];return Ce(n)?n:nu({get:function(){return t[e]},set:function(r){return t[e]=r}})}var Zd="__v_skip";function ui(t){var e;return Boolean(t&&Yt(t,"__ob__")&&typeof t.__ob__=="object"&&((e=t.__ob__)===null||e===void 0?void 0:e[Zd]))}function fn(t){var e;return Boolean(t&&Yt(t,"__ob__")&&typeof t.__ob__=="object"&&!(!((e=t.__ob__)===null||e===void 0)&&e[Zd]))}function Cl(t){if(!(!hn(t)||ui(t)||pn(t)||Ce(t)||G0(t)||mc.has(t))){mc.set(t,!0);for(var e=Object.keys(t),n=0;n<e.length;n++)Qd(t,e[n])}}function Qd(t,e,n){if(e!=="__ob__"&&!ui(t[e])){var r,i,o=Object.getOwnPropertyDescriptor(t,e);if(o){if(o.configurable===!1)return;r=o.get,i=o.set,(!r||i)&&arguments.length===2&&(n=t[e])}Cl(n),We(t,e,{get:function(){var a=r?r.call(t):n;return e!==Ki&&Ce(a)?a.value:a},set:function(a){r&&!i||(e!==Ki&&Ce(n)&&!Ce(a)?n.value=a:(i&&i.call(t,a),n=a),Cl(a))}})}}function ep(t){var e=Ud(),n;if(e.observable)n=e.observable(t);else{var r=Do(e,{data:{$$state:t}});n=r._data.$$state}return Yt(n,"__ob__")||ru(n),n}function ru(t,e){var n,r;if(e===void 0&&(e=new Set),!(e.has(t)||Yt(t,"__ob__")||!Object.isExtensible(t))){Jd(t,"__ob__",iv(t)),e.add(t);try{for(var i=Vd(Object.keys(t)),o=i.next();!o.done;o=i.next()){var s=o.value,a=t[s];!(hn(a)||pn(a))||ui(a)||!Object.isExtensible(a)||ru(a,e)}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}function iv(t){return t===void 0&&(t={}),{value:t,dep:{notify:zt,depend:zt,addSub:zt,removeSub:zt}}}function ov(){return ep({}).__ob__}function iu(t){if(!ao(t))return he('"reactive()" must be called on an object.'),t;if(!(hn(t)||pn(t))||ui(t)||!Object.isExtensible(t))return t;var e=ep(t);return Cl(e),e}var sv=function(t){return"on".concat(t[0].toUpperCase()+t.slice(1))};function tp(t){return function(e,n){var r=J0(sv(t),n);return r&&av(zn(),r,t,e)}}function av(t,e,n,r){var i=e.proxy.$options,o=t.config.optionMergeStrategies[n],s=lv(e,r);return i[n]=o(i[n],s),s}function lv(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=_i();ls(t);try{return e.apply(void 0,zd([],Hd(n),!1))}finally{ls(i)}}}var np=tp("mounted"),ou=tp("destroyed"),Xo;function uv(){cs(this,ni)}function cv(){cs(this,Ui)}function fv(t){return t[ni]!==void 0}function dv(t){t[ni]=[],t[Ui]=[],t.$on("hook:beforeUpdate",uv),t.$on("hook:updated",cv)}function pv(t){return bl({immediate:!1,deep:!1,flush:"pre"},t)}function hv(){var t=Wd();return t?fv(t)||dv(t):(Xo||(Xo=Do(zn())),t=Xo),t}function cs(t,e){for(var n=t[e],r=0;r<n.length;r++)n[r]();n.length=0}function mv(t,e,n){var r=function(){t.$nextTick(function(){t[ni].length&&cs(t,ni),t[Ui].length&&cs(t,Ui)})};switch(n){case"pre":r(),t[ni].push(e);break;case"post":r(),t[Ui].push(e);break;default:ta(!1,'flush must be one of ["post", "pre", "sync"], but got '.concat(n));break}}function gv(t,e,n,r){var i=t._watchers.length;return t.$watch(e,n,{immediate:r.immediateInvokeCallback,deep:r.deep,lazy:r.noRun,sync:r.sync,before:r.before}),t._watchers[i]}function gc(t,e){var n=t.teardown;t.teardown=function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];n.apply(t,r),e()}}function vv(t,e,n,r){var i;n||(r.immediate!==void 0&&he('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),r.deep!==void 0&&he('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));var o=r.flush,s=o==="sync",a,l=function(B){a=function(){try{B()}catch(L){U0(L,t,"onCleanup()")}}},u=function(){a&&(a(),a=null)},c=function(B){return s||t===Xo?B:function(){for(var L=[],z=0;z<arguments.length;z++)L[z]=arguments[z];return mv(t,function(){B.apply(void 0,zd([],Hd(L),!1))},o)}};if(n===null){var f=!1,d=function(){if(!f)try{f=!0,e(l)}finally{f=!1}},p=gv(t,d,zt,{deep:r.deep||!1,sync:s,before:u});gc(p,u),p.lazy=!1;var h=p.get.bind(p);return p.get=c(h),function(){p.teardown()}}var m=r.deep,y=!1,D;if(Ce(e)?D=function(){return e.value}:fn(e)?(D=function(){return e},m=!0):pn(e)?(y=!0,D=function(){return e.map(function(B){return Ce(B)?B.value:fn(B)?qr(B):_t(B)?B():(he("Invalid watch source: ".concat(JSON.stringify(B),`.
          A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.`),t),zt)})}):_t(e)?D=e:(D=zt,he("Invalid watch source: ".concat(JSON.stringify(e),`.
      A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.`),t)),m){var E=D;D=function(){return qr(E())}}var M=function(B,L){if(!(!m&&y&&B.every(function(z,U){return K0(z,L[U])})))return u(),n(B,L,l)},v=c(M);if(r.immediate){var O=v,k=function(B,L){return k=O,M(B,pn(B)?[]:L)};v=function(B,L){return k(B,L)}}var F=t.$watch(D,v,{immediate:r.immediate,deep:m,sync:s}),S=t._watchers[t._watchers.length-1];return fn(S.value)&&((i=S.value.__ob__)===null||i===void 0?void 0:i.dep)&&m&&S.value.__ob__.dep.addSub({update:function(){S.run()}}),gc(S,u),function(){F()}}function vc(t,e,n){var r=null;_t(e)?r=e:(he("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),n=e,r=null);var i=pv(n),o=hv();return vv(o,t,r,i)}function qr(t,e){if(e===void 0&&(e=new Set),!ao(t)||e.has(t)||Q0.has(t))return t;if(e.add(t),Ce(t))qr(t.value,e);else if(pn(t))for(var n=0;n<t.length;n++)qr(t[n],e);else if(z0(t)||H0(t))t.forEach(function(i){qr(i,e)});else if(hn(t))for(var r in t)qr(t[r],e);return t}function de(t){var e=Wd(),n,r;_t(t)?n=t:(n=t.get,r=t.set);var i,o;if(e&&!e.$isServer){var s=Z0(),a=s.Watcher,l=s.Dep,u;o=function(){return u||(u=new a(e,n,zt,{lazy:!0})),u.dirty&&u.evaluate(),l.target&&u.depend(),u.value},i=function(f){if(!r){he("Write operation failed: computed value is readonly.",e);return}r&&r(f)}}else{var c=Do(zn(),{computed:{$$state:{get:n,set:r}}});e&&e.$on("hook:destroyed",function(){return c.$destroy()}),o=function(){return c.$$state},i=function(f){if(!r){he("Write operation failed: computed value is readonly.",e);return}c.$$state=f}}return nu({get:o,set:i},!r,!0)}Object.freeze({});function yv(t,e,n){var r=t.__composition_api_state__=t.__composition_api_state__||{};r[e]=n}function bv(t,e){return(t.__composition_api_state__||{})[e]}var Tn={set:yv,get:bv};function Dv(t,e,n){var r=t.$options.props;!(e in t)&&!(r&&Yt(r,e))?(Ce(n)?We(t,e,{get:function(){return n.value},set:function(i){n.value=i}}):We(t,e,{get:function(){return fn(n)&&n.__ob__.dep.depend(),n},set:function(i){n=i}}),t.$nextTick(function(){Object.keys(t._data).indexOf(e)===-1&&(Ce(n)?We(t._data,e,{get:function(){return n.value},set:function(i){n.value=i}}):We(t._data,e,{get:function(){return n},set:function(i){n=i}}))})):r&&Yt(r,e)?he('The setup binding property "'.concat(e,'" is already declared as a prop.'),t):he('The setup binding property "'.concat(e,'" is already declared.'),t)}function Cv(t){var e=Tn.get(t,"rawBindings")||{};if(!(!e||!Object.keys(e).length)){for(var n=t.$refs,r=Tn.get(t,"refs")||[],i=0;i<r.length;i++){var o=r[i],s=e[o];!n[o]&&s&&Ce(s)&&(s.value=null)}for(var a=Object.keys(n),l=[],i=0;i<a.length;i++){var o=a[i],s=e[o];n[o]&&s&&Ce(s)&&(s.value=n[o],l.push(o))}Tn.set(t,"refs",l)}}function yc(t){for(var e=[t._vnode];e.length;){var n=e.pop();if(n&&(n.context&&Cv(n.context),n.children))for(var r=0;r<n.children.length;++r)e.push(n.children[r])}}function bc(t,e){var n,r;if(!!t){var i=Tn.get(t,"attrBindings");if(!(!i&&!e)){if(!i){var o=iu({});i={ctx:e,data:o},Tn.set(t,"attrBindings",i),We(e,"attrs",{get:function(){return i==null?void 0:i.data},set:function(){he("Cannot assign to '$attrs' because it is a read-only property",t)}})}var s=t.$attrs,a=function(f){Yt(i.data,f)||We(i.data,f,{get:function(){return t.$attrs[f]}})};try{for(var l=Vd(Object.keys(s)),u=l.next();!u.done;u=l.next()){var c=u.value;a(c)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}}}function Dc(t,e){var n=t.$options._parentVnode;if(!!n){for(var r=Tn.get(t,"slots")||[],i=X0(n.data.scopedSlots,t.$slots),o=0;o<r.length;o++){var s=r[o];i[s]||delete e[s]}for(var a=Object.keys(i),o=0;o<a.length;o++){var s=a[o];e[s]||(e[s]=Y0(t,s))}Tn.set(t,"slots",a)}}function $a(t,e,n){var r=_i();ls(t);try{return e(t)}catch(i){if(n)n(i);else throw i}finally{ls(r)}}function Av(t){t.mixin({beforeCreate:e,mounted:function(){yc(this)},beforeUpdate:function(){bc(this)},updated:function(){yc(this)}});function e(){var s=this,a=s.$options,l=a.setup,u=a.render;if(u&&(a.render=function(){for(var f=this,d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];return $a(us(s),function(){return u.apply(f,d)})}),!!l){if(!_t(l)){he('The "setup" option should be a function that returns a object in component definitions.',s);return}var c=a.data;a.data=function(){return n(s,s.$props),_t(c)?c.call(s,s):c||{}}}}function n(s,a){a===void 0&&(a={});var l=s.$options.setup,u=o(s),c=us(s);c.setupContext=u,Jd(a,"__ob__",ov()),Dc(s,u.slots);var f;if($a(c,function(){f=l(a,u)}),!!f){if(_t(f)){var d=f;s.$options.render=function(){return Dc(s,u.slots),$a(c,function(){return d()})};return}else if(ao(f)){fn(f)&&(f=nv(f)),Tn.set(s,"rawBindings",f);var p=f;Object.keys(p).forEach(function(h){var m=p[h];if(!Ce(m))if(fn(m))pn(m)&&(m=De(m));else if(_t(m)){var y=m;m=m.bind(s),Object.keys(y).forEach(function(D){m[D]=y[D]})}else ao(m)?i(m)&&r(m):m=De(m);Dv(s,h,m)});return}ta(!1,'"setup" must return a "Object" or a "Function", got "'.concat(Object.prototype.toString.call(f).slice(8,-1),'"'))}}function r(s,a){if(a===void 0&&(a=new Set),!a.has(s)&&!(!hn(s)||Ce(s)||fn(s)||ui(s))){var l=zn(),u=l.util.defineReactive;Object.keys(s).forEach(function(c){var f=s[c];u(s,c,f),f&&(a.add(f),r(f,a))})}}function i(s,a){return a===void 0&&(a=new Map),a.has(s)?a.get(s):(a.set(s,!1),pn(s)&&fn(s)?(a.set(s,!0),!0):!hn(s)||ui(s)||Ce(s)?!1:Object.keys(s).some(function(l){return i(s[l],a)}))}function o(s){var a={slots:{}},l=["root","parent","refs","listeners","isServer","ssrContext"],u=["emit"];return l.forEach(function(c){var f="$".concat(c);We(a,c,{get:function(){return s[f]},set:function(){he("Cannot assign to '".concat(c,"' because it is a read-only property"),s)}})}),bc(s,a),u.forEach(function(c){var f="$".concat(c);We(a,c,{get:function(){return function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var h=s[f];h.apply(s,d)}}})}),a}}function rp(t,e){if(!t)return e;if(!e)return t;for(var n,r,i,o=Kd?Reflect.ownKeys(t):Object.keys(t),s=0;s<o.length;s++)n=o[s],n!=="__ob__"&&(r=e[n],i=t[n],Yt(e,n)?r!==i&&hn(r)&&!Ce(r)&&hn(i)&&!Ce(i)&&rp(i,r):e[n]=i);return e}function wv(t){if(N0(t)){he("[vue-composition-api] already installed. Vue.use(VueCompositionAPI) should be called only once.");return}t.version?(t.version[0]!=="2"||t.version[1]!==".")&&he("[vue-composition-api] only works with Vue 2, v".concat(t.version," found.")):he("[vue-composition-api] no Vue version found"),t.config.optionMergeStrategies.setup=function(e,n){return function(i,o){return rp(_t(e)?e(i,o)||{}:void 0,_t(n)?n(i,o)||{}:void 0)}},I0(t),Av(t)}var xv={install:function(t){return wv(t)}};typeof window!="undefined"&&window.Vue&&window.Vue.use(xv);var kv=Object.defineProperty,Ev=Object.defineProperties,Sv=Object.getOwnPropertyDescriptors,fs=Object.getOwnPropertySymbols,ip=Object.prototype.hasOwnProperty,op=Object.prototype.propertyIsEnumerable,Al=(t,e,n)=>e in t?kv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,x=(t,e)=>{for(var n in e||(e={}))ip.call(e,n)&&Al(t,n,e[n]);if(fs)for(var n of fs(e))op.call(e,n)&&Al(t,n,e[n]);return t},_e=(t,e)=>Ev(t,Sv(e)),_v=(t,e)=>{var n={};for(var r in t)ip.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&fs)for(var r of fs(t))e.indexOf(r)<0&&op.call(t,r)&&(n[r]=t[r]);return n},Ov=(t,e,n)=>(Al(t,typeof e!="symbol"?e+"":e,n),n);const Cc="[vuetify-pro-tiptap]";class su{static warn(e){console.warn(`${Cc}: ${e}`)}static error(e){console.error(`${Cc}: ${e}`)}}let Hi;function Tv(t){return typeof t.framework.rtl=="boolean"&&(t.preset.rtl=t.framework.rtl),t}function au(t,e){return Hi?Tv(Hi):t?Hi=t:Hi=new pl(e||{})}function Mv(t){return t?(Hi=t,!0):(su.warn("invalid vuetify instance"),!1)}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Ac(t){return Object.prototype.toString.call(t)==="[object Object]"}function Fv(t){var e,n;return Ac(t)===!1?!1:(e=t.constructor,e===void 0?!0:(n=e.prototype,!(Ac(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function Ji(){return Ji=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ji.apply(this,arguments)}function sp(t,e){if(t==null)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)e.indexOf(n=o[r])>=0||(i[n]=t[n]);return i}const Bv={silent:!1,logLevel:"warn"},Lv=["validator"],ap=Object.prototype,lp=ap.toString,Nv=ap.hasOwnProperty,up=/^\s*function (\w+)/;function wc(t){var e;const n=(e=t==null?void 0:t.type)!==null&&e!==void 0?e:t;if(n){const r=n.toString().match(up);return r?r[1]:""}return""}const gr=Fv,Iv=t=>t;let Re=Iv;const ci=(t,e)=>Nv.call(t,e),$v=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t},fi=Array.isArray||function(t){return lp.call(t)==="[object Array]"},di=t=>lp.call(t)==="[object Function]",ds=t=>gr(t)&&ci(t,"_vueTypes_name"),cp=t=>gr(t)&&(ci(t,"type")||["_vueTypes_name","validator","default","required"].some(e=>ci(t,e)));function lu(t,e){return Object.defineProperty(t.bind(e),"__original",{value:t})}function wr(t,e,n=!1){let r,i=!0,o="";r=gr(t)?t:{type:t};const s=ds(r)?r._vueTypes_name+" - ":"";if(cp(r)&&r.type!==null){if(r.type===void 0||r.type===!0||!r.required&&e===void 0)return i;fi(r.type)?(i=r.type.some(a=>wr(a,e,!0)===!0),o=r.type.map(a=>wc(a)).join(" or ")):(o=wc(r),i=o==="Array"?fi(e):o==="Object"?gr(e):o==="String"||o==="Number"||o==="Boolean"||o==="Function"?function(a){if(a==null)return"";const l=a.constructor.toString().match(up);return l?l[1]:""}(e)===o:e instanceof r.type)}if(!i){const a=`${s}value "${e}" should be of type "${o}"`;return n===!1?(Re(a),!1):a}if(ci(r,"validator")&&di(r.validator)){const a=Re,l=[];if(Re=u=>{l.push(u)},i=r.validator(e),Re=a,!i){const u=(l.length>1?"* ":"")+l.join(`
* `);return l.length=0,n===!1?(Re(u),i):u}}return i}function lt(t,e){const n=Object.defineProperties(e,{_vueTypes_name:{value:t,writable:!0},isRequired:{get(){return this.required=!0,this}},def:{value(i){return i===void 0?(ci(this,"default")&&delete this.default,this):di(i)||wr(this,i,!0)===!0?(this.default=fi(i)?()=>[...i]:gr(i)?()=>Object.assign({},i):i,this):(Re(`${this._vueTypes_name} - invalid default value: "${i}"`),this)}}}),{validator:r}=n;return di(r)&&(n.validator=lu(r,n)),n}function qt(t,e){const n=lt(t,e);return Object.defineProperty(n,"validate",{value(r){return di(this.validator)&&Re(`${this._vueTypes_name} - calling .validate() will overwrite the current custom validator function. Validator info:
${JSON.stringify(this)}`),this.validator=lu(r,this),this}})}function xc(t,e,n){const r=function(l){const u={};return Object.getOwnPropertyNames(l).forEach(c=>{u[c]=Object.getOwnPropertyDescriptor(l,c)}),Object.defineProperties({},u)}(e);if(r._vueTypes_name=t,!gr(n))return r;const{validator:i}=n,o=sp(n,Lv);if(di(i)){let{validator:l}=r;l&&(l=(a=(s=l).__original)!==null&&a!==void 0?a:s),r.validator=lu(l?function(u){return l.call(this,u)&&i.call(this,u)}:i,r)}var s,a;return Object.assign(r,o)}function na(t){return t.replace(/^(?!\s*$)/gm,"  ")}const Pv=()=>qt("any",{}),Mn=()=>qt("function",{type:Function}),pe=()=>qt("boolean",{type:Boolean}),Fn=()=>qt("string",{type:String}),Rv=()=>qt("number",{type:Number}),vr=()=>qt("array",{type:Array}),Ye=()=>qt("object",{type:Object}),Vv=()=>lt("integer",{type:Number,validator:t=>$v(t)}),Hv=()=>lt("symbol",{validator:t=>typeof t=="symbol"});function zv(t,e="custom validation failed"){if(typeof t!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return lt(t.name||"<<anonymous function>>",{type:null,validator(n){const r=t(n);return r||Re(`${this._vueTypes_name} - ${e}`),r}})}function jv(t){if(!fi(t))throw new TypeError("[VueTypes error]: You must provide an array as argument.");const e=`oneOf - value should be one of "${t.join('", "')}".`,n=t.reduce((r,i)=>{if(i!=null){const o=i.constructor;r.indexOf(o)===-1&&r.push(o)}return r},[]);return lt("oneOf",{type:n.length>0?n:void 0,validator(r){const i=t.indexOf(r)!==-1;return i||Re(e),i}})}function cr(t){if(!fi(t))throw new TypeError("[VueTypes error]: You must provide an array as argument");let e=!1,n=[];for(let i=0;i<t.length;i+=1){const o=t[i];if(cp(o)){if(ds(o)&&o._vueTypes_name==="oneOf"&&o.type){n=n.concat(o.type);continue}if(di(o.validator)&&(e=!0),o.type===!0||!o.type){Re('oneOfType - invalid usage of "true" or "null" as types.');continue}n=n.concat(o.type)}else n.push(o)}n=n.filter((i,o)=>n.indexOf(i)===o);const r=n.length>0?n:null;return lt("oneOfType",e?{type:r,validator(i){const o=[],s=t.some(a=>{const l=wr(ds(a)&&a._vueTypes_name==="oneOf"?a.type||null:a,i,!0);return typeof l=="string"&&o.push(l),l===!0});return s||Re(`oneOfType - provided value does not match any of the ${o.length} passed-in validators:
${na(o.join(`
`))}`),s}}:{type:r})}function Wv(t){return lt("arrayOf",{type:Array,validator(e){let n="";const r=e.every(i=>(n=wr(t,i,!0),n===!0));return r||Re(`arrayOf - value validation error:
${na(n)}`),r}})}function qv(t){return lt("instanceOf",{type:t})}function Uv(t){return lt("objectOf",{type:Object,validator(e){let n="";const r=Object.keys(e).every(i=>(n=wr(t,e[i],!0),n===!0));return r||Re(`objectOf - value validation error:
${na(n)}`),r}})}function Kv(t){const e=Object.keys(t),n=e.filter(i=>{var o;return!((o=t[i])===null||o===void 0||!o.required)}),r=lt("shape",{type:Object,validator(i){if(!gr(i))return!1;const o=Object.keys(i);if(n.length>0&&n.some(s=>o.indexOf(s)===-1)){const s=n.filter(a=>o.indexOf(a)===-1);return Re(s.length===1?`shape - required property "${s[0]}" is not defined.`:`shape - required properties "${s.join('", "')}" are not defined.`),!1}return o.every(s=>{if(e.indexOf(s)===-1)return this._vueTypes_isLoose===!0||(Re(`shape - shape definition does not include a "${s}" property. Allowed keys: "${e.join('", "')}".`),!1);const a=wr(t[s],i[s],!0);return typeof a=="string"&&Re(`shape - "${s}" property validation error:
 ${na(a)}`),a===!0})}});return Object.defineProperty(r,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(r,"loose",{get(){return this._vueTypes_isLoose=!0,this}}),r}const Jv=["name","validate","getter"],Gv=(()=>{var t,e;return e=t=class{static get any(){return Pv()}static get func(){return Mn().def(this.defaults.func)}static get bool(){return pe().def(this.defaults.bool)}static get string(){return Fn().def(this.defaults.string)}static get number(){return Rv().def(this.defaults.number)}static get array(){return vr().def(this.defaults.array)}static get object(){return Ye().def(this.defaults.object)}static get integer(){return Vv().def(this.defaults.integer)}static get symbol(){return Hv()}static extend(n){if(fi(n))return n.forEach(u=>this.extend(u)),this;const{name:r,validate:i=!1,getter:o=!1}=n,s=sp(n,Jv);if(ci(this,r))throw new TypeError(`[VueTypes error]: Type "${r}" already defined`);const{type:a}=s;if(ds(a))return delete s.type,Object.defineProperty(this,r,o?{get:()=>xc(r,a,s)}:{value(...u){const c=xc(r,a,s);return c.validator&&(c.validator=c.validator.bind(c,...u)),c}});let l;return l=o?{get(){const u=Object.assign({},s);return i?qt(r,u):lt(r,u)},enumerable:!0}:{value(...u){const c=Object.assign({},s);let f;return f=i?qt(r,c):lt(r,c),c.validator&&(f.validator=c.validator.bind(f,...u)),f},enumerable:!0},Object.defineProperty(this,r,l)}},t.defaults={},t.sensibleDefaults=void 0,t.config=Bv,t.custom=zv,t.oneOf=jv,t.instanceOf=qv,t.oneOfType=cr,t.arrayOf=Wv,t.objectOf=Uv,t.shape=Kv,t.utils={validate:(n,r)=>wr(r,n,!0)===!0,toType:(n,r,i=!1)=>i?qt(n,r):lt(n,r)},e})();function Yv(t={func:()=>{},bool:!0,string:"",number:0,array:()=>[],object:()=>({}),integer:0}){var e,n;return n=e=class extends Gv{static get sensibleDefaults(){return Ji({},this.defaults)}static set sensibleDefaults(r){this.defaults=r!==!1?Ji({},r!==!0?r:t):{}}},e.defaults=Ji({},t),n}class IO extends Yv(){}var Sn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},fp="Expected a function",kc=0/0,Xv="[object Symbol]",Zv=/^\s+|\s+$/g,Qv=/^[-+]0x[0-9a-f]+$/i,e1=/^0b[01]+$/i,t1=/^0o[0-7]+$/i,n1=parseInt,r1=typeof Sn=="object"&&Sn&&Sn.Object===Object&&Sn,i1=typeof self=="object"&&self&&self.Object===Object&&self,o1=r1||i1||Function("return this")(),s1=Object.prototype,a1=s1.toString,l1=Math.max,u1=Math.min,Pa=function(){return o1.Date.now()};function c1(t,e,n){var r,i,o,s,a,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(fp);e=Ec(e)||0,ps(n)&&(c=!!n.leading,f="maxWait"in n,o=f?l1(Ec(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function p(k){var F=r,S=i;return r=i=void 0,u=k,s=t.apply(S,F),s}function h(k){return u=k,a=setTimeout(D,e),c?p(k):s}function m(k){var F=k-l,S=k-u,B=e-F;return f?u1(B,o-S):B}function y(k){var F=k-l,S=k-u;return l===void 0||F>=e||F<0||f&&S>=o}function D(){var k=Pa();if(y(k))return E(k);a=setTimeout(D,m(k))}function E(k){return a=void 0,d&&r?p(k):(r=i=void 0,s)}function M(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function v(){return a===void 0?s:E(Pa())}function O(){var k=Pa(),F=y(k);if(r=arguments,i=this,l=k,F){if(a===void 0)return h(l);if(f)return a=setTimeout(D,e),p(l)}return a===void 0&&(a=setTimeout(D,e)),s}return O.cancel=M,O.flush=v,O}function f1(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(fp);return ps(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),c1(t,e,{leading:r,maxWait:e,trailing:i})}function ps(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function d1(t){return!!t&&typeof t=="object"}function p1(t){return typeof t=="symbol"||d1(t)&&a1.call(t)==Xv}function Ec(t){if(typeof t=="number")return t;if(p1(t))return kc;if(ps(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ps(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Zv,"");var n=e1.test(t);return n||t1.test(t)?n1(t.slice(2),n?2:8):Qv.test(t)?kc:+t}var Ur=f1,wl={exports:{}};(function(t,e){var n=200,r="__lodash_hash_undefined__",i=800,o=16,s=9007199254740991,a="[object Arguments]",l="[object Array]",u="[object AsyncFunction]",c="[object Boolean]",f="[object Date]",d="[object Error]",p="[object Function]",h="[object GeneratorFunction]",m="[object Map]",y="[object Number]",D="[object Null]",E="[object Object]",M="[object Proxy]",v="[object RegExp]",O="[object Set]",k="[object String]",F="[object Undefined]",S="[object WeakMap]",B="[object ArrayBuffer]",L="[object DataView]",z="[object Float32Array]",U="[object Float64Array]",ee="[object Int8Array]",xe="[object Int16Array]",ce="[object Int32Array]",se="[object Uint8Array]",ge="[object Uint8ClampedArray]",ve="[object Uint16Array]",te="[object Uint32Array]",ne=/[\\^$.*+?()[\]{}|]/g,Ve=/^\[object .+?Constructor\]$/,ft=/^(?:0|[1-9]\d*)$/,Z={};Z[z]=Z[U]=Z[ee]=Z[xe]=Z[ce]=Z[se]=Z[ge]=Z[ve]=Z[te]=!0,Z[a]=Z[l]=Z[B]=Z[c]=Z[L]=Z[f]=Z[d]=Z[p]=Z[m]=Z[y]=Z[E]=Z[v]=Z[O]=Z[k]=Z[S]=!1;var dt=typeof Sn=="object"&&Sn&&Sn.Object===Object&&Sn,rt=typeof self=="object"&&self&&self.Object===Object&&self,He=dt||rt||Function("return this")(),en=e&&!e.nodeType&&e,ze=en&&!0&&t&&!t.nodeType&&t,tn=ze&&ze.exports===en,pt=tn&&dt.process,nn=function(){try{var g=ze&&ze.require&&ze.require("util").types;return g||pt&&pt.binding&&pt.binding("util")}catch{}}(),Kn=nn&&nn.isTypedArray;function Jn(g,b,C){switch(C.length){case 0:return g.call(b);case 1:return g.call(b,C[0]);case 2:return g.call(b,C[0],C[1]);case 3:return g.call(b,C[0],C[1],C[2])}return g.apply(b,C)}function Sr(g,b){for(var C=-1,I=Array(g);++C<g;)I[C]=b(C);return I}function _r(g){return function(b){return g(b)}}function Gn(g,b){return g==null?void 0:g[b]}function Yn(g,b){return function(C){return g(b(C))}}var Or=Array.prototype,Tr=Function.prototype,Je=Object.prototype,ht=He["__core-js_shared__"],It=Tr.toString,Fe=Je.hasOwnProperty,gn=function(){var g=/[^.]+$/.exec(ht&&ht.keys&&ht.keys.IE_PROTO||"");return g?"Symbol(src)_1."+g:""}(),Xn=Je.toString,Mr=It.call(Object),Fr=RegExp("^"+It.call(Fe).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rn=tn?He.Buffer:void 0,Eo=He.Symbol,So=He.Uint8Array,_o=rn?rn.allocUnsafe:void 0,Oo=Yn(Object.getPrototypeOf,Object),To=Object.create,w=Je.propertyIsEnumerable,P=Or.splice,R=Eo?Eo.toStringTag:void 0,Y=function(){try{var g=xa(Object,"defineProperty");return g({},"",{}),g}catch{}}(),J=rn?rn.isBuffer:void 0,ke=Math.max,Ge=Date.now,on=xa(He,"Map"),vn=xa(Object,"create"),sn=function(){function g(){}return function(b){if(!Zn(b))return{};if(To)return To(b);g.prototype=b;var C=new g;return g.prototype=void 0,C}}();function Ct(g){var b=-1,C=g==null?0:g.length;for(this.clear();++b<C;){var I=g[b];this.set(I[0],I[1])}}function Br(){this.__data__=vn?vn(null):{},this.size=0}function yn(g){var b=this.has(g)&&delete this.__data__[g];return this.size-=b?1:0,b}function Ca(g){var b=this.__data__;if(vn){var C=b[g];return C===r?void 0:C}return Fe.call(b,g)?b[g]:void 0}function Mi(g){var b=this.__data__;return vn?b[g]!==void 0:Fe.call(b,g)}function Lr(g,b){var C=this.__data__;return this.size+=this.has(g)?0:1,C[g]=vn&&b===void 0?r:b,this}Ct.prototype.clear=Br,Ct.prototype.delete=yn,Ct.prototype.get=Ca,Ct.prototype.has=Mi,Ct.prototype.set=Lr;function an(g){var b=-1,C=g==null?0:g.length;for(this.clear();++b<C;){var I=g[b];this.set(I[0],I[1])}}function Rm(){this.__data__=[],this.size=0}function Vm(g){var b=this.__data__,C=Mo(b,g);if(C<0)return!1;var I=b.length-1;return C==I?b.pop():P.call(b,C,1),--this.size,!0}function Hm(g){var b=this.__data__,C=Mo(b,g);return C<0?void 0:b[C][1]}function zm(g){return Mo(this.__data__,g)>-1}function jm(g,b){var C=this.__data__,I=Mo(C,g);return I<0?(++this.size,C.push([g,b])):C[I][1]=b,this}an.prototype.clear=Rm,an.prototype.delete=Vm,an.prototype.get=Hm,an.prototype.has=zm,an.prototype.set=jm;function Nr(g){var b=-1,C=g==null?0:g.length;for(this.clear();++b<C;){var I=g[b];this.set(I[0],I[1])}}function Wm(){this.size=0,this.__data__={hash:new Ct,map:new(on||an),string:new Ct}}function qm(g){var b=Bo(this,g).delete(g);return this.size-=b?1:0,b}function Um(g){return Bo(this,g).get(g)}function Km(g){return Bo(this,g).has(g)}function Jm(g,b){var C=Bo(this,g),I=C.size;return C.set(g,b),this.size+=C.size==I?0:1,this}Nr.prototype.clear=Wm,Nr.prototype.delete=qm,Nr.prototype.get=Um,Nr.prototype.has=Km,Nr.prototype.set=Jm;function Ir(g){var b=this.__data__=new an(g);this.size=b.size}function Gm(){this.__data__=new an,this.size=0}function Ym(g){var b=this.__data__,C=b.delete(g);return this.size=b.size,C}function Xm(g){return this.__data__.get(g)}function Zm(g){return this.__data__.has(g)}function Qm(g,b){var C=this.__data__;if(C instanceof an){var I=C.__data__;if(!on||I.length<n-1)return I.push([g,b]),this.size=++C.size,this;C=this.__data__=new Nr(I)}return C.set(g,b),this.size=C.size,this}Ir.prototype.clear=Gm,Ir.prototype.delete=Ym,Ir.prototype.get=Xm,Ir.prototype.has=Zm,Ir.prototype.set=Qm;function eg(g,b){var C=Sa(g),I=!C&&Ea(g),X=!C&&!I&&Zu(g),oe=!C&&!I&&!X&&ec(g),ae=C||I||X||oe,G=ae?Sr(g.length,String):[],le=G.length;for(var mt in g)(b||Fe.call(g,mt))&&!(ae&&(mt=="length"||X&&(mt=="offset"||mt=="parent")||oe&&(mt=="buffer"||mt=="byteLength"||mt=="byteOffset")||Yu(mt,le)))&&G.push(mt);return G}function Aa(g,b,C){(C!==void 0&&!Lo(g[b],C)||C===void 0&&!(b in g))&&wa(g,b,C)}function tg(g,b,C){var I=g[b];(!(Fe.call(g,b)&&Lo(I,C))||C===void 0&&!(b in g))&&wa(g,b,C)}function Mo(g,b){for(var C=g.length;C--;)if(Lo(g[C][0],b))return C;return-1}function wa(g,b,C){b=="__proto__"&&Y?Y(g,b,{configurable:!0,enumerable:!0,value:C,writable:!0}):g[b]=C}var ng=mg();function Fo(g){return g==null?g===void 0?F:D:R&&R in Object(g)?gg(g):Ag(g)}function Ju(g){return Fi(g)&&Fo(g)==a}function rg(g){if(!Zn(g)||Dg(g))return!1;var b=Oa(g)?Fr:Ve;return b.test(Eg(g))}function ig(g){return Fi(g)&&Qu(g.length)&&!!Z[Fo(g)]}function og(g){if(!Zn(g))return Cg(g);var b=Xu(g),C=[];for(var I in g)I=="constructor"&&(b||!Fe.call(g,I))||C.push(I);return C}function Gu(g,b,C,I,X){g!==b&&ng(b,function(oe,ae){if(X||(X=new Ir),Zn(oe))sg(g,b,ae,C,Gu,I,X);else{var G=I?I(ka(g,ae),oe,ae+"",g,b,X):void 0;G===void 0&&(G=oe),Aa(g,ae,G)}},tc)}function sg(g,b,C,I,X,oe,ae){var G=ka(g,C),le=ka(b,C),mt=ae.get(le);if(mt){Aa(g,C,mt);return}var it=oe?oe(G,le,C+"",g,b,ae):void 0,Bi=it===void 0;if(Bi){var Ta=Sa(le),Ma=!Ta&&Zu(le),rc=!Ta&&!Ma&&ec(le);it=le,Ta||Ma||rc?Sa(G)?it=G:Sg(G)?it=dg(G):Ma?(Bi=!1,it=ug(le,!0)):rc?(Bi=!1,it=fg(le,!0)):it=[]:_g(le)||Ea(le)?(it=G,Ea(G)?it=Og(G):(!Zn(G)||Oa(G))&&(it=vg(le))):Bi=!1}Bi&&(ae.set(le,it),X(it,le,I,oe,ae),ae.delete(le)),Aa(g,C,it)}function ag(g,b){return xg(wg(g,b,nc),g+"")}var lg=Y?function(g,b){return Y(g,"toString",{configurable:!0,enumerable:!1,value:Mg(b),writable:!0})}:nc;function ug(g,b){if(b)return g.slice();var C=g.length,I=_o?_o(C):new g.constructor(C);return g.copy(I),I}function cg(g){var b=new g.constructor(g.byteLength);return new So(b).set(new So(g)),b}function fg(g,b){var C=b?cg(g.buffer):g.buffer;return new g.constructor(C,g.byteOffset,g.length)}function dg(g,b){var C=-1,I=g.length;for(b||(b=Array(I));++C<I;)b[C]=g[C];return b}function pg(g,b,C,I){var X=!C;C||(C={});for(var oe=-1,ae=b.length;++oe<ae;){var G=b[oe],le=I?I(C[G],g[G],G,C,g):void 0;le===void 0&&(le=g[G]),X?wa(C,G,le):tg(C,G,le)}return C}function hg(g){return ag(function(b,C){var I=-1,X=C.length,oe=X>1?C[X-1]:void 0,ae=X>2?C[2]:void 0;for(oe=g.length>3&&typeof oe=="function"?(X--,oe):void 0,ae&&yg(C[0],C[1],ae)&&(oe=X<3?void 0:oe,X=1),b=Object(b);++I<X;){var G=C[I];G&&g(b,G,I,oe)}return b})}function mg(g){return function(b,C,I){for(var X=-1,oe=Object(b),ae=I(b),G=ae.length;G--;){var le=ae[g?G:++X];if(C(oe[le],le,oe)===!1)break}return b}}function Bo(g,b){var C=g.__data__;return bg(b)?C[typeof b=="string"?"string":"hash"]:C.map}function xa(g,b){var C=Gn(g,b);return rg(C)?C:void 0}function gg(g){var b=Fe.call(g,R),C=g[R];try{g[R]=void 0;var I=!0}catch{}var X=Xn.call(g);return I&&(b?g[R]=C:delete g[R]),X}function vg(g){return typeof g.constructor=="function"&&!Xu(g)?sn(Oo(g)):{}}function Yu(g,b){var C=typeof g;return b=b==null?s:b,!!b&&(C=="number"||C!="symbol"&&ft.test(g))&&g>-1&&g%1==0&&g<b}function yg(g,b,C){if(!Zn(C))return!1;var I=typeof b;return(I=="number"?_a(C)&&Yu(b,C.length):I=="string"&&b in C)?Lo(C[b],g):!1}function bg(g){var b=typeof g;return b=="string"||b=="number"||b=="symbol"||b=="boolean"?g!=="__proto__":g===null}function Dg(g){return!!gn&&gn in g}function Xu(g){var b=g&&g.constructor,C=typeof b=="function"&&b.prototype||Je;return g===C}function Cg(g){var b=[];if(g!=null)for(var C in Object(g))b.push(C);return b}function Ag(g){return Xn.call(g)}function wg(g,b,C){return b=ke(b===void 0?g.length-1:b,0),function(){for(var I=arguments,X=-1,oe=ke(I.length-b,0),ae=Array(oe);++X<oe;)ae[X]=I[b+X];X=-1;for(var G=Array(b+1);++X<b;)G[X]=I[X];return G[b]=C(ae),Jn(g,this,G)}}function ka(g,b){if(!(b==="constructor"&&typeof g[b]=="function")&&b!="__proto__")return g[b]}var xg=kg(lg);function kg(g){var b=0,C=0;return function(){var I=Ge(),X=o-(I-C);if(C=I,X>0){if(++b>=i)return arguments[0]}else b=0;return g.apply(void 0,arguments)}}function Eg(g){if(g!=null){try{return It.call(g)}catch{}try{return g+""}catch{}}return""}function Lo(g,b){return g===b||g!==g&&b!==b}var Ea=Ju(function(){return arguments}())?Ju:function(g){return Fi(g)&&Fe.call(g,"callee")&&!w.call(g,"callee")},Sa=Array.isArray;function _a(g){return g!=null&&Qu(g.length)&&!Oa(g)}function Sg(g){return Fi(g)&&_a(g)}var Zu=J||Fg;function Oa(g){if(!Zn(g))return!1;var b=Fo(g);return b==p||b==h||b==u||b==M}function Qu(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=s}function Zn(g){var b=typeof g;return g!=null&&(b=="object"||b=="function")}function Fi(g){return g!=null&&typeof g=="object"}function _g(g){if(!Fi(g)||Fo(g)!=E)return!1;var b=Oo(g);if(b===null)return!0;var C=Fe.call(b,"constructor")&&b.constructor;return typeof C=="function"&&C instanceof C&&It.call(C)==Mr}var ec=Kn?_r(Kn):ig;function Og(g){return pg(g,tc(g))}function tc(g){return _a(g)?eg(g,!0):og(g)}var Tg=hg(function(g,b,C){Gu(g,b,C)});function Mg(g){return function(){return g}}function nc(g){return g}function Fg(){return!1}t.exports=Tg})(wl,wl.exports);var h1=wl.exports;function Be(t){this.content=t}Be.prototype={constructor:Be,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new Be(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Be(n)},addToStart:function(t,e){return new Be([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Be(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new Be(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Be.from(t),t.size?new Be(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Be.from(t),t.size?new Be(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Be.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}};Be.from=function(t){if(t instanceof Be)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Be(e)};function dp(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=dp(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function pp(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),a=e.child(--o),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let u=0,c=Math.min(s.text.length,a.text.length);for(;u<c&&s.text[s.text.length-u-1]==a.text[a.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let u=pp(s.content,a.content,n-1,r-1);if(u)return u}n-=l,r-=l}}class _{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,a=0;a<n;s++){let l=this.content[s],u=a+l.nodeSize;if(u>e&&r(l,i+a,o||null,s)!==!1&&l.content.size){let c=a+1;l.nodesBetween(Math.max(0,e-c),Math.min(l.content.size,n-c),r,i+c)}a=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(a,l)=>{a.isText?(o+=a.text.slice(Math.max(e,l)-l,n-l),s=!r):a.isLeaf?(i?o+=typeof i=="function"?i(a):i:a.type.spec.leafText&&(o+=a.type.spec.leafText(a)),s=!r):!s&&a.isBlock&&(o+=r,s=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new _(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),i+=a.nodeSize),s=l}return new _(r,i)}cutByIndex(e,n){return e==n?_.empty:e==0&&n==this.content.length?this:new _(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new _(i,o)}addToStart(e){return new _([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new _(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return dp(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return pp(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Po(0,e);if(e==this.size)return Po(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?Po(r+1,s):Po(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return _.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new _(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return _.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new _(n||e,r)}static from(e){if(!e)return _.empty;if(e instanceof _)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new _([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}_.empty=new _([],0);const Ra={index:0,offset:0};function Po(t,e){return Ra.index=t,Ra.offset=e,Ra}function hs(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!hs(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!hs(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class re{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&hs(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return re.none;if(e instanceof re)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}re.none=[];class lo extends Error{}class N{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=mp(this.content,e+this.openStart,n);return r&&new N(r,this.openStart,this.openEnd)}removeBetween(e,n){return new N(hp(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return N.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new N(_.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new N(e,r,i)}}N.empty=new N(_.empty,0,0);function hp(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(i==e||o.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(hp(o.content,e-i-1,n-i-1)))}function mp(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=mp(s.content,e-o-1,n);return a&&t.replaceChild(i,s.copy(a))}function m1(t,e,n){if(n.openStart>t.depth)throw new lo("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new lo("Inconsistent open depths");return gp(t,e,n,0)}function gp(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=gp(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,a=s.content;return dr(s,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=g1(n,t);return dr(o,yp(t,s,a,e,r))}else return dr(o,ms(t,e,r))}function vp(t,e){if(!e.type.compatibleContent(t.type))throw new lo("Cannot join "+e.type.name+" onto "+t.type.name)}function xl(t,e,n){let r=t.node(n);return vp(r,e.node(n)),r}function fr(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Gi(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(fr(t.nodeAfter,r),o++));for(let a=o;a<s;a++)fr(i.child(a),r);e&&e.depth==n&&e.textOffset&&fr(e.nodeBefore,r)}function dr(t,e){if(!t.type.validContent(e))throw new lo("Invalid content for node "+t.type.name);return t.copy(e)}function yp(t,e,n,r,i){let o=t.depth>i&&xl(t,e,i+1),s=r.depth>i&&xl(n,r,i+1),a=[];return Gi(null,t,i,a),o&&s&&e.index(i)==n.index(i)?(vp(o,s),fr(dr(o,yp(t,e,n,r,i+1)),a)):(o&&fr(dr(o,ms(t,e,i+1)),a),Gi(e,n,i,a),s&&fr(dr(s,ms(n,r,i+1)),a)),Gi(r,null,i,a),new _(a)}function ms(t,e,n){let r=[];if(Gi(null,t,n,r),t.depth>n){let i=xl(t,e,n+1);fr(dr(i,ms(t,e,n+1)),r)}return Gi(e,null,n,r),new _(r)}function g1(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(_.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class uo{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return re.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new gs(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),u=o-l;if(r.push(s,a,i+l),!u||(s=s.child(a),s.isText))break;o=u-1,i+=l+1}return new uo(n,r,o)}static resolveCached(e,n){for(let i=0;i<Va.length;i++){let o=Va[i];if(o.pos==n&&o.doc==e)return o}let r=Va[Ha]=uo.resolve(e,n);return Ha=(Ha+1)%v1,r}}let Va=[],Ha=0,v1=12;class gs{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const y1=Object.create(null);class Ut{constructor(e,n,r,i=re.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||_.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&hs(this.attrs,n||e.defaultAttrs||y1)&&re.sameSet(this.marks,r||re.none)}copy(e=null){return e==this.content?this:new Ut(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ut(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return N.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),a=i.start(s),u=i.node(s).content.cut(i.pos-a,o.pos-a);return new N(u,i.depth-s,o.depth-s)}replace(e,n,r){return m1(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return uo.resolveCached(this,e)}resolveNoCache(e){return uo.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),bp(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=_.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let e=re.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!re.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=_.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}}Ut.prototype.text=void 0;class vs extends Ut{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):bp(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new vs(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new vs(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function bp(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class yr{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new b1(e,n);if(r.next==null)return yr.empty;let i=Dp(r);r.next&&r.err("Unexpected trailing text");let o=E1(k1(i));return S1(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(e,r);if(l&&(!n||l.validEnd))return _.from(a.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:c,next:f}=s.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=o(f,a.concat(c));if(d)return d}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}yr.empty=new yr(!0);class b1{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Dp(t){let e=[];do e.push(D1(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function D1(t){let e=[];do e.push(C1(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function C1(t){let e=x1(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=A1(t,e);else break;return e}function Sc(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function A1(t,e){let n=Sc(t),r=n;return t.eat(",")&&(t.next!="}"?r=Sc(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function w1(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function x1(t){if(t.eat("(")){let e=Dp(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=w1(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function k1(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,l){let u={term:l,to:a};return e[s].push(u),u}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,u)=>l.concat(o(u,a)),[]);if(s.type=="seq")for(let l=0;;l++){let u=o(s.exprs[l],a);if(l==s.exprs.length-1)return u;i(u,a=n())}else if(s.type=="star"){let l=n();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let u=0;u<s.min;u++){let c=n();i(o(s.expr,l),c),l=c}if(s.max==-1)i(o(s.expr,l),l);else for(let u=s.min;u<s.max;u++){let c=n();r(l,c),i(o(s.expr,l),c),l=c}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function Cp(t,e){return e-t}function _c(t,e){let n=[];return r(e),n.sort(Cp);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&n.indexOf(l)==-1&&r(l)}}}function E1(t){let e=Object.create(null);return n(_c(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let c=0;c<i.length;c++)i[c][0]==a&&(u=i[c][1]);_c(t,l).forEach(c=>{u||i.push([a,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[r.join(",")]=new yr(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(Cp);o.next.push({type:i[s][0],next:e[a.join(",")]||n(a)})}return o}}function S1(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:u}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(u)==-1&&r.push(u)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function Ap(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function wp(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function xp(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new _1(t[n]);return e}class ys{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=xp(r.attrs),this.defaultAttrs=Ap(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==yr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:wp(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ut(this,this.computeAttrs(e),_.from(n),re.setFrom(r))}createChecked(e=null,n,r){if(n=_.from(n),!this.validContent(n))throw new RangeError("Invalid content for node "+this.name);return new Ut(this,this.computeAttrs(e),n,re.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=_.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(_.empty,!0);return o?new Ut(this,e,n.append(o),re.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:re.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new ys(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}class _1{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class ra{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=xp(i.attrs),this.excluded=null;let o=Ap(this.attrs);this.instance=o?new re(this,o):null}create(e=null){return!e&&this.instance?this.instance:new re(this,wp(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new ra(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class O1{constructor(e){this.cached=Object.create(null),this.spec={nodes:Be.from(e.nodes),marks:Be.from(e.marks||{}),topNode:e.topNode},this.nodes=ys.compile(this.spec.nodes,this),this.marks=ra.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let i=this.nodes[r],o=i.spec.content||"",s=i.spec.marks;i.contentMatch=n[o]||(n[o]=yr.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet=s=="_"?null:s?Oc(this,s.split(" ")):s==""||!i.inlineContent?[]:null}for(let r in this.marks){let i=this.marks[r],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:Oc(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof ys){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new vs(r,r.defaultAttrs,e,re.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Ut.fromJSON(this,e)}markFromJSON(e){return re.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Oc(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class pi{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new Mc(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Mc(this,n,!0);return r.addAll(e,n.from,n.to),N.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(F1(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Fc(s)),s.mark=i})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Fc(s)),s.node=i})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new pi(e,pi.schemaRules(e)))}}const kp={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},T1={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Ep={ol:!0,ul:!0},bs=1,Ds=2,Yi=4;function Tc(t,e,n){return e!=null?(e?bs:0)|(e==="full"?Ds:0):t&&t.whitespace=="pre"?bs|Ds:n&~Yi}class Ro{constructor(e,n,r,i,o,s,a){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=a,this.content=[],this.activeMarks=re.none,this.stashMarks=[],this.match=s||(a&Yi?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(_.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&bs)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=_.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(_.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):L1(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!kp.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Mc{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=Tc(null,n.preserveWhitespace,0)|(r?Yi:0);i?o=new Ro(i.type,i.attrs,re.none,re.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new Ro(null,null,re.none,re.none,!0,null,s):o=new Ro(e.schema.topNodeType,null,re.none,re.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let n=e.getAttribute("style"),r=n?this.readStyles(B1(n)):null,i=this.top;if(r!=null)for(let o=0;o<r.length;o++)this.addPendingMark(r[o]);if(this.addElement(e),r!=null)for(let o=0;o<r.length;o++)this.removePendingMark(r[o],i)}}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&Ds||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&bs)r.options&Ds?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;Ep.hasOwnProperty(r)&&this.parser.normalizeLists&&M1(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:T1.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let s,a=this.top,l=this.needsBlock;if(kp.hasOwnProperty(r))s=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),s&&this.sync(a),this.needsBlock=l}else this.addElementByRule(e,o,o.consuming===!1?i:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=re.none;e:for(let r=0;r<e.length;r+=2)for(let i=void 0;;){let o=this.parser.matchStyle(e[r],e[r+1],this,i);if(!o)continue e;if(o.ignore)return null;if(n=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(n),o.consuming===!1)i=o;else break}return n}addElementByRule(e,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l)}i&&this.sync(a)&&this.open--,s&&this.removePendingMark(s,a)}addAll(e,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=r==null?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=Tc(e,i,o.options);o.options&Yi&&o.content.length==0&&(s|=Yi),this.nodes.push(new Ro(e,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let u=n[a];if(u==""){if(a==n.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=N1(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let s=i.popFromStashMark(e);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==n)break}}}function M1(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Ep.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function F1(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function B1(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function Fc(t){let e={};for(let n in t)e[n]=t[n];return e}function L1(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:c}=a.edge(l);if(u==e||o.indexOf(c)<0&&s(c))return!0}};if(s(i.contentMatch))return!0}}function N1(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class jt{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=za(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let u=s.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(o[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let u=s.marks[l++],c=this.serializeMark(u,s.isInline,n);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=jt.renderSpec(za(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&jt.renderSpec(za(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,a=r?e.createElementNS(r,i):e.createElement(i),l=n[1],u=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){u=2;for(let c in l)if(l[c]!=null){let f=c.indexOf(" ");f>0?a.setAttributeNS(c.slice(0,f),c.slice(f+1),l[c]):a.setAttribute(c,l[c])}}for(let c=u;c<n.length;c++){let f=n[c];if(f===0){if(c<n.length-1||c>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:d,contentDOM:p}=jt.renderSpec(e,f,r);if(a.appendChild(d),p){if(s)throw new RangeError("Multiple content holes");s=p}}}return{dom:a,contentDOM:s}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new jt(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Bc(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return Bc(e.marks)}}function Bc(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function za(t){return t.document||window.document}const Sp=65535,_p=Math.pow(2,16);function I1(t,e){return t+e*_p}function Lc(t){return t&Sp}function $1(t){return(t-(t&Sp))/_p}const Op=1,Tp=2,Zo=4,Mp=8;class kl{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&Mp)>0}get deletedBefore(){return(this.delInfo&(Op|Zo))>0}get deletedAfter(){return(this.delInfo&(Tp|Zo))>0}get deletedAcross(){return(this.delInfo&Zo)>0}}class Et{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Et.empty)return Et.empty}recover(e){let n=0,r=Lc(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+$1(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[a+o],c=this.ranges[a+s],f=l+u;if(e<=f){let d=u?e==l?-1:e==f?1:n:n,p=l+i+(d<0?0:c);if(r)return p;let h=e==(n<0?l:f)?null:I1(a/3,e-l),m=e==l?Tp:e==f?Op:Zo;return(n<0?e!=l:e!=f)&&(m|=Mp),new kl(p,m,h)}i+=c-u}return r?e+i:new kl(e+i,0,null)}touches(e,n){let r=0,i=Lc(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let u=this.ranges[a+o],c=l+u;if(e<=c&&a==i*3)return!0;r+=this.ranges[a+s]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),u=this.ranges[i+n],c=this.ranges[i+r];e(a,a+u,l,l+c),o+=c-u}}invert(){return new Et(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Et.empty:new Et(e<0?[0,-e,0]:[0,0,e])}}Et.empty=new Et([]);class ri{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new ri(this.maps,this.mirror,e,n)}copy(){return new ri(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new ri;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new kl(e,i,null)}}const ja=Object.create(null);class jn{getMap(){return Et.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=ja[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in ja)throw new RangeError("Duplicate use of step JSON ID "+e);return ja[e]=n,n.prototype.jsonID=e,n}}class at{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new at(e,null)}static fail(e){return new at(null,e)}static fromReplace(e,n,r,i){try{return at.ok(e.replace(n,r,i))}catch(o){if(o instanceof lo)return at.fail(o.message);throw o}}}function uu(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(uu(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return _.fromArray(r)}class _n extends jn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new N(uu(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return at.fromReplace(e,this.from,this.to,o)}invert(){return new Wt(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new _n(n.pos,r.pos,this.mark)}merge(e){return e instanceof _n&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new _n(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new _n(n.from,n.to,e.markFromJSON(n.mark))}}jn.jsonID("addMark",_n);class Wt extends jn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new N(uu(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return at.fromReplace(e,this.from,this.to,r)}invert(){return new _n(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Wt(n.pos,r.pos,this.mark)}merge(e){return e instanceof Wt&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Wt(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Wt(n.from,n.to,e.markFromJSON(n.mark))}}jn.jsonID("removeMark",Wt);class Pe extends jn{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&El(e,this.from,this.to)?at.fail("Structure replace would overwrite content"):at.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Et([this.from,this.to-this.from,this.slice.size])}invert(e){return new Pe(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Pe(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Pe)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?N.empty:new N(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Pe(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?N.empty:new N(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Pe(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Pe(n.from,n.to,N.fromJSON(e,n.slice),!!n.structure)}}jn.jsonID("replace",Pe);class Oe extends jn{constructor(e,n,r,i,o,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(El(e,this.from,this.gapFrom)||El(e,this.gapTo,this.to)))return at.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return at.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?at.fromReplace(e,this.from,this.to,r):at.fail("Content does not fit in gap")}getMap(){return new Et([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Oe(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Oe(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Oe(n.from,n.to,n.gapFrom,n.gapTo,N.fromJSON(e,n.slice),n.insert,!!n.structure)}}jn.jsonID("replaceAround",Oe);function El(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function P1(t,e,n,r){let i=[],o=[],s,a;t.doc.nodesBetween(e,n,(l,u,c)=>{if(!l.isInline)return;let f=l.marks;if(!r.isInSet(f)&&c.type.allowsMarkType(r.type)){let d=Math.max(u,e),p=Math.min(u+l.nodeSize,n),h=r.addToSet(f);for(let m=0;m<f.length;m++)f[m].isInSet(h)||(s&&s.to==d&&s.mark.eq(f[m])?s.to=p:i.push(s=new Wt(d,p,f[m])));a&&a.to==d?a.to=p:o.push(a=new _n(d,p,r))}}),i.forEach(l=>t.step(l)),o.forEach(l=>t.step(l))}function R1(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof ra){let u=s.marks,c;for(;c=r.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let u=Math.min(a+s.nodeSize,n);for(let c=0;c<l.length;c++){let f=l[c],d;for(let p=0;p<i.length;p++){let h=i[p];h.step==o-1&&f.eq(i[p].style)&&(d=h)}d?(d.to=u,d.step=o):i.push({style:f,from:Math.max(a,e),to:u,step:o})}}}),i.forEach(s=>t.step(new Wt(s.from,s.to,s.style)))}function V1(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),o=[],s=e+1;for(let a=0;a<i.childCount;a++){let l=i.child(a),u=s+l.nodeSize,c=r.matchType(l.type);if(!c)o.push(new Pe(s,u,N.empty));else{r=c;for(let f=0;f<l.marks.length;f++)n.allowsMarkType(l.marks[f].type)||t.step(new Wt(s,u,l.marks[f]))}s=u}if(!r.validEnd){let a=r.fillBefore(_.empty,!0);t.replace(s,s,new N(a,0,0))}for(let a=o.length-1;a>=0;a--)t.step(o[a])}function H1(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Oi(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!H1(i,o,s))break}return null}function z1(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),a=i.after(o+1),l=s,u=a,c=_.empty,f=0;for(let h=o,m=!1;h>n;h--)m||r.index(h)>0?(m=!0,c=_.from(r.node(h).copy(c)),f++):l--;let d=_.empty,p=0;for(let h=o,m=!1;h>n;h--)m||i.after(h+1)<i.end(h)?(m=!0,d=_.from(i.node(h).copy(d)),p++):u++;t.step(new Oe(l,u,s,a,new N(c.append(d),f,p),c.size-f,!0))}function cu(t,e,n=null,r=t){let i=j1(t,e),o=i&&W1(r,e);return o?i.map(Nc).concat({type:e,attrs:n}).concat(o.map(Nc)):null}function Nc(t){return{type:t,attrs:null}}function j1(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function W1(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let u=r;l&&u<i;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:s}function q1(t,e,n){let r=_.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=_.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new Oe(i,o,i,o,new N(r,0,0),n.length,!0))}function U1(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,a)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&K1(t.doc,t.mapping.slice(o).map(a),r)){t.clearIncompatible(t.mapping.slice(o).map(a,1),r);let l=t.mapping.slice(o),u=l.map(a,1),c=l.map(a+s.nodeSize,1);return t.step(new Oe(u,c,u+1,c-1,new N(_.from(r.create(i,null,s.marks)),0,0),1,!0)),!1}})}function K1(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function J1(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Oe(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new N(_.from(s),0,0),1,!0))}function ii(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>o;u--,c--){let f=i.node(u),d=i.index(u);if(f.type.spec.isolating)return!1;let p=f.content.cutByIndex(d,f.childCount),h=r&&r[c]||f;if(h!=f&&(p=p.replaceChild(0,h.type.create(h.attrs))),!f.canReplace(d+1,f.childCount)||!h.type.validContent(p))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function G1(t,e,n=1,r){let i=t.doc.resolve(e),o=_.empty,s=_.empty;for(let a=i.depth,l=i.depth-n,u=n-1;a>l;a--,u--){o=_.from(i.node(a).copy(o));let c=r&&r[u];s=_.from(c?c.type.create(c.attrs,s):i.node(a).copy(s))}t.step(new Pe(e,e,new N(o.append(s),n,n),!0))}function Co(t,e){let n=t.resolve(e),r=n.index();return Y1(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Y1(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function X1(t,e,n){let r=new Pe(e-n,e+n,N.empty,!0);t.step(r)}function Z1(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function Fp(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),u=r.node(s),c=!1;if(o==1)c=u.canReplace(l,l,i);else{let f=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=f&&u.canReplaceWith(l,l,f[0])}if(c)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function fu(t,e,n=e,r=N.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return Bp(i,o,r)?new Pe(e,n,r):new Q1(i,o,r).fit()}function Bp(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class Q1{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=_.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=_.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new N(o,s,a);return e>-1?new Oe(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Pe(r.pos,i.pos,l):null}findFittable(){for(let e=1;e<=2;e++)for(let n=this.unplaced.openStart;n>=0;n--){let r,i=null;n?(i=Wa(this.unplaced.content,n-1).firstChild,r=i.content):r=this.unplaced.content;let o=r.firstChild;for(let s=this.depth;s>=0;s--){let{type:a,match:l}=this.frontier[s],u,c=null;if(e==1&&(o?l.matchType(o.type)||(c=l.fillBefore(_.from(o),!1)):i&&a.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:s,parent:i,inject:c};if(e==2&&o&&(u=l.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:s,parent:i,wrap:u};if(i&&l.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Wa(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new N(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Wa(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new N(zi(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new N(zi(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let m=0;m<o.length;m++)this.openFrontierNode(o[m]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,u=0,c=[],{match:f,type:d}=this.frontier[n];if(i){for(let m=0;m<i.childCount;m++)c.push(i.child(m));f=f.matchFragment(i)}let p=a.size+e-(s.content.size-s.openEnd);for(;u<a.childCount;){let m=a.child(u),y=f.matchType(m.type);if(!y)break;u++,(u>1||l==0||m.content.size)&&(f=y,c.push(Lp(m.mark(d.allowedMarks(m.marks)),u==1?l:0,u==a.childCount?p:-1)))}let h=u==a.childCount;h||(p=-1),this.placed=ji(this.placed,n,_.from(c)),this.frontier[n].match=f,h&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let m=0,y=a;m<p;m++){let D=y.lastChild;this.frontier.push({type:D.type,match:D.contentMatchAt(D.childCount)}),y=D.content}this.unplaced=h?e==0?N.empty:new N(zi(s.content,e-1,1),e-1,p<0?s.openEnd:e-1):new N(zi(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!qa(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=qa(e,n,i,r,o);if(!!s){for(let a=n-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],c=qa(e,a,u,l,!0);if(!c||c.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ji(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=ji(this.placed,this.depth,_.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(_.empty,!0);n.childCount&&(this.placed=ji(this.placed,this.frontier.length,n))}}function zi(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(zi(t.firstChild.content,e-1,n)))}function ji(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ji(t.lastChild.content,e-1,n)))}function Wa(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function Lp(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,Lp(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(_.empty,!0)))),t.copy(r)}function qa(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!ey(n,o.content,s)?a:null}function ey(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function ty(t){return t.spec.defining||t.spec.definingForContent}function ny(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(Bp(i,o,r))return t.step(new Pe(e,n,r));let s=Ip(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let d=i.depth,p=i.pos-1;d>0;d--,p--){let h=i.node(d).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;s.indexOf(d)>-1?a=d:i.before(d)==p&&s.splice(1,0,-d)}let l=s.indexOf(a),u=[],c=r.openStart;for(let d=r.content,p=0;;p++){let h=d.firstChild;if(u.push(h),p==r.openStart)break;d=h.content}for(let d=c-1;d>=0;d--){let p=u[d].type,h=ty(p);if(h&&i.node(l).type!=p)c=d;else if(h||!p.isTextblock)break}for(let d=r.openStart;d>=0;d--){let p=(d+c+1)%(r.openStart+1),h=u[p];if(!!h)for(let m=0;m<s.length;m++){let y=s[(m+l)%s.length],D=!0;y<0&&(D=!1,y=-y);let E=i.node(y-1),M=i.index(y-1);if(E.canReplaceWith(M,M,h.type,h.marks))return t.replace(i.before(y),D?o.after(y):n,new N(Np(r.content,0,r.openStart,p),p,r.openEnd))}}let f=t.steps.length;for(let d=s.length-1;d>=0&&(t.replace(e,n,r),!(t.steps.length>f));d--){let p=s[d];p<0||(e=i.before(p),n=o.after(p))}}function Np(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(Np(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(_.empty,!0))}return t}function ry(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=Z1(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new N(_.from(r),0,0))}function iy(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=Ip(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}function Ip(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}let hi=class extends Error{};hi=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};hi.prototype=Object.create(Error.prototype);hi.prototype.constructor=hi;hi.prototype.name="TransformError";class $p{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ri}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new hi(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=N.empty){let i=fu(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new N(_.from(r),0,0))}delete(e,n){return this.replace(e,n,N.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return ny(this,e,n,r),this}replaceRangeWith(e,n,r){return ry(this,e,n,r),this}deleteRange(e,n){return iy(this,e,n),this}lift(e,n){return z1(this,e,n),this}join(e,n=1){return X1(this,e,n),this}wrap(e,n){return q1(this,e,n),this}setBlockType(e,n=e,r,i=null){return U1(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i=[]){return J1(this,e,n,r,i),this}split(e,n=1,r){return G1(this,e,n,r),this}addMark(e,n,r){return P1(this,e,n,r),this}removeMark(e,n,r){return R1(this,e,n,r),this}clearIncompatible(e,n,r){return V1(this,e,n,r),this}}const Ua=Object.create(null);class W{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new oy(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=N.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:u}=s[a],c=e.mapping.slice(o);e.replaceRange(c.map(l.pos),c.map(u.pos),a?N.empty:n),a==0&&Pc(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(r),u=l.map(s.pos),c=l.map(a.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),Pc(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new j(e):Vr(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?Vr(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):Vr(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Mt(e.node(0))}static atStart(e){return Vr(e,e,0,0,1)||new Mt(e)}static atEnd(e){return Vr(e,e,e.content.size,e.childCount,-1)||new Mt(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Ua[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Ua)throw new RangeError("Duplicate use of selection JSON ID "+e);return Ua[e]=n,n.prototype.jsonID=e,n}getBookmark(){return j.between(this.$anchor,this.$head).getBookmark()}}W.prototype.visible=!0;class oy{constructor(e,n){this.$from=e,this.$to=n}}let Ic=!1;function $c(t){!Ic&&!t.parent.inlineContent&&(Ic=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class j extends W{constructor(e,n=e){$c(e),$c(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return W.near(r);let i=e.resolve(n.map(this.anchor));return new j(i.parent.inlineContent?i:r,r)}replace(e,n=N.empty){if(super.replace(e,n),n==N.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof j&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new ia(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new j(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=W.findFrom(n,r,!0)||W.findFrom(n,-r,!0);if(o)n=o.$head;else return W.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(W.findFrom(e,-r,!0)||W.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new j(e,n)}}W.jsonID("text",j);class ia{constructor(e,n){this.anchor=e,this.head=n}map(e){return new ia(e.map(this.anchor),e.map(this.head))}resolve(e){return j.between(e.resolve(this.anchor),e.resolve(this.head))}}class H extends W{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?W.near(o):new H(o)}content(){return new N(_.from(this.node),0,0)}eq(e){return e instanceof H&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new du(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new H(e.resolve(n.anchor))}static create(e,n){return new H(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}H.prototype.visible=!1;W.jsonID("node",H);class du{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new ia(r,r):new du(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&H.isSelectable(r)?new H(n):W.near(n)}}class Mt extends W{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=N.empty){if(n==N.empty){e.delete(0,e.doc.content.size);let r=W.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Mt(e)}map(e){return new Mt(e)}eq(e){return e instanceof Mt}getBookmark(){return sy}}W.jsonID("all",Mt);const sy={map(){return this},resolve(t){return new Mt(t)}};function Vr(t,e,n,r,i,o=!1){if(e.inlineContent)return j.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&H.isSelectable(a))return H.create(t,n-(i<0?a.nodeSize:0))}else{let l=Vr(t,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i}return null}function Pc(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Pe||i instanceof Oe))return;let o=t.mapping.maps[r],s;o.forEach((a,l,u,c)=>{s==null&&(s=c)}),t.setSelection(W.near(t.doc.resolve(s),n))}const Rc=1,Vo=2,Vc=4;class ay extends $p{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Rc)&~Vo,this.storedMarks=null,this}get selectionSet(){return(this.updated&Rc)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Vo,this}ensureMarks(e){return re.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Vo)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Vo,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||re.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r==null?n:r,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(W.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Vc,this}get scrolledIntoView(){return(this.updated&Vc)>0}}function Hc(t,e){return!e||!t?t:t.bind(e)}class Wi{constructor(e,n,r){this.name=e,this.init=Hc(n.init,r),this.apply=Hc(n.apply,r)}}const ly=[new Wi("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Wi("selection",{init(t,e){return t.selection||W.atStart(e.doc)},apply(t){return t.selection}}),new Wi("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Wi("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Ka{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=ly.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Wi(r.key,r.spec.state,r))})}}class Kr{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,u=i?i[s].state:this,c=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,u,r);if(c&&r.filterTransaction(c,s)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<s?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Kr(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new ay(this)}static create(e){let n=new Ka(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Kr(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Ka(this.schema,e.plugins),r=n.fields,i=new Kr(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Ka(e.schema,e.plugins),o=new Kr(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=Ut.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=W.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],u=l.spec.state;if(l.key==s.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){o[s.name]=u.fromJSON.call(l,e,n[a],o);return}}o[s.name]=s.init(e,o)}}),o}}function Pp(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=Pp(i,e,{})),n[r]=i}return n}class we{constructor(e){this.spec=e,this.props={},e.props&&Pp(e.props,this,this.props),this.key=e.key?e.key.key:Rp("plugin")}getState(e){return e[this.key]}}const Ja=Object.create(null);function Rp(t){return t in Ja?t+"$"+ ++Ja[t]:(Ja[t]=0,t+"$")}class nt{constructor(e="key"){this.key=Rp(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Sl=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0),uy=(t,e,n)=>{let{$cursor:r}=t.selection;if(!r||(n?!n.endOfTextblock("backward",t):r.parentOffset>0))return!1;let i=Vp(r);if(!i){let s=r.blockRange(),a=s&&Oi(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&jp(t,i,e))return!0;if(r.parent.content.size==0&&(mi(o,"end")||H.isSelectable(o))){let s=fu(t.doc,r.before(),r.after(),N.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(mi(o,"end")?W.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):H.create(a.doc,i.pos-o.nodeSize)),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function mi(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const cy=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=Vp(r)}let s=o&&o.nodeBefore;return!s||!H.isSelectable(s)?!1:(e&&e(t.tr.setSelection(H.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function Vp(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}const fy=(t,e,n)=>{let{$cursor:r}=t.selection;if(!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size))return!1;let i=Hp(r);if(!i)return!1;let o=i.nodeAfter;if(jp(t,i,e))return!0;if(r.parent.content.size==0&&(mi(o,"start")||H.isSelectable(o))){let s=fu(t.doc,r.before(),r.after(),N.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(mi(o,"start")?W.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):H.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},dy=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=Hp(r)}let s=o&&o.nodeAfter;return!s||!H.isSelectable(s)?!1:(e&&e(t.tr.setSelection(H.create(t.doc,o.pos)).scrollIntoView()),!0)};function Hp(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const py=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&Oi(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},hy=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function zp(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const my=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=zp(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,s.createAndFill());l.setSelection(W.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},gy=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Mt||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=zp(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(s,o.createAndFill());a.setSelection(j.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},vy=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(ii(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Oi(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},yy=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(H.create(t.doc,i))),!0)};function by(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||Co(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function jp(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o,s;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(by(t,e,n))return!0;let a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let f=e.pos+i.nodeSize,d=_.empty;for(let m=o.length-1;m>=0;m--)d=_.from(o[m].create(null,d));d=_.from(r.copy(d));let p=t.tr.step(new Oe(e.pos-1,f,e.pos,f,new N(d,1,0),o.length,!0)),h=f+2*o.length;Co(p.doc,h)&&p.join(h),n(p.scrollIntoView())}return!0}let l=W.findFrom(e,1),u=l&&l.$from.blockRange(l.$to),c=u&&Oi(u);if(c!=null&&c>=e.depth)return n&&n(t.tr.lift(u,c).scrollIntoView()),!0;if(a&&mi(i,"start",!0)&&mi(r,"end")){let f=r,d=[];for(;d.push(f),!f.isTextblock;)f=f.lastChild;let p=i,h=1;for(;!p.isTextblock;p=p.firstChild)h++;if(f.canReplace(f.childCount,f.childCount,p.content)){if(n){let m=_.empty;for(let D=d.length-1;D>=0;D--)m=_.from(d[D].copy(m));let y=t.tr.step(new Oe(e.pos-d.length,e.pos+i.nodeSize,e.pos+h,e.pos+i.nodeSize-h,new N(m,d.length,0),0,!0));n(y.scrollIntoView())}return!0}}return!1}function Wp(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(j.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const Dy=Wp(-1),Cy=Wp(1);function Ay(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=s&&cu(s,t,e);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function zc(t,e=null){return function(n,r){let{from:i,to:o}=n.selection,s=!1;return n.doc.nodesBetween(i,o,(a,l)=>{if(s)return!1;if(!(!a.isTextblock||a.hasMarkup(t,e)))if(a.type==t)s=!0;else{let u=n.doc.resolve(l),c=u.index();s=u.parent.canReplaceWith(c,c+1,t)}}),s?(r&&r(n.tr.setBlockType(i,o,t,e).scrollIntoView()),!0):!1}}typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform&&os.platform()=="darwin";function wy(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=!1,l=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let c=n.doc.resolve(s.start-2);l=new gs(c,c,s.depth),s.endIndex<s.parent.childCount&&(s=new gs(i,n.doc.resolve(o.end(s.depth)),s.depth)),a=!0}let u=cu(l,t,e,s);return u?(r&&r(xy(n.tr,s,u,a,t).scrollIntoView()),!0):!1}}function xy(t,e,n,r,i){let o=_.empty;for(let c=n.length-1;c>=0;c--)o=_.from(n[c].type.create(n[c].attrs,o));t.step(new Oe(e.start-(r?2:0),e.end,e.start,e.end,new N(o,0,0),n.length,!0));let s=0;for(let c=0;c<n.length;c++)n[c].type==i&&(s=c+1);let a=n.length-s,l=e.start+n.length-(r?2:0),u=e.parent;for(let c=e.startIndex,f=e.endIndex,d=!0;c<f;c++,d=!1)!d&&ii(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=u.child(c).nodeSize;return t}function ky(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?Ey(e,n,t,o):Sy(e,n,o):!0:!1}}function Ey(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);return o<s&&(i.step(new Oe(o-1,s,o,s,new N(_.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new gs(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth)),e(i.lift(r,Oi(r)).scrollIntoView()),!0}function Sy(t,e,n){let r=t.tr,i=n.parent;for(let p=n.end,h=n.endIndex-1,m=n.startIndex;h>m;h--)p-=i.child(h).nodeSize,r.delete(p-1,p+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,u=o.node(-1),c=o.index(-1);if(!u.canReplace(c+(a?0:1),c+1,s.content.append(l?_.empty:_.from(i))))return!1;let f=o.pos,d=f+s.nodeSize;return r.step(new Oe(f-(a?1:0),d+(l?1:0),f+1,d-1,new N((a?_.empty:_.from(i.copy(_.empty))).append(l?_.empty:_.from(i.copy(_.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function _y(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=t)return!1;if(n){let u=l.lastChild&&l.lastChild.type==a.type,c=_.from(u?t.create():null),f=new N(_.from(t.create(null,_.from(a.type.create(null,c)))),u?3:1,0),d=o.start,p=o.end;n(e.tr.step(new Oe(d-(u?3:1),p,d,p,f,1,!0)).scrollIntoView())}return!0}}const $n=typeof navigator!="undefined"?navigator:null,jc=typeof document!="undefined"?document:null,Wn=$n&&$n.userAgent||"",_l=/Edge\/(\d+)/.exec(Wn),qp=/MSIE \d/.exec(Wn),Ol=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Wn),ut=!!(qp||Ol||_l),Bn=qp?document.documentMode:Ol?+Ol[1]:_l?+_l[1]:0,Xt=!ut&&/gecko\/(\d+)/i.test(Wn);Xt&&+(/Firefox\/(\d+)/.exec(Wn)||[0,0])[1];const Tl=!ut&&/Chrome\/(\d+)/.exec(Wn),qe=!!Tl,Oy=Tl?+Tl[1]:0,et=!ut&&!!$n&&/Apple Computer/.test($n.vendor),gi=et&&(/Mobile\/\w+/.test(Wn)||!!$n&&$n.maxTouchPoints>2),vt=gi||($n?/Mac/.test($n.platform):!1),Vt=/Android \d/.test(Wn),oa=!!jc&&"webkitFontSmoothing"in jc.documentElement.style,Ty=oa?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,ot=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},pu=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Wc=null;const ln=function(t,e,n){let r=Wc||(Wc=document.createRange());return r.setEnd(t,n==null?t.nodeValue.length:n),r.setStart(t,e||0),r},co=function(t,e,n,r){return n&&(qc(t,e,n,r,-1)||qc(t,e,n,r,1))},My=/^(img|br|input|textarea|hr)$/i;function qc(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ht(t))){let o=t.parentNode;if(!o||o.nodeType!=1||By(t)||My.test(t.nodeName)||t.contentEditable=="false")return!1;e=ot(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Ht(t):0}else return!1}}function Ht(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Fy(t,e,n){for(let r=e==0,i=e==Ht(t);r||i;){if(t==n)return!0;let o=ot(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==Ht(t)}}function By(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const hu=function(t){let e=t.isCollapsed;return e&&qe&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function Jr(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Ly(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function bn(t,e){return typeof t=="number"?t:t[e]}function Ny(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Uc(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=pu(s)){if(s.nodeType!=1)continue;let a=s,l=a==o.body,u=l?Ly(o):Ny(a),c=0,f=0;if(e.top<u.top+bn(r,"top")?f=-(u.top-e.top+bn(i,"top")):e.bottom>u.bottom-bn(r,"bottom")&&(f=e.bottom-u.bottom+bn(i,"bottom")),e.left<u.left+bn(r,"left")?c=-(u.left-e.left+bn(i,"left")):e.right>u.right-bn(r,"right")&&(c=e.right-u.right+bn(i,"right")),c||f)if(l)o.defaultView.scrollBy(c,f);else{let d=a.scrollLeft,p=a.scrollTop;f&&(a.scrollTop+=f),c&&(a.scrollLeft+=c);let h=a.scrollLeft-d,m=a.scrollTop-p;e={left:e.left-h,top:e.top-m,right:e.right-h,bottom:e.bottom-m}}if(l)break}}function Iy(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=t.root.elementFromPoint(o,s);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:Up(t.dom)}}function Up(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=pu(r));return e}function $y({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;Kp(n,r==0?0:r-e)}function Kp(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let $r=null;function Py(t){if(t.setActive)return t.setActive();if($r)return t.focus($r);let e=Up(t);t.focus($r==null?{get preventScroll(){return $r={preventScroll:!0},!0}}:void 0),$r||($r=!1,Kp(e,0))}function Jp(t,e){let n,r=2e8,i,o=0,s=e.top,a=e.top;for(let l=t.firstChild,u=0;l;l=l.nextSibling,u++){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=ln(l).getClientRects();else continue;for(let f=0;f<c.length;f++){let d=c[f];if(d.top<=s&&d.bottom>=a){s=Math.max(d.bottom,s),a=Math.min(d.top,a);let p=d.left>e.left?d.left-e.left:d.right<e.left?e.left-d.right:0;if(p<r){n=l,r=p,i=p&&n.nodeType==3?{left:d.right<e.left?d.right:d.left,top:e.top}:e,l.nodeType==1&&p&&(o=u+(e.left>=(d.left+d.right)/2?1:0));continue}}!n&&(e.left>=d.right&&e.top>=d.top||e.left>=d.left&&e.top>=d.bottom)&&(o=u+1)}}return n&&n.nodeType==3?Ry(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:Jp(n,i)}function Ry(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=Dn(r,1);if(o.top!=o.bottom&&mu(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function mu(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Vy(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function Hy(t,e,n){let{node:r,offset:i}=Jp(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function zy(t,e,n,r){let i=-1;for(let o=e;o!=t.dom;){let s=t.docView.nearestDesc(o,!0);if(!s)return null;if(s.node.isBlock&&s.parent){let a=s.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)i=s.posBefore;else if(a.right<r.left||a.bottom<r.top)i=s.posAfter;else break}o=s.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,1)}function Gp(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(mu(e,u))return Gp(s,e,u)}}if((o=(o+1)%r)==i)break}return t}function jy(t,e){let n=t.dom.ownerDocument,r,i=0;if(n.caretPositionFromPoint)try{let l=n.caretPositionFromPoint(e.left,e.top);l&&({offsetNode:r,offset:i}=l)}catch{}if(!r&&n.caretRangeFromPoint){let l=n.caretRangeFromPoint(e.left,e.top);l&&({startContainer:r,startOffset:i}=l)}let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top+1),s;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let l=t.dom.getBoundingClientRect();if(!mu(e,l)||(o=Gp(t.dom,e,l),!o))return null}if(et)for(let l=o;r&&l;l=pu(l))l.draggable&&(r=void 0);if(o=Vy(o,e),r){if(Xt&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let l=r.childNodes[i],u;l.nodeName=="IMG"&&(u=l.getBoundingClientRect()).right<=e.left&&u.bottom>e.top&&i++}r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?s=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(s=zy(t,r,i,e))}s==null&&(s=Hy(t,o,e));let a=t.docView.nearestDesc(o,!0);return{pos:s,inside:a?a.posAtStart-a.border:-1}}function Dn(t,e){let n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}const Wy=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Yp(t,e,n){let{node:r,offset:i}=t.docView.domFromPos(e,n<0?-1:1),o=oa||Xt;if(r.nodeType==3)if(o&&(Wy.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let s=Dn(ln(r,i,i),n);if(Xt&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let a=Dn(ln(r,i-1,i-1),-1);if(a.top==s.top){let l=Dn(ln(r,i,i+1),-1);if(l.top!=s.top)return Li(l,l.left<a.left)}}return s}else{let s=i,a=i,l=n<0?1:-1;return n<0&&!i?(a++,l=-1):n>=0&&i==r.nodeValue.length?(s--,l=1):n<0?s--:a++,Li(Dn(ln(r,s,a),l),l<0)}if(!t.state.doc.resolve(e).parent.inlineContent){if(i&&(n<0||i==Ht(r))){let s=r.childNodes[i-1];if(s.nodeType==1)return Ga(s.getBoundingClientRect(),!1)}if(i<Ht(r)){let s=r.childNodes[i];if(s.nodeType==1)return Ga(s.getBoundingClientRect(),!0)}return Ga(r.getBoundingClientRect(),n>=0)}if(i&&(n<0||i==Ht(r))){let s=r.childNodes[i-1],a=s.nodeType==3?ln(s,Ht(s)-(o?0:1)):s.nodeType==1&&(s.nodeName!="BR"||!s.nextSibling)?s:null;if(a)return Li(Dn(a,1),!1)}if(i<Ht(r)){let s=r.childNodes[i];for(;s.pmViewDesc&&s.pmViewDesc.ignoreForCoords;)s=s.nextSibling;let a=s?s.nodeType==3?ln(s,0,o?0:1):s.nodeType==1?s:null:null;if(a)return Li(Dn(a,-1),!0)}return Li(Dn(r.nodeType==3?ln(r):r,-n),n>=0)}function Li(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Ga(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Xp(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function qy(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return Xp(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.dom;break}o=a.dom.parentNode}let s=Yp(t,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=ln(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(n=="up"?s.top-c.top>(c.bottom-s.top)*2:c.bottom-s.bottom>(s.bottom-c.top)*2))return!1}}return!0})}const Uy=/[\u0590-\u08ac]/;function Ky(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=t.domSelection();return!Uy.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?o:s:Xp(t,e,()=>{let l=a.getRangeAt(0),u=a.focusNode,c=a.focusOffset,f=a.caretBidiLevel;a.modify("move",n,"character");let p=!(r.depth?t.docView.domAfterPos(r.before()):t.dom).contains(a.focusNode.nodeType==1?a.focusNode:a.focusNode.parentNode)||u==a.focusNode&&c==a.focusOffset;return a.removeAllRanges(),a.addRange(l),f!=null&&(a.caretBidiLevel=f),p})}let Kc=null,Jc=null,Gc=!1;function Jy(t,e,n){return Kc==e&&Jc==n?Gc:(Kc=e,Jc=n,Gc=n=="up"||n=="down"?qy(t,e,n):Ky(t,e,n))}const Ft=0,Yc=1,Gr=2,Zt=3;class Ao{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Ft,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>ot(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return(i==null?r>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>e||s instanceof Qp){i=e-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof Zp&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?ot(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?ot(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],u=s+l.size;if(i==-1&&e<=u){let c=s+l.border;if(e>=c&&n<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,c);e=s;for(let f=a;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=ot(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(u>n||a==this.children.length-1)){n=u;for(let c=a+1;c<this.children.length;c++){let f=this.children[c];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=ot(f.dom);break}n+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let d=0,p=0;d<this.children.length;d++){let h=this.children[d],m=p+h.size;if(o>p&&s<m)return h.setSelection(e-p-h.border,n-p-h.border,r,i);p=m}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),u=r.getSelection(),c=!1;if((Xt||et)&&e==n){let{node:d,offset:p}=a;if(d.nodeType==3){if(c=!!(p&&d.nodeValue[p-1]==`
`),c&&p==d.nodeValue.length)for(let h=d,m;h;h=h.parentNode){if(m=h.nextSibling){m.nodeName=="BR"&&(a=l={node:m.parentNode,offset:ot(m)+1});break}let y=h.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{let h=d.childNodes[p-1];c=h&&(h.nodeName=="BR"||h.contentEditable=="false")}}if(Xt&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let d=u.focusNode.childNodes[u.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||c&&et)&&co(a.node,a.offset,u.anchorNode,u.anchorOffset)&&co(l.node,l.offset,u.focusNode,u.focusOffset))return;let f=!1;if((u.extend||e==n)&&!c){u.collapse(a.node,a.offset);try{e!=n&&u.extend(l.node,l.offset),f=!0}catch(d){if(!(d instanceof DOMException))throw d}}if(!f){if(e>n){let p=a;a=l,l=p}let d=document.createRange();d.setEnd(l.node,l.offset),d.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let a=r+o.border,l=s-o.border;if(e>=a&&n<=l){this.dirty=e==r||n==s?Gr:Yc,e==a&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Zt:o.markDirty(e-a,n-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Gr:Zt}r=s}this.dirty=Gr}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Gr:Yc;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Zp extends Ao{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==Ft&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Gy extends Ao{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class br extends Ao{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=jt.renderSpec(document,n.type.spec.toDOM(n,r))),new br(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&Zt||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=Zt&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Ft){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Ft}}slice(e,n,r){let i=br.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=Bl(o,n,s,r)),e>0&&(o=Bl(o,0,e,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}}class Dr extends Ao{constructor(e,n,r,i,o,s,a,l,u){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a,s&&this.updateChildren(l,u)}static create(e,n,r,i,o,s){let a=o.nodeViews[n.type.name],l,u=a&&a(n,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,i),c=u&&u.dom,f=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:f}=jt.renderSpec(document,n.type.spec.toDOM(n)));!f&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let d=c;return c=nh(c,r,n),u?l=new Yy(e,n,r,i,c,f||null,d,u,o,s+1):n.isText?new sa(e,n,r,i,c,d,o):new Dr(e,n,r,i,c,f||null,d,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>_.empty)}return e}matchesNode(e,n,r){return this.dirty==Ft&&e.eq(this.node)&&Fl(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new Zy(this,s&&s.node);tb(this.node,this.innerDeco,(u,c,f)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!f&&l.syncToMarks(c==this.node.childCount?re.none:this.node.child(c).marks,r,e),l.placeWidget(u,e,i)},(u,c,f,d)=>{l.syncToMarks(u.marks,r,e);let p;l.findNodeMatch(u,c,f,d)||a&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(p=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(u,c,f,p,e)||l.updateNextNode(u,c,f,e,d)||l.addNode(u,c,f,e,i),i+=u.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Gr)&&(s&&this.protectLocalComposition(e,s),eh(this.contentDOM,this.children,e),gi&&nb(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof j)||r<n||i>n+this.node.content.size)return null;let o=e.domSelection(),s=rb(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,l=ib(this.node.content,a,r-n,i-n);return l<0?null:{node:s,pos:l,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new Gy(this,o,n,i);e.input.compositionNodes.push(s),this.children=Bl(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==Zt||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Ft}updateOuterDeco(e){if(Fl(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=th(this.dom,this.nodeDOM,Ml(this.outerDeco,this.node,n),Ml(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Xc(t,e,n,r,i){return nh(r,e,t),new Dr(void 0,t,e,n,r,r,r,i,0)}class sa extends Dr{constructor(e,n,r,i,o,s,a){super(e,n,r,i,o,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Zt||this.dirty!=Ft&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ft||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Ft,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new sa(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Zt)}get domAtom(){return!1}}class Qp extends Ao{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Ft&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Yy extends Dr{constructor(e,n,r,i,o,s,a,l,u,c){super(e,n,r,i,o,s,a,u,c),this.spec=l}update(e,n,r,i){if(this.dirty==Zt)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function eh(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=Zc(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(s instanceof br){let l=r?r.previousSibling:t.lastChild;eh(s.contentDOM,s.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=Zc(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Xi=function(t){t&&(this.nodeName=t)};Xi.prototype=Object.create(null);const sr=[new Xi];function Ml(t,e,n){if(t.length==0)return sr;let r=n?sr[0]:new Xi,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(!!s){s.nodeName&&i.push(r=new Xi(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&i.length==1&&i.push(r=new Xi(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function th(t,e,n,r){if(n==sr&&r==sr)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=sr[0]),i=l}Xy(i,a||sr[0],s)}return i}function Xy(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function nh(t,e,n){return th(t,t,sr,Ml(e,n,t.nodeType!=1))}function Fl(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Zc(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Zy{constructor(e,n){this.lock=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Qy(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Ft,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++)if(this.top.children[l].matchesMark(e[o])){a=l;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=br.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==Zt&&s.dom==s.contentDOM&&(s.dirty=Gr),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index=i+1,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o){for(let s=this.index;s<this.top.children.length;s++){let a=this.top.children[s];if(a instanceof Dr){let l=this.preMatch.matched.get(a);if(l!=null&&l!=o)return!1;let u=a.dom;if(!(this.lock&&(u==this.lock||u.nodeType==1&&u.contains(this.lock.parentNode))&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=Zt&&Fl(n,a.outerDeco)))&&a.update(e,n,r,i))return this.destroyBetween(this.index,s),a.dom!=u&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,n,r,i,o){this.top.children.splice(this.index++,0,Dr.create(this.top,e,n,r,i,o)),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new Zp(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof br;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof sa)||/\n$/.test(e.node.text))&&((et||qe)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Qp(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}}function Qy(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let u=n.children[r-1];if(u instanceof br)n=u,r=u.children.length;else{a=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(!!l){if(l!=t.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function eb(t,e){return t.type.side-e.type.side}function tb(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);r(c,i,e.forChild(o,c),u),o+=c.nodeSize}return}let s=0,a=[],l=null;for(let u=0;;){if(s<i.length&&i[s].to==o){let h=i[s++],m;for(;s<i.length&&i[s].to==o;)(m||(m=[h])).push(i[s++]);if(m){m.sort(eb);for(let y=0;y<m.length;y++)n(m[y],u,!!l)}else n(h,u,!!l)}let c,f;if(l)f=-1,c=l,l=null;else if(u<t.childCount)f=u,c=t.child(u++);else break;for(let h=0;h<a.length;h++)a[h].to<=o&&a.splice(h--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let d=o+c.nodeSize;if(c.isText){let h=d;s<i.length&&i[s].from<h&&(h=i[s].from);for(let m=0;m<a.length;m++)a[m].to<h&&(h=a[m].to);h<d&&(l=c.cut(h-o),c=c.cut(0,h-o),d=h,f=-1)}let p=c.isInline&&!c.isLeaf?a.filter(h=>!h.inline):a.slice();r(c,p,e.forChild(o,c),f),o=d}}function nb(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function rb(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=Ht(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function ib(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<t.childCount;){let u=t.child(i++);if(o+=u.nodeSize,!u.isText)break;l+=u.text}if(o>=n){let u=a<r?l.lastIndexOf(e,r-a-1):-1;if(u>=0&&u+e.length+a>=n)return a+u;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function Bl(t,e,n,r,i){let o=[];for(let s=0,a=0;s<t.length;s++){let l=t[s],u=a,c=a+=l.size;u>=n||c<=e?o.push(l):(u<e&&o.push(l.slice(0,e-u,r)),i&&(o.push(i),i=void 0),c>n&&o.push(l.slice(n-u,l.size,r)))}return o}function rh(t,e=null){let n=t.domSelection(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,u;if(hu(n)){for(l=a;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&H.isSelectable(c)&&i.parent&&!(c.isInline&&Fy(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;u=new H(s==f?a:r.resolve(f))}}else{let c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null;l=r.resolve(c)}if(!u){let c=e=="pointer"||t.state.selection.head<a.pos&&!o?1:-1;u=gu(t,l,a,c)}return u}function ih(t){return t.editable?t.hasFocus():sh(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Pn(t,e=!1){let n=t.state.selection;if(oh(t,n),!!ih(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&qe){let r=t.domSelection(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&co(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)sb(t);else{let{anchor:r,head:i}=n,o,s;Qc&&!(n instanceof j)&&(n.$from.parent.inlineContent||(o=ef(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=ef(t,n.to))),t.docView.setSelection(r,i,t.root,e),Qc&&(o&&tf(o),s&&tf(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&ob(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Qc=et||qe&&Oy<63;function ef(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(et&&i&&i.contentEditable=="false")return Ya(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Ya(i);if(o)return Ya(o)}}function Ya(t){return t.contentEditable="true",et&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function tf(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function ob(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelection(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!ih(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function sb(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,ot(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&ut&&Bn<=11&&(r.disabled=!0,r.disabled=!1)}function oh(t,e){if(e instanceof H){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(nf(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else nf(t)}function nf(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function gu(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||j.between(e,n,r)}function rf(t){return t.editable&&t.root.activeElement!=t.dom?!1:sh(t)}function sh(t){let e=t.domSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function ab(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelection();return co(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Ll(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&W.findFrom(o,e)}function rr(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function of(t,e,n){let r=t.state.selection;if(r instanceof j){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let i=Ll(t.state,e);return i&&i instanceof H?rr(t,i):!1}else if(!(vt&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM?H.isSelectable(o)?rr(t,new H(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):oa?rr(t,new j(t.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else{if(r instanceof H&&r.node.isInline)return rr(t,new j(e>0?r.$to:r.$from));{let i=Ll(t.state,e);return i?rr(t,i):!1}}}function Cs(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Zi(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function Xa(t){let e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(Xt&&n.nodeType==1&&r<Cs(n)&&Zi(n.childNodes[r])&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Zi(a))i=n,o=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(ah(n))break;{let a=n.previousSibling;for(;a&&Zi(a);)i=n.parentNode,o=ot(a),a=a.previousSibling;if(a)n=a,r=Cs(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?Nl(t,e,n,r):i&&Nl(t,e,i,o)}function Za(t){let e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Cs(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Zi(a))o=n,s=++r;else break}else{if(ah(n))break;{let a=n.nextSibling;for(;a&&Zi(a);)o=a.parentNode,s=ot(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=Cs(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&Nl(t,e,o,s)}function ah(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Nl(t,e,n,r){if(hu(e)){let o=document.createRange();o.setEnd(n,r),o.setStart(n,r),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Pn(t)},50)}function sf(t,e,n){let r=t.state.selection;if(r instanceof j&&!r.empty||n.indexOf("s")>-1||vt&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=Ll(t.state,e);if(s&&s instanceof H)return rr(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=r instanceof Mt?W.near(s,e):W.findFrom(s,e);return a?rr(t,a):!1}return!1}function af(t,e){if(!(t.state.selection instanceof j))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function lf(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function lb(t){if(!et||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelection();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;lf(t,r,"true"),setTimeout(()=>lf(t,r,"false"),20)}return!1}function ub(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function cb(t,e){let n=e.keyCode,r=ub(e);return n==8||vt&&n==72&&r=="c"?af(t,-1)||Xa(t):n==46||vt&&n==68&&r=="c"?af(t,1)||Za(t):n==13||n==27?!0:n==37||vt&&n==66&&r=="c"?of(t,-1,r)||Xa(t):n==39||vt&&n==70&&r=="c"?of(t,1,r)||Za(t):n==38||vt&&n==80&&r=="c"?sf(t,-1,r)||Xa(t):n==40||vt&&n==78&&r=="c"?lb(t)||sf(t,1,r)||Za(t):r==(vt?"m":"c")&&(n==66||n==73||n==89||n==90)}function lh(t,e){let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let s=t.someProp("clipboardSerializer")||jt.fromSchema(t.state.schema),a=hh(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let u=l.firstChild,c,f=0;for(;u&&u.nodeType==1&&(c=ph[u.nodeName.toLowerCase()]);){for(let p=c.length-1;p>=0;p--){let h=a.createElement(c[p]);for(;l.firstChild;)h.appendChild(l.firstChild);l.appendChild(h),f++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",p=>p(e))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:d}}function uh(t,e,n,r,i){let o=i.parent.type.spec.code,s,a;if(!n&&!e)return null;let l=e&&(r||o||!n);if(l){if(t.someProp("transformPastedText",d=>{e=d(e,o||r)}),o)return e?new N(_.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):N.empty;let f=t.someProp("clipboardTextParser",d=>d(e,i,r));if(f)a=f;else{let d=i.marks(),{schema:p}=t.state,h=jt.fromSchema(p);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(m=>{let y=s.appendChild(document.createElement("p"));m&&y.appendChild(h.serializeNode(p.text(m,d)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n)}),s=pb(n),oa&&hb(s);let u=s&&s.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let f=+c[3];f>0&&s.firstChild;f--)s=s.firstChild;if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||pi.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!fb.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)a=mb(uf(a,+c[1],+c[2]),c[4]);else if(a=N.maxOpen(db(a.content,i),!0),a.openStart||a.openEnd){let f=0,d=0;for(let p=a.content.firstChild;f<a.openStart&&!p.type.spec.isolating;f++,p=p.firstChild);for(let p=a.content.lastChild;d<a.openEnd&&!p.type.spec.isolating;d++,p=p.lastChild);a=uf(a,f,d)}return t.someProp("transformPasted",f=>{a=f(a)}),a}const fb=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function db(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),u;if(!l)return s=null;if(u=s.length&&o.length&&fh(l,o,a,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=dh(s[s.length-1],o.length));let c=ch(a,l);s.push(c),i=i.matchType(c.type),o=l}}),s)return _.from(s)}return t}function ch(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,_.from(t));return t}function fh(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=fh(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(_.from(ch(n,t,i+1))))}}function dh(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,dh(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(_.empty,!0);return t.copy(n.append(r))}function Il(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,a=s.content;return i<r-1&&(a=Il(a,e,n,r,i+1,o)),i>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,t.childCount>1||o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(_.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function uf(t,e,n){return e<t.openStart&&(t=new N(Il(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new N(Il(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const ph={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let cf=null;function hh(){return cf||(cf=document.implementation.createHTMLDocument("title"))}function pb(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=hh().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&ph[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function hb(t){let e=t.querySelectorAll(qe?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function mb(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=_.from(l.create(r[a+1],i)),o++,s++}return new N(i,o,s)}const tt={};let Ke={};class gb{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function vb(t){for(let e in tt){let n=tt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{bb(t,r)&&!vu(t,r)&&(t.editable||!(r.type in Ke))&&n(t,r)})}et&&t.dom.addEventListener("input",()=>null),$l(t)}function ar(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function yb(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function $l(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>vu(t,r))})}function vu(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function bb(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Db(t,e){!vu(t,e)&&tt[e.type]&&(t.editable||!(e.type in Ke))&&tt[e.type](t,e)}Ke.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!gh(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Vt&&qe&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),gi&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Jr(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||cb(t,n)?n.preventDefault():ar(t,"key")};Ke.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Ke.keypress=(t,e)=>{let n=e;if(gh(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||vt&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof j)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))||t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function aa(t){return{left:t.clientX,top:t.clientY}}function Cb(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function yu(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,a=>s>o.depth?a(t,n,o.nodeAfter,o.before(s),i,!0):a(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function oi(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function Ab(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&H.isSelectable(r)?(oi(t,new H(n),"pointer"),!0):!1}function wb(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof H&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(H.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(oi(t,H.create(t.state.doc,i),"pointer"),!0):!1}function xb(t,e,n,r,i){return yu(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?wb(t,n):Ab(t,n))}function kb(t,e,n,r){return yu(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function Eb(t,e,n,r){return yu(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||Sb(t,n,r)}function Sb(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(oi(t,j.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)oi(t,j.create(r,a+1,a+1+s.content.size),"pointer");else if(H.isSelectable(s))oi(t,H.create(r,a),"pointer");else continue;return!0}}function bu(t){return As(t)}const mh=vt?"metaKey":"ctrlKey";tt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=bu(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&Cb(n,t.input.lastClick)&&!n[mh]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(aa(n));!s||(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new _b(t,s,n,!!r)):(o=="doubleClick"?kb:Eb)(t,s.pos,s.inside,n)?n.preventDefault():ar(t,"pointer"))};class _b{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[mh],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let c=e.state.doc.resolve(n.pos);o=c.parent,s=c.depth?c.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:u}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof H&&u.from<=s&&u.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Xt&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ar(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Pn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(aa(e))),this.allowDefault||!n?ar(this.view,"pointer"):xb(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||et&&this.mightDrag&&!this.mightDrag.node.isAtom||qe&&!(this.view.state.selection instanceof j)&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(oi(this.view,W.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):ar(this.view,"pointer")}move(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),ar(this.view,"pointer"),e.buttons==0&&this.done()}}tt.touchdown=t=>{bu(t),ar(t,"pointer")};tt.contextmenu=t=>bu(t);function gh(t,e){return t.composing?!0:et&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Ob=Vt?5e3:-1;Ke.compositionstart=Ke.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),As(t,!0),t.markCursor=null;else if(As(t),Xt&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelection();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){r.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}vh(t,Ob)};Ke.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,vh(t,20))};function vh(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>As(t),e))}function yh(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Tb());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Tb(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function As(t,e=!1){if(!(Vt&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),yh(t),e||t.docView&&t.docView.dirty){let n=rh(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function Mb(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const vi=ut&&Bn<15||gi&&Ty<604;tt.copy=Ke.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=vi?null:n.clipboardData,s=r.content(),{dom:a,text:l}=lh(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):Mb(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Fb(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Bb(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Pl(t,r.value,null,e):Pl(t,r.textContent,r.innerHTML,e)},50)}function Pl(t,e,n,r){let i=uh(t,e,n,t.input.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,r,i||N.empty)))return!0;if(!i)return!1;let o=Fb(i),s=o?t.state.tr.replaceSelectionWith(o,t.input.shiftKey):t.state.tr.replaceSelection(i);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Ke.paste=(t,e)=>{let n=e;if(t.composing&&!Vt)return;let r=vi?null:n.clipboardData;r&&Pl(t,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():Bb(t,n)};class Lb{constructor(e,n){this.slice=e,this.move=n}}const bh=vt?"altKey":"ctrlKey";tt.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(aa(n));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof H?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(H.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let u=t.docView.nearestDesc(n.target,!0);u&&u.node.type.spec.draggable&&u!=t.docView&&t.dispatch(t.state.tr.setSelection(H.create(t.state.doc,u.posBefore)))}}let s=t.state.selection.content(),{dom:a,text:l}=lh(t,s);n.dataTransfer.clearData(),n.dataTransfer.setData(vi?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",vi||n.dataTransfer.setData("text/plain",l),t.dragging=new Lb(s,!n[bh])};tt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Ke.dragover=Ke.dragenter=(t,e)=>e.preventDefault();Ke.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(aa(n));if(!i)return;let o=t.state.doc.resolve(i.pos);if(!o)return;let s=r&&r.slice;s?t.someProp("transformPasted",h=>{s=h(s)}):s=uh(t,n.dataTransfer.getData(vi?"Text":"text/plain"),vi?null:n.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&!n[bh]);if(t.someProp("handleDrop",h=>h(t,n,s||N.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?Fp(t.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let u=t.state.tr;a&&u.deleteSelection();let c=u.mapping.map(l),f=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,d=u.doc;if(f?u.replaceRangeWith(c,c,s.content.firstChild):u.replaceRange(c,c,s),u.doc.eq(d))return;let p=u.doc.resolve(c);if(f&&H.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new H(p));else{let h=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((m,y,D,E)=>h=E),u.setSelection(gu(t,p,u.doc.resolve(h)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};tt.focus=t=>{t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelection())&&Pn(t)},20))};tt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};tt.beforeinput=(t,e)=>{if(qe&&Vt&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,Jr(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Ke)tt[t]=Ke[t];function fo(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Du{constructor(e,n){this.toDOM=e,this.spec=n||pr,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new Xe(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Du&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&fo(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ln{constructor(e,n){this.attrs=e,this.spec=n||pr}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new Xe(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Ln&&fo(this.attrs,e.attrs)&&fo(this.spec,e.spec)}static is(e){return e.type instanceof Ln}destroy(){}}class Cu{constructor(e,n){this.attrs=e,this.spec=n||pr}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new Xe(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof Cu&&fo(this.attrs,e.attrs)&&fo(this.spec,e.spec)}destroy(){}}class Xe{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Xe(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Xe(e,e,new Du(n,r))}static inline(e,n,r,i){return new Xe(e,n,new Ln(r,i))}static node(e,n,r,i){return new Xe(e,n,new Cu(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ln}}const Hr=[],pr={};class ye{constructor(e,n){this.local=e.length?e:Hr,this.children=n.length?n:Hr}static create(e,n){return n.length?ws(n,e,0,pr):$e}find(e,n,r){let i=[];return this.findInner(e==null?0:e,n==null?1e9:n,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,n-a,r,i+a,o)}}map(e,n,r){return this==$e||e.maps.length==0?this:this.mapInner(e,n,0,0,r||pr)}mapInner(e,n,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?Nb(this.children,s||[],e,n,r,i,o):s?new ye(s.sort(hr),Hr):$e}add(e,n){return n.length?this==$e?ye.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((a,l)=>{let u=l+r,c;if(!!(c=Ch(n,a,u))){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,c,u+1):i.splice(o,0,l,l+a.nodeSize,ws(c,a,u+1,pr)),o+=3}});let s=Dh(o?Ah(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new ye(s.length?this.local.concat(s).sort(hr):this.local,i||this.children)}remove(e){return e.length==0||this==$e?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+n,l=r[o+1]+n;for(let c=0,f;c<e.length;c++)(f=e[c])&&f.from>a&&f.to<l&&(e[c]=null,(s||(s=[])).push(f));if(!s)continue;r==this.children&&(r=this.children.slice());let u=r[o+2].removeInner(s,a+1);u!=$e?r[o+2]=u:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new ye(i,r):$e}forChild(e,n){if(this==$e)return this;if(n.isLeaf)return ye.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,s=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof Ln){let u=Math.max(o,l.from)-o,c=Math.min(s,l.to)-o;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let a=new ye(i.sort(hr),Hr);return r?new kn([a,r]):a}return r||$e}eq(e){if(this==e)return!0;if(!(e instanceof ye)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Au(this.localsInner(e))}localsInner(e){if(this==$e)return Hr;if(e.inlineContent||!this.local.some(Ln.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Ln||n.push(this.local[r]);return n}}ye.empty=new ye([],[]);ye.removeOverlap=Au;const $e=ye.empty;class kn{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,pr));return kn.from(r)}forChild(e,n){if(n.isLeaf)return ye.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=$e&&(o instanceof kn?r=r.concat(o.members):r.push(o))}return kn.from(r)}eq(e){if(!(e instanceof kn)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(!!o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?Au(r?n:n.sort(hr)):Hr}static from(e){switch(e.length){case 0:return $e;case 1:return e[0];default:return new kn(e)}}}function Nb(t,e,n,r,i,o,s){let a=t.slice(),l=(c,f,d,p)=>{for(let h=0;h<a.length;h+=3){let m=a[h+1],y;if(m<0||c>m+o)continue;let D=a[h]+o;f>=D?a[h+1]=c<=D?-2:-1:d>=i&&(y=p-d-(f-c))&&(a[h]+=y,a[h+1]+=y)}};for(let c=0;c<n.maps.length;c++)n.maps[c].forEach(l);let u=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){u=!0,a[c+1]=-1;continue}let f=n.map(t[c]+o),d=f-i;if(d<0||d>=r.content.size){u=!0;continue}let p=n.map(t[c+1]+o,-1),h=p-i,{index:m,offset:y}=r.content.findIndex(d),D=r.maybeChild(m);if(D&&y==d&&y+D.nodeSize==h){let E=a[c+2].mapInner(n,D,f+1,t[c]+o+1,s);E!=$e?(a[c]=d,a[c+1]=h,a[c+2]=E):(a[c+1]=-2,u=!0)}else u=!0}if(u){let c=Ib(a,t,e,n,i,o,s),f=ws(c,r,0,s);e=f.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,p=0;d<f.children.length;d+=3){let h=f.children[d];for(;p<a.length&&a[p]<h;)p+=3;a.splice(p,0,f.children[d],f.children[d+1],f.children[d+2])}}return new ye(e.sort(hr),a)}function Dh(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Xe(i.from+e,i.to+e,i.type))}return n}function Ib(t,e,n,r,i,o,s){function a(l,u){for(let c=0;c<l.local.length;c++){let f=l.local[c].map(r,i,u);f?n.push(f):s.onRemove&&s.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)a(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+o+1);return n}function Ch(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function Ah(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function ws(t,e,n,r){let i=[],o=!1;e.forEach((a,l)=>{let u=Ch(t,a,l+n);if(u){o=!0;let c=ws(u,a,n+l+1,r);c!=$e&&i.push(l,l+a.nodeSize,c)}});let s=Dh(o?Ah(t):t,-n).sort(hr);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new ye(s,i):$e}function hr(t,e){return t.from-e.from||t.to-e.to}function Au(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),ff(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),ff(e,i,r.copy(o.from,r.to)));break}}}return e}function ff(t,e,n){for(;e<t.length&&hr(n,t[e])>0;)e++;t.splice(e,0,n)}function Qa(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=$e&&e.push(r)}),t.cursorWrapper&&e.push(ye.create(t.state.doc,[t.cursorWrapper.deco])),kn.from(e)}const $b={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Pb=ut&&Bn<=11;class Rb{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Vb{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Rb,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);ut&&Bn<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Pb&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&this.observer.observe(this.view.dom,$b),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!rf(this.view)){if(this.suppressingSelectionUpdates)return Pn(this.view);if(ut&&Bn<=11&&!this.view.state.selection.empty){let e=this.view.domSelection();if(e.focusNode&&co(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelection())}ignoreSelectionChange(e){if(e.rangeCount==0)return!0;let n=e.getRangeAt(0).commonAncestorContainer,r=this.view.docView.nearestDesc(n);if(r&&r.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}flush(){if(!this.view.docView||this.flushingSoon>-1)return;let e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);let n=this.view.domSelection(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&rf(this.view)&&!this.ignoreSelectionChange(n),i=-1,o=-1,s=!1,a=[];if(this.view.editable)for(let l=0;l<e.length;l++){let u=this.registerMutation(e[l],a);u&&(i=i<0?u.from:Math.min(u.from,i),o=o<0?u.to:Math.max(u.to,o),u.typeOver&&(s=!0))}if(Xt&&a.length>1){let l=a.filter(u=>u.nodeName=="BR");if(l.length==2){let u=l[0],c=l[1];u.parentNode&&u.parentNode.parentNode==c.parentNode?c.remove():u.remove()}}(i>-1||r)&&(i>-1&&(this.view.docView.markDirty(i,o),Hb(this.view)),this.handleDOMChange(i,o,s,a),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(n)||Pn(this.view),this.currentSelection.set(n))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++)n.push(e.addedNodes[c]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(ut&&Bn<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:f,nextSibling:d}=e.addedNodes[c];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(o=d)}let s=i&&i.parentNode==e.target?ot(i)+1:0,a=r.localPosFromDOM(e.target,s,-1),l=o&&o.parentNode==e.target?ot(o):e.target.childNodes.length,u=r.localPosFromDOM(e.target,l,1);return{from:a,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let df=!1;function Hb(t){df||(df=!0,getComputedStyle(t.dom).whiteSpace=="normal"&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}function zb(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:a}=t.docView.parseRange(e,n),l=t.domSelection(),u,c=l.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],hu(l)||u.push({node:l.focusNode,offset:l.focusOffset})),qe&&t.input.lastKeyCode===8)for(let y=o;y>i;y--){let D=r.childNodes[y-1],E=D.pmViewDesc;if(D.nodeName=="BR"&&!E){o=y;break}if(!E||E.size)break}let f=t.state.doc,d=t.someProp("domParser")||pi.fromSchema(t.state.schema),p=f.resolve(s),h=null,m=d.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:jb,context:p});if(u&&u[0].pos!=null){let y=u[0].pos,D=u[1]&&u[1].pos;D==null&&(D=y),h={anchor:y+s,head:D+s}}return{doc:m,sel:h,from:s,to:a}}function jb(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(et&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||et&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}function Wb(t,e,n,r,i){if(e<0){let S=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,B=rh(t,S);if(B&&!t.state.selection.eq(B)){let L=t.state.tr.setSelection(B);S=="pointer"?L.setMeta("pointer",!0):S=="key"&&L.scrollIntoView(),t.dispatch(L)}return}let o=t.state.doc.resolve(e),s=o.sharedDepth(n);e=o.before(s+1),n=t.state.doc.resolve(n).after(s+1);let a=t.state.selection,l=zb(t,e,n);if(qe&&t.cursorWrapper&&l.sel&&l.sel.anchor==t.cursorWrapper.deco.from){let S=t.cursorWrapper.deco.type.toDOM.nextSibling,B=S&&S.nodeValue?S.nodeValue.length:1;l.sel={anchor:l.sel.anchor+B,head:l.sel.anchor+B}}let u=t.state.doc,c=u.slice(l.from,l.to),f,d;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,d="end"):(f=t.state.selection.from,d="start"),t.input.lastKeyCode=null;let p=Kb(c.content,l.doc.content,l.from,f,d);if((gi&&t.input.lastIOSEnter>Date.now()-225||Vt)&&i.some(S=>S.nodeName=="DIV"||S.nodeName=="P")&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",S=>S(t,Jr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(r&&a instanceof j&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(l.sel&&l.sel.anchor!=l.sel.head))p={start:a.from,endA:a.to,endB:a.to};else{if(l.sel){let S=pf(t,t.state.doc,l.sel);S&&!S.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(S))}return}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof j&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=l.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=l.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),ut&&Bn<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>l.from&&l.doc.textBetween(p.start-l.from-1,p.start-l.from+1)==" \xA0"&&(p.start--,p.endA--,p.endB--);let h=l.doc.resolveNoCache(p.start-l.from),m=l.doc.resolveNoCache(p.endB-l.from),y=u.resolve(p.start),D=h.sameParent(m)&&h.parent.inlineContent&&y.end()>=p.endA,E;if((gi&&t.input.lastIOSEnter>Date.now()-225&&(!D||i.some(S=>S.nodeName=="DIV"||S.nodeName=="P"))||!D&&h.pos<l.doc.content.size&&(E=W.findFrom(l.doc.resolve(h.pos+1),1,!0))&&E.head==m.pos)&&t.someProp("handleKeyDown",S=>S(t,Jr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&Ub(u,p.start,p.endA,h,m)&&t.someProp("handleKeyDown",S=>S(t,Jr(8,"Backspace")))){Vt&&qe&&t.domObserver.suppressSelectionUpdates();return}qe&&Vt&&p.endB==p.start&&(t.input.lastAndroidDelete=Date.now()),Vt&&!D&&h.start()!=m.start()&&m.parentOffset==0&&h.depth==m.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==p.endA&&(p.endB-=2,m=l.doc.resolveNoCache(p.endB-l.from),setTimeout(()=>{t.someProp("handleKeyDown",function(S){return S(t,Jr(13,"Enter"))})},20));let M=p.start,v=p.endA,O,k,F;if(D){if(h.pos==m.pos)ut&&Bn<=11&&h.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Pn(t),20)),O=t.state.tr.delete(M,v),k=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(F=qb(h.parent.content.cut(h.parentOffset,m.parentOffset),y.parent.content.cut(y.parentOffset,p.endA-y.start()))))O=t.state.tr,F.type=="add"?O.addMark(M,v,F.mark):O.removeMark(M,v,F.mark);else if(h.parent.child(h.index()).isText&&h.index()==m.index()-(m.textOffset?0:1)){let S=h.parent.textBetween(h.parentOffset,m.parentOffset);if(t.someProp("handleTextInput",B=>B(t,M,v,S)))return;O=t.state.tr.insertText(S,M,v)}}if(O||(O=t.state.tr.replace(M,v,l.doc.slice(p.start-l.from,p.endB-l.from))),l.sel){let S=pf(t,O.doc,l.sel);S&&!(qe&&Vt&&t.composing&&S.empty&&(p.start!=p.endB||t.input.lastAndroidDelete<Date.now()-100)&&(S.head==M||S.head==O.mapping.map(v)-1)||ut&&S.empty&&S.head==M)&&O.setSelection(S)}k&&O.ensureMarks(k),t.dispatch(O.scrollIntoView())}function pf(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:gu(t,e.resolve(n.anchor),e.resolve(n.head))}function qb(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,a,l;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)o=n[c].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",l=c=>c.mark(a.addToSet(c.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",l=c=>c.mark(a.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(l(e.child(c)));if(_.from(u).eq(t))return{mark:a,type:s}}function Ub(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||el(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(el(o,!0,!0));return!s.parent.isTextblock||s.pos>n||el(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function el(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function Kb(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(s,a));r-=s+l-o}return s<o&&t.size<e.size?(o-=r<=o&&r>=s?o-r:0,a=o+(a-s),s=o):a<o&&(o-=r<=o&&r>=a?o-r:0,s=o+(s-a),a=o),{start:o,endA:s,endB:a}}class Jb{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new gb,this.prevDirectPlugins=[],this.pluginViews=[],this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(yf),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=gf(this),mf(this),this.nodeViews=vf(this),this.docView=Xc(this.state.doc,hf(this),Qa(this),this.dom,this),this.domObserver=new Vb(this,(r,i,o,s)=>Wb(this,r,i,o,s)),this.domObserver.start(),vb(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&$l(this),this._props=e,e.plugins&&(e.plugins.forEach(yf),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this.state.plugins!=e.plugins)}updateStateInner(e,n){let r=this.state,i=!1,o=!1;if(e.storedMarks&&this.composing&&(yh(this),o=!0),this.state=e,n){let f=vf(this);Yb(f,this.nodeViews)&&(this.nodeViews=f,i=!0),$l(this)}this.editable=gf(this),mf(this);let s=Qa(this),a=hf(this),l=n?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",u=i||!this.docView.matchesNode(e.doc,a,s);(u||!e.selection.eq(r.selection))&&(o=!0);let c=l=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Iy(this);if(o){this.domObserver.stop();let f=u&&(ut||qe)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&Gb(r.selection,e.selection);if(u){let d=qe?this.trackWrites=this.domSelection().focusNode:null;(i||!this.docView.update(e.doc,a,s,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Xc(e.doc,a,s,this.dom,this)),d&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelection())&&ab(this))?Pn(this,f):(oh(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),l=="reset")this.dom.scrollTop=0;else if(l=="to selection"){let f=this.domSelection().focusNode;if(!this.someProp("handleScrollToSelection",d=>d(this)))if(e.selection instanceof H){let d=this.docView.domAfterPos(e.selection.from);d.nodeType==1&&Uc(this,d.getBoundingClientRect(),f)}else Uc(this,this.coordsAtPos(e.selection.head,1),f)}else c&&$y(c)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(i=n?n(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Py(this.dom),Pn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}posAtCoords(e){return jy(this,e)}coordsAtPos(e,n=1){return Yp(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return Jy(this,n||this.state,e)}destroy(){!this.docView||(yb(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Qa(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Db(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelection(){return this.root.getSelection()}}function hf(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"&&(e.class+=" "+n[r]),r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),[Xe.node(0,t.state.doc.content.size,e)]}function mf(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Xe.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function gf(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Gb(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function vf(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Yb(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function yf(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Rn={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},xs={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},bf=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),Xb=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),Zb=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),Df=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),Qb=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),eD=bf&&(Df||+bf[1]<57)||Zb&&Df;for(var Le=0;Le<10;Le++)Rn[48+Le]=Rn[96+Le]=String(Le);for(var Le=1;Le<=24;Le++)Rn[Le+111]="F"+Le;for(var Le=65;Le<=90;Le++)Rn[Le]=String.fromCharCode(Le+32),xs[Le]=String.fromCharCode(Le);for(var tl in Rn)xs.hasOwnProperty(tl)||(xs[tl]=Rn[tl]);function tD(t){var e=eD&&(t.ctrlKey||t.altKey||t.metaKey)||(Xb||Qb)&&t.shiftKey&&t.key&&t.key.length==1,n=!e&&t.key||(t.shiftKey?xs:Rn)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const nD=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function rD(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))nD?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function iD(t){let e=Object.create(null);for(let n in t)e[rD(n)]=t[n];return e}function nl(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}function oD(t){return new we({props:{handleKeyDown:wh(t)}})}function wh(t){let e=iD(t);return function(n,r){let i=tD(r),o=i.length==1&&i!=" ",s,a=e[nl(i,r,!o)];if(a&&a(n.state,n.dispatch,n))return!0;if(o&&(r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=Rn[r.keyCode])&&s!=i){let l=e[nl(s,r,!0)];if(l&&l(n.state,n.dispatch,n))return!0}else if(o&&r.shiftKey){let l=e[nl(i,r,!0)];if(l&&l(n.state,n.dispatch,n))return!0}return!1}}function sD(t){return Object.prototype.toString.call(t).slice(8,-1)}function rl(t){return sD(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function la(t,e){const n=x({},t);return rl(t)&&rl(e)&&Object.keys(e).forEach(r=>{rl(e[r])?r in t?n[r]=la(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}function xh(t){return typeof t=="function"}function q(t,e=void 0,...n){return xh(t)?e?t.bind(e)(...n):t(...n):t}function $(t,e,n){return t.config[e]===void 0&&t.parent?$(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind(_e(x({},n),{parent:t.parent?$(t.parent,e,n):null})):t.config[e]}class Ae{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=x(x({},this.config),e),this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=q($(this,"addOptions",{name:this.name}))),this.storage=q($(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ae(e)}configure(e={}){const n=this.extend();return n.options=la(this.options,e),n.storage=q($(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Ae(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=q($(n,"addOptions",{name:n.name})),n.storage=q($(n,"addStorage",{name:n.name,options:n.options})),n}}function kh(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let a="",l=!0;return t.nodesBetween(r,i,(u,c,f,d)=>{var p;const h=s==null?void 0:s[u.type.name];h?(u.isBlock&&!l&&(a+=o,l=!0),a+=h({node:u,pos:c,parent:f,index:d,range:e})):u.isText?(a+=(p=u==null?void 0:u.text)===null||p===void 0?void 0:p.slice(Math.max(r,c)-c,i-c),l=!1):u.isBlock&&!l&&(a+=o,l=!0)}),a}function Eh(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const aD=Ae.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new we({key:new nt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(c=>c.$from.pos)),a=Math.max(...o.map(c=>c.$to.pos)),l=Eh(n);return kh(r,{from:s,to:a},{textSerializers:l})}}})]}}),lD=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0);var uD=Object.freeze({__proto__:null,blur:lD});const cD=(t=!1)=>({commands:e})=>e.setContent("",t);var fD=Object.freeze({__proto__:null,clearContent:cD});const dD=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{t.doc.nodesBetween(o.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:u,mapping:c}=e,f=u.resolve(c.map(l)),d=u.resolve(c.map(l+a.nodeSize)),p=f.blockRange(d);if(!p)return;const h=Oi(p);if(a.type.isTextblock){const{defaultType:m}=f.parent.contentMatchAt(f.index());e.setNodeMarkup(p.start,m)}(h||h===0)&&e.lift(p,h)})}),!0};var pD=Object.freeze({__proto__:null,clearNodes:dD});const hD=t=>e=>t(e);var mD=Object.freeze({__proto__:null,command:hD});const gD=()=>({state:t,dispatch:e})=>gy(t,e);var vD=Object.freeze({__proto__:null,createParagraphNear:gD});function Te(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}const yD=t=>({tr:e,state:n,dispatch:r})=>{const i=Te(t,n.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const l=o.before(s),u=o.after(s);e.delete(l,u).scrollIntoView()}return!0}return!1};var bD=Object.freeze({__proto__:null,deleteNode:yD});const DD=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0};var CD=Object.freeze({__proto__:null,deleteRange:DD});const AD=()=>({state:t,dispatch:e})=>Sl(t,e);var wD=Object.freeze({__proto__:null,deleteSelection:AD});const xD=()=>({commands:t})=>t.keyboardShortcut("Enter");var kD=Object.freeze({__proto__:null,enter:xD});const ED=()=>({state:t,dispatch:e})=>my(t,e);var SD=Object.freeze({__proto__:null,exitCode:ED});function qn(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function wu(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function ks(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:wu(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function Rl(t,e,n={}){return t.find(r=>r.type===e&&ks(r.attrs,n))}function _D(t,e,n={}){return!!Rl(t,e,n)}function xu(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const i=Rl(r.node.marks,e,n);if(!i)return;let o=r.index,s=t.start()+r.offset,a=o+1,l=s+r.node.nodeSize;for(Rl(r.node.marks,e,n);o>0&&i.isInSet(t.parent.child(o-1).marks);)o-=1,s-=t.parent.child(o).nodeSize;for(;a<t.parent.childCount&&_D(t.parent.child(a).marks,e,n);)l+=t.parent.child(a).nodeSize,a+=1;return{from:s,to:l}}const OD=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=qn(t,r.schema),{doc:s,selection:a}=n,{$from:l,from:u,to:c}=a;if(i){const f=xu(l,o,e);if(f&&f.from<=u&&f.to>=c){const d=j.create(s,f.from,f.to);n.setSelection(d)}}return!0};var TD=Object.freeze({__proto__:null,extendMarkRange:OD});const MD=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};var FD=Object.freeze({__proto__:null,first:MD});function BD(t){var e;return((e=t.constructor)===null||e===void 0?void 0:e.toString().substring(0,5))==="class"}function Sh(t){return t&&typeof t=="object"&&!Array.isArray(t)&&!BD(t)}function _h(t){return Sh(t)&&t instanceof j}function ua(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function dn(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function Oh(t,e=null){if(!e)return null;const n=W.atStart(t),r=W.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?j.create(t,dn(0,i,o),dn(t.content.size,i,o)):j.create(t,dn(e,i,o),dn(e,i,o))}const LD=(t=null,e)=>({editor:n,view:r,tr:i,dispatch:o})=>{e=x({scrollIntoView:!0},e);const s=()=>{ua()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!_h(n.state.selection))return s(),!0;const a=Oh(n.state.doc,t)||n.state.selection,l=n.state.selection.eq(a);return o&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0};var ND=Object.freeze({__proto__:null,focus:LD});const ID=(t,e)=>n=>t.every((r,i)=>e(r,_e(x({},n),{index:i})));var $D=Object.freeze({__proto__:null,forEach:ID});const PD=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e);var RD=Object.freeze({__proto__:null,insertContent:PD});function Cf(t){const e=`<body>${t}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function Es(t,e,n){if(n=x({slice:!0,parseOptions:{}},n),typeof t=="object"&&t!==null)try{return Array.isArray(t)?_.fromArray(t.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),Es("",e,n)}if(typeof t=="string"){const r=pi.fromSchema(e);return n.slice?r.parseSlice(Cf(t),n.parseOptions).content:r.parse(Cf(t),n.parseOptions)}return Es("",e,n)}function VD(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Pe||i instanceof Oe))return;const o=t.mapping.maps[r];let s=0;o.forEach((a,l,u,c)=>{s===0&&(s=c)}),t.setSelection(W.near(t.doc.resolve(s),n))}const HD=t=>t.toString().startsWith("<"),zD=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{if(i){n=x({parseOptions:{},updateSelection:!0},n);const s=Es(e,o.schema,{parseOptions:x({preserveWhitespace:"full"},n.parseOptions)});if(s.toString()==="<>")return!0;let{from:a,to:l}=typeof t=="number"?{from:t,to:t}:t,u=!0,c=!0;if((HD(s)?s:[s]).forEach(d=>{d.check(),u=u?d.isText&&d.marks.length===0:!1,c=c?d.isBlock:!1}),a===l&&c){const{parent:d}=r.doc.resolve(a);d.isTextblock&&!d.type.spec.code&&!d.childCount&&(a-=1,l+=1)}u?r.insertText(e,a,l):r.replaceWith(a,l,s),n.updateSelection&&VD(r,r.steps.length-1,-1)}return!0};var jD=Object.freeze({__proto__:null,insertContentAt:zD});const WD=()=>({state:t,dispatch:e})=>uy(t,e);var qD=Object.freeze({__proto__:null,joinBackward:WD});const UD=()=>({state:t,dispatch:e})=>fy(t,e);var KD=Object.freeze({__proto__:null,joinForward:UD});function Th(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function JD(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))ua()||Th()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const GD=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=JD(t).split(/-(?!$)/),s=o.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,a))});return l==null||l.steps.forEach(u=>{const c=u.map(r.mapping);c&&i&&r.maybeStep(c)}),!0};var YD=Object.freeze({__proto__:null,keyboardShortcut:GD});function po(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?Te(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(f,d)=>{if(f.isText)return;const p=Math.max(r,d),h=Math.min(i,d+f.nodeSize);a.push({node:f,from:p,to:h})});const l=i-r,u=a.filter(f=>s?s.name===f.node.type.name:!0).filter(f=>ks(f.node.attrs,n,{strict:!1}));return o?!!u.length:u.reduce((f,d)=>f+d.to-d.from,0)>=l}const XD=(t,e={})=>({state:n,dispatch:r})=>{const i=Te(t,n.schema);return po(n,i,e)?py(n,r):!1};var ZD=Object.freeze({__proto__:null,lift:XD});const QD=()=>({state:t,dispatch:e})=>vy(t,e);var eC=Object.freeze({__proto__:null,liftEmptyBlock:QD});const tC=t=>({state:e,dispatch:n})=>{const r=Te(t,e.schema);return ky(r)(e,n)};var nC=Object.freeze({__proto__:null,liftListItem:tC});const rC=()=>({state:t,dispatch:e})=>hy(t,e);var iC=Object.freeze({__proto__:null,newlineInCode:rC});function ca(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Af(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const oC=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=ca(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(o=Te(t,r.schema)),a==="mark"&&(s=qn(t,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,c)=>{o&&o===u.type&&n.setNodeMarkup(c,void 0,Af(u.attrs,e)),s&&u.marks.length&&u.marks.forEach(f=>{s===f.type&&n.addMark(c,c+u.nodeSize,s.create(Af(f.attrs,e)))})})}),!0):!1};var sC=Object.freeze({__proto__:null,resetAttributes:oC});const aC=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0);var lC=Object.freeze({__proto__:null,scrollIntoView:aC});const uC=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size});var cC=Object.freeze({__proto__:null,selectAll:uC});const fC=()=>({state:t,dispatch:e})=>cy(t,e);var dC=Object.freeze({__proto__:null,selectNodeBackward:fC});const pC=()=>({state:t,dispatch:e})=>dy(t,e);var hC=Object.freeze({__proto__:null,selectNodeForward:pC});const mC=()=>({state:t,dispatch:e})=>yy(t,e);var gC=Object.freeze({__proto__:null,selectParentNode:mC});const vC=()=>({state:t,dispatch:e})=>Cy(t,e);var yC=Object.freeze({__proto__:null,selectTextblockEnd:vC});const bC=()=>({state:t,dispatch:e})=>Dy(t,e);var DC=Object.freeze({__proto__:null,selectTextblockStart:bC});function Mh(t,e,n={}){return Es(t,e,{slice:!1,parseOptions:n})}const CC=(t,e=!1,n={})=>({tr:r,editor:i,dispatch:o})=>{const{doc:s}=r,a=Mh(t,i.schema,n),l=j.create(s,0,s.content.size);return o&&r.setSelection(l).replaceSelectionWith(a,!1).setMeta("preventUpdate",!e),!0};var AC=Object.freeze({__proto__:null,setContent:CC});function ku(t,e){const n=qn(e,t.schema),{from:r,to:i,empty:o}=t.selection,s=[];o?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===n.name);return a?x({},a.attrs):{}}const wC=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:a}=o,l=qn(t,r.schema);if(i)if(s){const u=ku(r,l);n.addStoredMark(l.create(x(x({},u),e)))}else a.forEach(u=>{const c=u.$from.pos,f=u.$to.pos;r.doc.nodesBetween(c,f,(d,p)=>{const h=Math.max(p,c),m=Math.min(p+d.nodeSize,f);d.marks.find(D=>D.type===l)?d.marks.forEach(D=>{l===D.type&&n.addMark(h,m,l.create(x(x({},D.attrs),e)))}):n.addMark(h,m,l.create(e))})});return!0};var xC=Object.freeze({__proto__:null,setMark:wC});const kC=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0);var EC=Object.freeze({__proto__:null,setMeta:kC});const SC=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=Te(t,n.schema);return o.isTextblock?i().command(({commands:s})=>zc(o,e)(n)?!0:s.clearNodes()).command(({state:s})=>zc(o,e)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)};var _C=Object.freeze({__proto__:null,setNode:SC});const OC=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=W.atStart(r).from,o=W.atEnd(r).to,s=dn(t,i,o),a=H.create(r,s);e.setSelection(a)}return!0};var TC=Object.freeze({__proto__:null,setNodeSelection:OC});const MC=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,s=j.atStart(r).from,a=j.atEnd(r).to,l=dn(i,s,a),u=dn(o,s,a),c=j.create(r,l,u);e.setSelection(c)}return!0};var FC=Object.freeze({__proto__:null,setTextSelection:MC});const BC=t=>({state:e,dispatch:n})=>{const r=Te(t,e.schema);return _y(r)(e,n)};var LC=Object.freeze({__proto__:null,sinkListItem:BC});function Qo(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function NC(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function wf(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const IC=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:a,$to:l}=o,u=i.extensionManager.attributes,c=Qo(u,a.node().type.name,a.node().attrs);if(o instanceof H&&o.node.isBlock)return!a.parentOffset||!ii(s,a.pos)?!1:(r&&(t&&wf(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(r){const f=l.parentOffset===l.parent.content.size;o instanceof j&&e.deleteSelection();const d=a.depth===0?void 0:NC(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=f&&d?[{type:d,attrs:c}]:void 0,h=ii(e.doc,e.mapping.map(a.pos),1,p);if(!p&&!h&&ii(e.doc,e.mapping.map(a.pos),1,d?[{type:d}]:void 0)&&(h=!0,p=d?[{type:d,attrs:c}]:void 0),h&&(e.split(e.mapping.map(a.pos),1,p),d&&!f&&!a.parentOffset&&a.parent.type!==d)){const m=e.mapping.map(a.before()),y=e.doc.resolve(m);a.node(-1).canReplaceWith(y.index(),y.index()+1,d)&&e.setNodeMarkup(e.mapping.map(a.before()),d)}t&&wf(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0};var $C=Object.freeze({__proto__:null,splitBlock:IC});const PC=t=>({tr:e,state:n,dispatch:r,editor:i})=>{var o;const s=Te(t,n.schema),{$from:a,$to:l}=n.selection,u=n.selection.node;if(u&&u.isBlock||a.depth<2||!a.sameParent(l))return!1;const c=a.node(-1);if(c.type!==s)return!1;const f=i.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==s||a.index(-2)!==a.node(-2).childCount-1)return!1;if(r){let y=_.empty;const D=a.index(-1)?1:a.index(-2)?2:3;for(let F=a.depth-D;F>=a.depth-3;F-=1)y=_.from(a.node(F).copy(y));const E=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,M=Qo(f,a.node().type.name,a.node().attrs),v=((o=s.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(M))||void 0;y=y.append(_.from(s.createAndFill(null,v)||void 0));const O=a.before(a.depth-(D-1));e.replace(O,a.after(-E),new N(y,4-D,0));let k=-1;e.doc.nodesBetween(O,e.doc.content.size,(F,S)=>{if(k>-1)return!1;F.isTextblock&&F.content.size===0&&(k=S+1)}),k>-1&&e.setSelection(j.near(e.doc.resolve(k))),e.scrollIntoView()}return!0}const d=l.pos===a.end()?c.contentMatchAt(0).defaultType:null,p=Qo(f,c.type.name,c.attrs),h=Qo(f,a.node().type.name,a.node().attrs);e.delete(a.pos,l.pos);const m=d?[{type:s,attrs:p},{type:d,attrs:h}]:[{type:s,attrs:p}];return ii(e.doc,a.pos,2)?(r&&e.split(a.pos,2,m).scrollIntoView(),!0):!1};var RC=Object.freeze({__proto__:null,splitListItem:PC});function VC(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Eu(t){return e=>VC(e.$from,t)}function fa(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function xf(t,e){const{nodeExtensions:n}=fa(e),r=n.find(s=>s.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=q($(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}const kf=(t,e)=>{const n=Eu(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Co(t.doc,n.pos)&&t.join(n.pos),!0},Ef=(t,e)=>{const n=Eu(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&Co(t.doc,r)&&t.join(r),!0},HC=(t,e)=>({editor:n,tr:r,state:i,dispatch:o,chain:s,commands:a,can:l})=>{const{extensions:u}=n.extensionManager,c=Te(t,i.schema),f=Te(e,i.schema),{selection:d}=i,{$from:p,$to:h}=d,m=p.blockRange(h);if(!m)return!1;const y=Eu(D=>xf(D.type.name,u))(d);if(m.depth>=1&&y&&m.depth-y.depth<=1){if(y.node.type===c)return a.liftListItem(f);if(xf(y.node.type.name,u)&&c.validContent(y.node.content)&&o)return s().command(()=>(r.setNodeMarkup(y.pos,c),!0)).command(()=>kf(r,c)).command(()=>Ef(r,c)).run()}return s().command(()=>l().wrapInList(c)?!0:a.clearNodes()).wrapInList(c).command(()=>kf(r,c)).command(()=>Ef(r,c)).run()};var zC=Object.freeze({__proto__:null,toggleList:HC});function Vl(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?qn(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(f=>o?o.name===f.type.name:!0).find(f=>ks(f.attrs,n,{strict:!1}));let s=0;const a=[];if(i.forEach(({$from:f,$to:d})=>{const p=f.pos,h=d.pos;t.doc.nodesBetween(p,h,(m,y)=>{if(!m.isText&&!m.marks.length)return;const D=Math.max(p,y),E=Math.min(h,y+m.nodeSize);s+=E-D,a.push(...m.marks.map(v=>({mark:v,from:D,to:E})))})}),s===0)return!1;const l=a.filter(f=>o?o.name===f.mark.type.name:!0).filter(f=>ks(f.mark.attrs,n,{strict:!1})).reduce((f,d)=>f+d.to-d.from,0),u=a.filter(f=>o?f.mark.type!==o&&f.mark.type.excludes(o):!0).reduce((f,d)=>f+d.to-d.from,0);return(l>0?l+u:l)>=s}const jC=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=qn(t,r.schema);return Vl(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)};var WC=Object.freeze({__proto__:null,toggleMark:jC});const qC=(t,e,n={})=>({state:r,commands:i})=>{const o=Te(t,r.schema),s=Te(e,r.schema);return po(r,o,n)?i.setNode(s):i.setNode(o,n)};var UC=Object.freeze({__proto__:null,toggleNode:qC});const KC=(t,e={})=>({state:n,commands:r})=>{const i=Te(t,n.schema);return po(n,i,e)?r.lift(i):r.wrapIn(i,e)};var JC=Object.freeze({__proto__:null,toggleWrap:KC});const GC=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const s=t.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(o.text){const l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,l))}else s.delete(o.from,o.to)}return!0}}return!1};var YC=Object.freeze({__proto__:null,undoInputRule:GC});const XC=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0};var ZC=Object.freeze({__proto__:null,unsetAllMarks:XC});const QC=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:a}=n,l=qn(t,r.schema),{$from:u,empty:c,ranges:f}=a;if(!i)return!0;if(c&&s){let{from:d,to:p}=a;const h=(o=u.marks().find(y=>y.type===l))===null||o===void 0?void 0:o.attrs,m=xu(u,l,h);m&&(d=m.from,p=m.to),n.removeMark(d,p,l)}else f.forEach(d=>{n.removeMark(d.$from.pos,d.$to.pos,l)});return n.removeStoredMark(l),!0};var eA=Object.freeze({__proto__:null,unsetMark:QC});const tA=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=ca(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(o=Te(t,r.schema)),a==="mark"&&(s=qn(t,r.schema)),i&&n.selection.ranges.forEach(l=>{const u=l.$from.pos,c=l.$to.pos;r.doc.nodesBetween(u,c,(f,d)=>{o&&o===f.type&&n.setNodeMarkup(d,void 0,x(x({},f.attrs),e)),s&&f.marks.length&&f.marks.forEach(p=>{if(s===p.type){const h=Math.max(d,u),m=Math.min(d+f.nodeSize,c);n.addMark(h,m,s.create(x(x({},p.attrs),e)))}})})}),!0):!1};var nA=Object.freeze({__proto__:null,updateAttributes:tA});const rA=(t,e={})=>({state:n,dispatch:r})=>{const i=Te(t,n.schema);return Ay(i,e)(n,r)};var iA=Object.freeze({__proto__:null,wrapIn:rA});const oA=(t,e={})=>({state:n,dispatch:r})=>{const i=Te(t,n.schema);return wy(i,e)(n,r)};var sA=Object.freeze({__proto__:null,wrapInList:oA});const aA=Ae.create({name:"commands",addCommands(){return x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x(x({},uD),fD),pD),mD),vD),bD),CD),wD),kD),SD),TD),FD),ND),$D),RD),jD),qD),KD),YD),ZD),eC),nC),iC),sC),lC),cC),dC),hC),gC),yC),DC),AC),xC),EC),_C),TC),FC),LC),$C),RC),zC),WC),UC),JC),YC),ZC),eA),nA),iA),sA)}}),lA=Ae.create({name:"editable",addProseMirrorPlugins(){return[new we({key:new nt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),uA=Ae.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new we({key:new nt("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}});function da(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return _e(x({},e),{schema:e.schema,plugins:e.plugins,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}})}class pa{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...c)=>{const f=l(...c)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a=[],l=!!e,u=e||o.tr,c=()=>(!l&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),a.every(d=>d===!0)),f=_e(x({},Object.fromEntries(Object.entries(r).map(([d,p])=>[d,(...m)=>{const y=this.buildProps(u,n),D=p(...m)(y);return a.push(D),f}]))),{run:c});return f}createCan(e){const{rawCommands:n,state:r}=this,i=void 0,o=e||r.tr,s=this.buildProps(o,i),a=Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...c)=>u(...c)(_e(x({},s),{dispatch:i}))]));return _e(x({},a),{chain:()=>this.createChain(o,i)})}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i;o.storedMarks&&e.setStoredMarks(o.storedMarks);const a={tr:e,editor:i,view:s,state:da({state:o,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,u])=>[l,(...c)=>u(...c)(a)]))}};return a}}const cA=Ae.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:u}=a,{empty:c,$anchor:f}=l,{pos:d,parent:p}=f,h=W.atStart(u).from===d;return!c||!h||!p.type.isTextblock||p.textContent.length?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i=x({},r),o=_e(x({},r),{"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return ua()||Th()?o:i},addProseMirrorPlugins(){return[new we({key:new nt("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(h=>h.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:i,from:o,to:s}=e.selection,a=W.atStart(e.doc).from,l=W.atEnd(e.doc).to,u=o===a&&s===l,c=n.doc.textBetween(0,n.doc.content.size," "," ").length===0;if(i||!u||!c)return;const f=n.tr,d=da({state:n,transaction:f}),{commands:p}=new pa({editor:this.editor,state:d});if(p.clearNodes(),!!f.steps.length)return f}})]}}),fA=Ae.create({name:"tabindex",addProseMirrorPlugins(){return[new we({key:new nt("tabindex"),props:{attributes:()=>{if(this.editor.isEditable)return{tabindex:"0"}}}})]}});var dA=Object.freeze({__proto__:null,ClipboardTextSerializer:aD,Commands:aA,Editable:lA,FocusEvents:uA,Keymap:cA,Tabindex:fA});function pA(t,e){const n=Te(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,a=>{o.push(a)});const s=o.reverse().find(a=>a.type.name===n.name);return s?x({},s.attrs):{}}function Fh(t,e){const n=ca(typeof e=="string"?e:e.name,t.schema);return n==="node"?pA(t,e):n==="mark"?ku(t,e):{}}function hA(t,e,n={}){if(!e)return po(t,null,n)||Vl(t,null,n);const r=ca(e,t.schema);return r==="node"?po(t,e,n):r==="mark"?Vl(t,e,n):!1}function mA(t,e){const n=jt.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function gA(t,e){const n={from:0,to:t.content.size};return kh(t,n,e)}function vA(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function yA(t,e){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}class ha{constructor(e){this.find=e.find,this.handler=e.handler}}const bA=(t,e)=>{if(wu(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[];return r.push(n.text),r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function il(t){var e;const{editor:n,from:r,to:i,text:o,rules:s,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const u=l.state.doc.resolve(r);if(u.parent.type.spec.code||!!(!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(p=>p.type.spec.code)))return!1;let c=!1;const f=500,d=u.parent.textBetween(Math.max(0,u.parentOffset-f),u.parentOffset,void 0," ")+o;return s.forEach(p=>{if(c)return;const h=bA(d,p.find);if(!h)return;const m=l.state.tr,y=da({state:l.state,transaction:m}),D={from:r-(h[0].length-o.length),to:i},{commands:E,chain:M,can:v}=new pa({editor:n,state:y});p.handler({state:y,range:D,match:h,commands:E,chain:M,can:v})===null||!m.steps.length||(m.setMeta(a,{transform:m,from:r,to:i,text:o}),l.dispatch(m),c=!0)}),c}function DA(t){const{editor:e,rules:n}=t,r=new we({state:{init(){return null},apply(i,o){const s=i.getMeta(this);return s||(i.selectionSet||i.docChanged?null:o)}},props:{handleTextInput(i,o,s,a){return il({editor:e,from:o,to:s,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&il({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?il({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function CA(t){return typeof t=="number"}class AA{constructor(e){this.find=e.find,this.handler=e.handler}}const wA=(t,e)=>{if(wu(e))return[...t.matchAll(e)];const n=e(t);return n?n.map(r=>{const i=[];return i.push(r.text),i.index=r.index,i.input=t,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function xA(t){const{editor:e,state:n,from:r,to:i,rule:o}=t,{commands:s,chain:a,can:l}=new pa({editor:e,state:n}),u=[];return n.doc.nodesBetween(r,i,(f,d)=>{if(!f.isTextblock||f.type.spec.code)return;const p=Math.max(r,d),h=Math.min(i,d+f.content.size),m=f.textBetween(p-d,h-d,void 0,"\uFFFC");wA(m,o.find).forEach(D=>{if(D.index===void 0)return;const E=p+D.index+1,M=E+D[0].length,v={from:n.tr.mapping.map(E),to:n.tr.mapping.map(M)},O=o.handler({state:n,range:v,match:D,commands:s,chain:a,can:l});u.push(O)})}),u.every(f=>f!==null)}function kA(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1;return n.map(a=>new we({view(l){const u=c=>{var f;r=!((f=l.dom.parentElement)===null||f===void 0)&&f.contains(c.target)?l.dom.parentElement:null};return window.addEventListener("dragstart",u),{destroy(){window.removeEventListener("dragstart",u)}}},props:{handleDOMEvents:{drop:l=>(o=r===l.dom.parentElement,!1),paste:(l,u)=>{var c;const f=(c=u.clipboardData)===null||c===void 0?void 0:c.getData("text/html");return i=!!(f!=null&&f.includes("data-pm-slice")),!1}}},appendTransaction:(l,u,c)=>{const f=l[0],d=f.getMeta("uiEvent")==="paste"&&!i,p=f.getMeta("uiEvent")==="drop"&&!o;if(!d&&!p)return;const h=u.doc.content.findDiffStart(c.doc.content),m=u.doc.content.findDiffEnd(c.doc.content);if(!CA(h)||!m||h===m.b)return;const y=c.tr,D=da({state:c,transaction:y});if(!(!xA({editor:e,state:D,from:Math.max(h-1,0),to:m.b,rule:a})||!y.steps.length))return y}}))}function Bh(t){const e=[],{nodeExtensions:n,markExtensions:r}=fa(t),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0};return t.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=$(s,"addGlobalAttributes",a);if(!l)return;l().forEach(c=>{c.types.forEach(f=>{Object.entries(c.attributes).forEach(([d,p])=>{e.push({type:f,name:d,attribute:x(x({},o),p)})})})})}),i.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=$(s,"addAttributes",a);if(!l)return;const u=l();Object.entries(u).forEach(([c,f])=>{e.push({type:s.name,name:c,attribute:x(x({},o),f)})})}),e}function me(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r=x({},e);return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}i==="class"?r[i]=[r[i],o].join(" "):i==="style"?r[i]=[r[i],o].join("; "):r[i]=o}),r},{})}function Hl(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>me(n,r),{})}function EA(t={}){return Object.keys(t).length===0&&t.constructor===Object}function SA(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Sf(t,e){return t.style?t:_e(x({},t),{getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(n):SA(n.getAttribute(s.name));return a==null?o:_e(x({},o),{[s.name]:a})},{});return x(x({},r),i)}})}function _f(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&EA(n)?!1:n!=null))}function _A(t){var e;const n=Bh(t),{nodeExtensions:r,markExtensions:i}=fa(t),o=(e=r.find(l=>$(l,"topNode")))===null||e===void 0?void 0:e.name,s=Object.fromEntries(r.map(l=>{const u=n.filter(y=>y.type===l.name),c={name:l.name,options:l.options,storage:l.storage},f=t.reduce((y,D)=>{const E=$(D,"extendNodeSchema",c);return x(x({},y),E?E(l):{})},{}),d=_f(_e(x({},f),{content:q($(l,"content",c)),marks:q($(l,"marks",c)),group:q($(l,"group",c)),inline:q($(l,"inline",c)),atom:q($(l,"atom",c)),selectable:q($(l,"selectable",c)),draggable:q($(l,"draggable",c)),code:q($(l,"code",c)),defining:q($(l,"defining",c)),isolating:q($(l,"isolating",c)),attrs:Object.fromEntries(u.map(y=>{var D;return[y.name,{default:(D=y==null?void 0:y.attribute)===null||D===void 0?void 0:D.default}]}))})),p=q($(l,"parseHTML",c));p&&(d.parseDOM=p.map(y=>Sf(y,u)));const h=$(l,"renderHTML",c);h&&(d.toDOM=y=>h({node:y,HTMLAttributes:Hl(y,u)}));const m=$(l,"renderText",c);return m&&(d.toText=m),[l.name,d]})),a=Object.fromEntries(i.map(l=>{const u=n.filter(m=>m.type===l.name),c={name:l.name,options:l.options,storage:l.storage},f=t.reduce((m,y)=>{const D=$(y,"extendMarkSchema",c);return x(x({},m),D?D(l):{})},{}),d=_f(_e(x({},f),{inclusive:q($(l,"inclusive",c)),excludes:q($(l,"excludes",c)),group:q($(l,"group",c)),spanning:q($(l,"spanning",c)),code:q($(l,"code",c)),attrs:Object.fromEntries(u.map(m=>{var y;return[m.name,{default:(y=m==null?void 0:m.attribute)===null||y===void 0?void 0:y.default}]}))})),p=q($(l,"parseHTML",c));p&&(d.parseDOM=p.map(m=>Sf(m,u)));const h=$(l,"renderHTML",c);return h&&(d.toDOM=m=>h({mark:m,HTMLAttributes:Hl(m,u)})),[l.name,d]}));return new O1({topNode:o,nodes:s,marks:a})}function ol(t,e){return e.nodes[t]||e.marks[t]||null}function Of(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function OA(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class Yr{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Yr.resolve(e),this.schema=_A(this.extensions),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const o={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:ol(r.name,this.schema)};r.type==="mark"&&((i=q($(r,"keepOnSplit",o)))!==null&&i!==void 0?i:!0)&&this.splittableMarks.push(r.name);const s=$(r,"onBeforeCreate",o);s&&this.editor.on("beforeCreate",s);const a=$(r,"onCreate",o);a&&this.editor.on("create",a);const l=$(r,"onUpdate",o);l&&this.editor.on("update",l);const u=$(r,"onSelectionUpdate",o);u&&this.editor.on("selectionUpdate",u);const c=$(r,"onTransaction",o);c&&this.editor.on("transaction",c);const f=$(r,"onFocus",o);f&&this.editor.on("focus",f);const d=$(r,"onBlur",o);d&&this.editor.on("blur",d);const p=$(r,"onDestroy",o);p&&this.editor.on("destroy",p)})}static resolve(e){const n=Yr.sort(Yr.flatten(e)),r=OA(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=$(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=$(r,"priority")||100,s=$(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:ol(n.name,this.schema)},i=$(n,"addCommands",r);return i?x(x({},e),i()):e},{})}get plugins(){const{editor:e}=this,n=Yr.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(s=>{const a={name:s.name,options:s.options,storage:s.storage,editor:e,type:ol(s.name,this.schema)},l=[],u=$(s,"addKeyboardShortcuts",a);if(u){const p=Object.fromEntries(Object.entries(u()).map(([m,y])=>[m,()=>y({editor:e})])),h=oD(p);l.push(h)}const c=$(s,"addInputRules",a);Of(s,e.options.enableInputRules)&&c&&r.push(...c());const f=$(s,"addPasteRules",a);Of(s,e.options.enablePasteRules)&&f&&i.push(...f());const d=$(s,"addProseMirrorPlugins",a);if(d){const p=d();l.push(...p)}return l}).flat();return[DA({editor:e,rules:r}),...kA({editor:e,rules:i}),...o]}get attributes(){return Bh(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=fa(this.extensions);return Object.fromEntries(n.filter(r=>!!$(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:Te(r.name,this.schema)},s=$(r,"addNodeView",o);if(!s)return[];const a=(l,u,c,f)=>{const d=Hl(l,i);return s()({editor:e,node:l,getPos:c,decorations:f,HTMLAttributes:d,extension:r})};return[r.name,a]}))}}class TA{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}const MA=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;class FA extends TA{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=yA(MA,this.options.injectNonce))}setOptions(e={}){this.options=x(x({},this.options),e),!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){this.setOptions({editable:e})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=xh(n)?n(e,this.state.plugins):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(dA):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new Yr(n,this)}createCommandManager(){this.commandManager=new pa({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=Mh(this.options.content,this.schema,this.options.parseOptions),n=Oh(e,this.options.autofocus);this.view=new Jb(this.options.element,_e(x({},this.options.editorProps),{dispatchTransaction:this.dispatchTransaction.bind(this),state:Kr.create({doc:e,selection:n})}));const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(s)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return Fh(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return hA(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return mA(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return gA(this.state.doc,{blockSeparator:n,textSerializers:x(x({},r),Eh(this.schema))})}get isEmpty(){return vA(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}}class Me{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=x(x({},this.config),e),this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=q($(this,"addOptions",{name:this.name}))),this.storage=q($(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Me(e)}configure(e={}){const n=this.extend();return n.options=la(this.options,e),n.storage=q($(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Me(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=q($(n,"addOptions",{name:n.name})),n.storage=q($(n,"addStorage",{name:n.name,options:n.options})),n}}class Bt{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=x(x({},this.config),e),this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=q($(this,"addOptions",{name:this.name}))),this.storage=q($(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Bt(e)}configure(e={}){const n=this.extend();return n.options=la(this.options,e),n.storage=q($(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Bt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=q($(n,"addOptions",{name:n.name})),n.storage=q($(n,"addStorage",{name:n.name,options:n.options})),n}}class BA{constructor(e,n,r){this.isDragging=!1,this.component=e,this.editor=n.editor,this.options=x({stopEvent:null,ignoreMutation:null},r),this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return null}get contentDOM(){return null}onDragStart(e){var n,r,i,o,s,a,l;const{view:u}=this.editor,c=e.target,f=c.nodeType===3?(n=c.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):c.closest("[data-drag-handle]");if(!this.dom||((r=this.contentDOM)===null||r===void 0?void 0:r.contains(c))||!f)return;let d=0,p=0;if(this.dom!==f){const y=this.dom.getBoundingClientRect(),D=f.getBoundingClientRect(),E=(i=e.offsetX)!==null&&i!==void 0?i:(o=e.nativeEvent)===null||o===void 0?void 0:o.offsetX,M=(s=e.offsetY)!==null&&s!==void 0?s:(a=e.nativeEvent)===null||a===void 0?void 0:a.offsetY;d=D.x-y.x+E,p=D.y-y.y+M}(l=e.dataTransfer)===null||l===void 0||l.setDragImage(this.dom,d,p);const h=H.create(u.state.doc,this.getPos()),m=u.state.tr.setSelection(h);u.dispatch(m)}stopEvent(e){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(r))))return!1;const o=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!o)return!0;const{isEditable:a}=this.editor,{isDragging:l}=this,u=!!this.node.type.spec.draggable,c=H.isSelectable(this.node),f=e.type==="copy",d=e.type==="paste",p=e.type==="cut",h=e.type==="mousedown",m=e.type.startsWith("drag");if(!u&&c&&m&&e.preventDefault(),u&&m&&!l)return e.preventDefault(),!1;if(u&&a&&!l&&h){const y=r.closest("[data-drag-handle]");y&&(this.dom===y||this.dom.contains(y))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(l||o||f||d||p||h&&c)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&ua()&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:n})=>{const r=this.getPos();return n.setNodeMarkup(r,void 0,x(x({},this.node.attrs),e)),!0})}deleteNode(){const e=this.getPos(),n=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:n})}}function Lh(t){return new ha({find:t.find,handler:({state:e,range:n,match:r})=>{const i=q(t.getAttributes,void 0,r)||{},{tr:o}=e,s=n.from;let a=n.to;if(r[1]){const l=r[0].lastIndexOf(r[1]);let u=s+l;u>a?u=a:a=u+r[1].length;const c=r[0][r[0].length-1];o.insertText(c,s+r[0].length-1),o.replaceWith(u,a,t.type.create(i))}else r[0]&&o.replaceWith(s,a,t.type.create(i))}})}function Ss(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t-1),s=xu(o,i.type);!s||r.push(x({mark:i},s))}):n.nodesBetween(t,e,(i,o)=>{r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function Cr(t){return new ha({find:t.find,handler:({state:e,range:n,match:r})=>{const i=q(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],a=r[0];let l=n.to;if(s){const u=a.search(/\S/),c=n.from+a.indexOf(s),f=c+s.length;if(Ss(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(m=>m===t.type&&m!==p.mark.type)).filter(p=>p.to>c).length)return null;f<n.to&&o.delete(f,n.to),c>n.from&&o.delete(n.from+u,c),l=n.from+u+s.length,o.addMark(n.from+u,l,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function zl(t){return new ha({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=q(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)}})}function ma(t){return new ha({find:t.find,handler:({state:e,range:n,match:r})=>{const i=q(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),a=o.doc.resolve(n.from).blockRange(),l=a&&cu(a,t.type,i);if(!l)return null;o.wrap(a,l);const u=o.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&Co(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&o.join(n.from-1)}})}function Vn(t){return new AA({find:t.find,handler:({state:e,range:n,match:r})=>{const i=q(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],a=r[0];let l=n.to;if(s){const u=a.search(/\S/),c=n.from+a.indexOf(s),f=c+s.length;if(Ss(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(m=>m===t.type&&m!==p.mark.type)).filter(p=>p.to>c).length)return null;f<n.to&&o.delete(f,n.to),c>n.from&&o.delete(n.from+u,c),l=n.from+u+s.length,o.addMark(n.from+u,l,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function LA(t,e){const n=new $p(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function NA(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function IA(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function $A(t){const e=IA(t);return e.length===1?e:e.filter((n,r)=>!e.filter((o,s)=>s!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function PA(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,o)=>{const s=[];if(i.ranges.length)i.forEach((a,l)=>{s.push({from:a,to:l})});else{const{from:a,to:l}=n[o];if(a===void 0||l===void 0)return;s.push({from:a,to:l})}s.forEach(({from:a,to:l})=>{const u=e.slice(o).map(a,-1),c=e.slice(o).map(l),f=e.invert().map(u,-1),d=e.invert().map(c);r.push({oldRange:{from:f,to:d},newRange:{from:u,to:c}})})}),$A(r)}function RA(t){return Sh(t)&&t instanceof H}function VA(t,e,n){const i=t.state.doc.content.size,o=dn(e,0,i),s=dn(n,0,i),a=t.coordsAtPos(o),l=t.coordsAtPos(s,-1),u=Math.min(a.top,l.top),c=Math.max(a.bottom,l.bottom),f=Math.min(a.left,l.left),d=Math.max(a.right,l.right),p=d-f,h=c-u,D={top:u,bottom:c,left:f,right:d,width:p,height:h,x:f,y:u};return _e(x({},D),{toJSON:()=>D})}var Ze="top",bt="bottom",Dt="right",Qe="left",Su="auto",wo=[Ze,bt,Dt,Qe],yi="start",ho="end",HA="clippingParents",Nh="viewport",Ni="popper",zA="reference",Tf=wo.reduce(function(t,e){return t.concat([e+"-"+yi,e+"-"+ho])},[]),Ih=[].concat(wo,[Su]).reduce(function(t,e){return t.concat([e,e+"-"+yi,e+"-"+ho])},[]),jA="beforeRead",WA="read",qA="afterRead",UA="beforeMain",KA="main",JA="afterMain",GA="beforeWrite",YA="write",XA="afterWrite",ZA=[jA,WA,qA,UA,KA,JA,GA,YA,XA];function Qt(t){return t?(t.nodeName||"").toLowerCase():null}function Lt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function bi(t){var e=Lt(t).Element;return t instanceof e||t instanceof Element}function yt(t){var e=Lt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function _u(t){if(typeof ShadowRoot=="undefined")return!1;var e=Lt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function QA(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!yt(o)||!Qt(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function ew(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,u){return l[u]="",l},{});!yt(i)||!Qt(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}var $h={name:"applyStyles",enabled:!0,phase:"write",fn:QA,effect:ew,requires:["computeStyles"]};function Kt(t){return t.split("-")[0]}var mr=Math.max,_s=Math.min,Di=Math.round;function Ci(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),r=1,i=1;if(yt(t)&&e){var o=t.offsetHeight,s=t.offsetWidth;s>0&&(r=Di(n.width)/s||1),o>0&&(i=Di(n.height)/o||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function Ou(t){var e=Ci(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Ph(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&_u(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function mn(t){return Lt(t).getComputedStyle(t)}function tw(t){return["table","td","th"].indexOf(Qt(t))>=0}function Un(t){return((bi(t)?t.ownerDocument:t.document)||window.document).documentElement}function ga(t){return Qt(t)==="html"?t:t.assignedSlot||t.parentNode||(_u(t)?t.host:null)||Un(t)}function Mf(t){return!yt(t)||mn(t).position==="fixed"?null:t.offsetParent}function nw(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&yt(t)){var r=mn(t);if(r.position==="fixed")return null}var i=ga(t);for(_u(i)&&(i=i.host);yt(i)&&["html","body"].indexOf(Qt(i))<0;){var o=mn(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function xo(t){for(var e=Lt(t),n=Mf(t);n&&tw(n)&&mn(n).position==="static";)n=Mf(n);return n&&(Qt(n)==="html"||Qt(n)==="body"&&mn(n).position==="static")?e:n||nw(t)||e}function Tu(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Qi(t,e,n){return mr(t,_s(e,n))}function rw(t,e,n){var r=Qi(t,e,n);return r>n?n:r}function Rh(){return{top:0,right:0,bottom:0,left:0}}function Vh(t){return Object.assign({},Rh(),t)}function Hh(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var iw=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Vh(typeof e!="number"?e:Hh(e,wo))};function ow(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Kt(n.placement),l=Tu(a),u=[Qe,Dt].indexOf(a)>=0,c=u?"height":"width";if(!(!o||!s)){var f=iw(i.padding,n),d=Ou(o),p=l==="y"?Ze:Qe,h=l==="y"?bt:Dt,m=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],y=s[l]-n.rects.reference[l],D=xo(o),E=D?l==="y"?D.clientHeight||0:D.clientWidth||0:0,M=m/2-y/2,v=f[p],O=E-d[c]-f[h],k=E/2-d[c]/2+M,F=Qi(v,k,O),S=l;n.modifiersData[r]=(e={},e[S]=F,e.centerOffset=F-k,e)}}function sw(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||!Ph(e.elements.popper,i)||(e.elements.arrow=i))}var aw={name:"arrow",enabled:!0,phase:"main",fn:ow,effect:sw,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ai(t){return t.split("-")[1]}var lw={top:"auto",right:"auto",bottom:"auto",left:"auto"};function uw(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:Di(e*i)/i||0,y:Di(n*i)/i||0}}function Ff(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,f=t.isFixed,d=s.x,p=d===void 0?0:d,h=s.y,m=h===void 0?0:h,y=typeof c=="function"?c({x:p,y:m}):{x:p,y:m};p=y.x,m=y.y;var D=s.hasOwnProperty("x"),E=s.hasOwnProperty("y"),M=Qe,v=Ze,O=window;if(u){var k=xo(n),F="clientHeight",S="clientWidth";if(k===Lt(n)&&(k=Un(n),mn(k).position!=="static"&&a==="absolute"&&(F="scrollHeight",S="scrollWidth")),k=k,i===Ze||(i===Qe||i===Dt)&&o===ho){v=bt;var B=f&&k===O&&O.visualViewport?O.visualViewport.height:k[F];m-=B-r.height,m*=l?1:-1}if(i===Qe||(i===Ze||i===bt)&&o===ho){M=Dt;var L=f&&k===O&&O.visualViewport?O.visualViewport.width:k[S];p-=L-r.width,p*=l?1:-1}}var z=Object.assign({position:a},u&&lw),U=c===!0?uw({x:p,y:m}):{x:p,y:m};if(p=U.x,m=U.y,l){var ee;return Object.assign({},z,(ee={},ee[v]=E?"0":"",ee[M]=D?"0":"",ee.transform=(O.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",ee))}return Object.assign({},z,(e={},e[v]=E?m+"px":"",e[M]=D?p+"px":"",e.transform="",e))}function cw(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:Kt(e.placement),variation:Ai(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Ff(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ff(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var fw={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:cw,data:{}},Ho={passive:!0};function dw(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=Lt(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,Ho)}),a&&l.addEventListener("resize",n.update,Ho),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Ho)}),a&&l.removeEventListener("resize",n.update,Ho)}}var pw={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:dw,data:{}},hw={left:"right",right:"left",bottom:"top",top:"bottom"};function es(t){return t.replace(/left|right|bottom|top/g,function(e){return hw[e]})}var mw={start:"end",end:"start"};function Bf(t){return t.replace(/start|end/g,function(e){return mw[e]})}function Mu(t){var e=Lt(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Fu(t){return Ci(Un(t)).left+Mu(t).scrollLeft}function gw(t){var e=Lt(t),n=Un(t),r=e.visualViewport,i=n.clientWidth,o=n.clientHeight,s=0,a=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,a=r.offsetTop)),{width:i,height:o,x:s+Fu(t),y:a}}function vw(t){var e,n=Un(t),r=Mu(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=mr(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=mr(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+Fu(t),l=-r.scrollTop;return mn(i||n).direction==="rtl"&&(a+=mr(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function Bu(t){var e=mn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function zh(t){return["html","body","#document"].indexOf(Qt(t))>=0?t.ownerDocument.body:yt(t)&&Bu(t)?t:zh(ga(t))}function eo(t,e){var n;e===void 0&&(e=[]);var r=zh(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Lt(r),s=i?[o].concat(o.visualViewport||[],Bu(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(eo(ga(s)))}function jl(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function yw(t){var e=Ci(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function Lf(t,e){return e===Nh?jl(gw(t)):bi(e)?yw(e):jl(vw(Un(t)))}function bw(t){var e=eo(ga(t)),n=["absolute","fixed"].indexOf(mn(t).position)>=0,r=n&&yt(t)?xo(t):t;return bi(r)?e.filter(function(i){return bi(i)&&Ph(i,r)&&Qt(i)!=="body"}):[]}function Dw(t,e,n){var r=e==="clippingParents"?bw(t):[].concat(e),i=[].concat(r,[n]),o=i[0],s=i.reduce(function(a,l){var u=Lf(t,l);return a.top=mr(u.top,a.top),a.right=_s(u.right,a.right),a.bottom=_s(u.bottom,a.bottom),a.left=mr(u.left,a.left),a},Lf(t,o));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function jh(t){var e=t.reference,n=t.element,r=t.placement,i=r?Kt(r):null,o=r?Ai(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Ze:l={x:s,y:e.y-n.height};break;case bt:l={x:s,y:e.y+e.height};break;case Dt:l={x:e.x+e.width,y:a};break;case Qe:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?Tu(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case yi:l[u]=l[u]-(e[c]/2-n[c]/2);break;case ho:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function mo(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.boundary,s=o===void 0?HA:o,a=n.rootBoundary,l=a===void 0?Nh:a,u=n.elementContext,c=u===void 0?Ni:u,f=n.altBoundary,d=f===void 0?!1:f,p=n.padding,h=p===void 0?0:p,m=Vh(typeof h!="number"?h:Hh(h,wo)),y=c===Ni?zA:Ni,D=t.rects.popper,E=t.elements[d?y:c],M=Dw(bi(E)?E:E.contextElement||Un(t.elements.popper),s,l),v=Ci(t.elements.reference),O=jh({reference:v,element:D,strategy:"absolute",placement:i}),k=jl(Object.assign({},D,O)),F=c===Ni?k:v,S={top:M.top-F.top+m.top,bottom:F.bottom-M.bottom+m.bottom,left:M.left-F.left+m.left,right:F.right-M.right+m.right},B=t.modifiersData.offset;if(c===Ni&&B){var L=B[i];Object.keys(S).forEach(function(z){var U=[Dt,bt].indexOf(z)>=0?1:-1,ee=[Ze,bt].indexOf(z)>=0?"y":"x";S[z]+=L[ee]*U})}return S}function Cw(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?Ih:l,c=Ai(r),f=c?a?Tf:Tf.filter(function(h){return Ai(h)===c}):wo,d=f.filter(function(h){return u.indexOf(h)>=0});d.length===0&&(d=f);var p=d.reduce(function(h,m){return h[m]=mo(t,{placement:m,boundary:i,rootBoundary:o,padding:s})[Kt(m)],h},{});return Object.keys(p).sort(function(h,m){return p[h]-p[m]})}function Aw(t){if(Kt(t)===Su)return[];var e=es(t);return[Bf(t),e,Bf(e)]}function ww(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,f=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,h=p===void 0?!0:p,m=n.allowedAutoPlacements,y=e.options.placement,D=Kt(y),E=D===y,M=l||(E||!h?[es(y)]:Aw(y)),v=[y].concat(M).reduce(function(dt,rt){return dt.concat(Kt(rt)===Su?Cw(e,{placement:rt,boundary:c,rootBoundary:f,padding:u,flipVariations:h,allowedAutoPlacements:m}):rt)},[]),O=e.rects.reference,k=e.rects.popper,F=new Map,S=!0,B=v[0],L=0;L<v.length;L++){var z=v[L],U=Kt(z),ee=Ai(z)===yi,xe=[Ze,bt].indexOf(U)>=0,ce=xe?"width":"height",se=mo(e,{placement:z,boundary:c,rootBoundary:f,altBoundary:d,padding:u}),ge=xe?ee?Dt:Qe:ee?bt:Ze;O[ce]>k[ce]&&(ge=es(ge));var ve=es(ge),te=[];if(o&&te.push(se[U]<=0),a&&te.push(se[ge]<=0,se[ve]<=0),te.every(function(dt){return dt})){B=z,S=!1;break}F.set(z,te)}if(S)for(var ne=h?3:1,Ve=function(rt){var He=v.find(function(en){var ze=F.get(en);if(ze)return ze.slice(0,rt).every(function(tn){return tn})});if(He)return B=He,"break"},ft=ne;ft>0;ft--){var Z=Ve(ft);if(Z==="break")break}e.placement!==B&&(e.modifiersData[r]._skip=!0,e.placement=B,e.reset=!0)}}var xw={name:"flip",enabled:!0,phase:"main",fn:ww,requiresIfExists:["offset"],data:{_skip:!1}};function Nf(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function If(t){return[Ze,Dt,bt,Qe].some(function(e){return t[e]>=0})}function kw(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=mo(e,{elementContext:"reference"}),a=mo(e,{altBoundary:!0}),l=Nf(s,r),u=Nf(a,i,o),c=If(l),f=If(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}var Ew={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:kw};function Sw(t,e,n){var r=Kt(t),i=[Qe,Ze].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Qe,Dt].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function _w(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=Ih.reduce(function(c,f){return c[f]=Sw(f,e.rects,o),c},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}var Ow={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:_w};function Tw(t){var e=t.state,n=t.name;e.modifiersData[n]=jh({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var Mw={name:"popperOffsets",enabled:!0,phase:"read",fn:Tw,data:{}};function Fw(t){return t==="x"?"y":"x"}function Bw(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,f=n.padding,d=n.tether,p=d===void 0?!0:d,h=n.tetherOffset,m=h===void 0?0:h,y=mo(e,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),D=Kt(e.placement),E=Ai(e.placement),M=!E,v=Tu(D),O=Fw(v),k=e.modifiersData.popperOffsets,F=e.rects.reference,S=e.rects.popper,B=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,L=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),z=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(!!k){if(o){var ee,xe=v==="y"?Ze:Qe,ce=v==="y"?bt:Dt,se=v==="y"?"height":"width",ge=k[v],ve=ge+y[xe],te=ge-y[ce],ne=p?-S[se]/2:0,Ve=E===yi?F[se]:S[se],ft=E===yi?-S[se]:-F[se],Z=e.elements.arrow,dt=p&&Z?Ou(Z):{width:0,height:0},rt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Rh(),He=rt[xe],en=rt[ce],ze=Qi(0,F[se],dt[se]),tn=M?F[se]/2-ne-ze-He-L.mainAxis:Ve-ze-He-L.mainAxis,pt=M?-F[se]/2+ne+ze+en+L.mainAxis:ft+ze+en+L.mainAxis,nn=e.elements.arrow&&xo(e.elements.arrow),Kn=nn?v==="y"?nn.clientTop||0:nn.clientLeft||0:0,Jn=(ee=z==null?void 0:z[v])!=null?ee:0,Sr=ge+tn-Jn-Kn,_r=ge+pt-Jn,Gn=Qi(p?_s(ve,Sr):ve,ge,p?mr(te,_r):te);k[v]=Gn,U[v]=Gn-ge}if(a){var Yn,Or=v==="x"?Ze:Qe,Tr=v==="x"?bt:Dt,Je=k[O],ht=O==="y"?"height":"width",It=Je+y[Or],Fe=Je-y[Tr],gn=[Ze,Qe].indexOf(D)!==-1,Xn=(Yn=z==null?void 0:z[O])!=null?Yn:0,Mr=gn?It:Je-F[ht]-S[ht]-Xn+L.altAxis,Fr=gn?Je+F[ht]+S[ht]-Xn-L.altAxis:Fe,rn=p&&gn?rw(Mr,Je,Fr):Qi(p?Mr:It,Je,p?Fr:Fe);k[O]=rn,U[O]=rn-Je}e.modifiersData[r]=U}}var Lw={name:"preventOverflow",enabled:!0,phase:"main",fn:Bw,requiresIfExists:["offset"]};function Nw(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Iw(t){return t===Lt(t)||!yt(t)?Mu(t):Nw(t)}function $w(t){var e=t.getBoundingClientRect(),n=Di(e.width)/t.offsetWidth||1,r=Di(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Pw(t,e,n){n===void 0&&(n=!1);var r=yt(e),i=yt(e)&&$w(e),o=Un(e),s=Ci(t,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Qt(e)!=="body"||Bu(o))&&(a=Iw(e)),yt(e)?(l=Ci(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=Fu(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Rw(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function Vw(t){var e=Rw(t);return ZA.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Hw(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function zw(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var $f={placement:"bottom",modifiers:[],strategy:"absolute"};function Pf(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function jw(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?$f:i;return function(a,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},$f,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],d=!1,p={state:c,setOptions:function(D){var E=typeof D=="function"?D(c.options):D;m(),c.options=Object.assign({},o,c.options,E),c.scrollParents={reference:bi(a)?eo(a):a.contextElement?eo(a.contextElement):[],popper:eo(l)};var M=Vw(zw([].concat(r,c.options.modifiers)));return c.orderedModifiers=M.filter(function(v){return v.enabled}),h(),p.update()},forceUpdate:function(){if(!d){var D=c.elements,E=D.reference,M=D.popper;if(!!Pf(E,M)){c.rects={reference:Pw(E,xo(M),c.options.strategy==="fixed"),popper:Ou(M)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(L){return c.modifiersData[L.name]=Object.assign({},L.data)});for(var v=0;v<c.orderedModifiers.length;v++){if(c.reset===!0){c.reset=!1,v=-1;continue}var O=c.orderedModifiers[v],k=O.fn,F=O.options,S=F===void 0?{}:F,B=O.name;typeof k=="function"&&(c=k({state:c,options:S,name:B,instance:p})||c)}}}},update:Hw(function(){return new Promise(function(y){p.forceUpdate(),y(c)})}),destroy:function(){m(),d=!0}};if(!Pf(a,l))return p;p.setOptions(u).then(function(y){!d&&u.onFirstUpdate&&u.onFirstUpdate(y)});function h(){c.orderedModifiers.forEach(function(y){var D=y.name,E=y.options,M=E===void 0?{}:E,v=y.effect;if(typeof v=="function"){var O=v({state:c,name:D,instance:p,options:M}),k=function(){};f.push(O||k)}})}function m(){f.forEach(function(y){return y()}),f=[]}return p}}var Ww=[pw,Mw,fw,$h,Ow,xw,Lw,aw,Ew],qw=jw({defaultModifiers:Ww}),Uw="tippy-box",Wh="tippy-content",Kw="tippy-backdrop",qh="tippy-arrow",Uh="tippy-svg-arrow",nr={passive:!0,capture:!0},Kh=function(){return document.body};function sl(t,e,n){if(Array.isArray(t)){var r=t[e];return r==null?Array.isArray(n)?n[e]:n:r}return t}function Lu(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function Jh(t,e){return typeof t=="function"?t.apply(void 0,e):t}function Rf(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function Jw(t){return t.split(/\s+/).filter(Boolean)}function zr(t){return[].concat(t)}function Vf(t,e){t.indexOf(e)===-1&&t.push(e)}function Gw(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function Yw(t){return t.split("-")[0]}function Os(t){return[].slice.call(t)}function Hf(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function to(){return document.createElement("div")}function va(t){return["Element","Fragment"].some(function(e){return Lu(t,e)})}function Xw(t){return Lu(t,"NodeList")}function Zw(t){return Lu(t,"MouseEvent")}function Qw(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function ex(t){return va(t)?[t]:Xw(t)?Os(t):Array.isArray(t)?t:Os(document.querySelectorAll(t))}function al(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function zf(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function tx(t){var e,n=zr(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function nx(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,s=i.popperState,a=i.props,l=a.interactiveBorder,u=Yw(s.placement),c=s.modifiersData.offset;if(!c)return!0;var f=u==="bottom"?c.top.y:0,d=u==="top"?c.bottom.y:0,p=u==="right"?c.left.x:0,h=u==="left"?c.right.x:0,m=o.top-r+f>l,y=r-o.bottom-d>l,D=o.left-n+p>l,E=n-o.right-h>l;return m||y||D||E})}function ll(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function jf(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Rt={isTouch:!1},Wf=0;function rx(){Rt.isTouch||(Rt.isTouch=!0,window.performance&&document.addEventListener("mousemove",Gh))}function Gh(){var t=performance.now();t-Wf<20&&(Rt.isTouch=!1,document.removeEventListener("mousemove",Gh)),Wf=t}function ix(){var t=document.activeElement;if(Qw(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function ox(){document.addEventListener("touchstart",rx,nr),window.addEventListener("blur",ix)}var sx=typeof window!="undefined"&&typeof document!="undefined",ax=sx?!!window.msCrypto:!1,lx={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},ux={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Ot=Object.assign({appendTo:Kh,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},lx,ux),cx=Object.keys(Ot),fx=function(e){var n=Object.keys(e);n.forEach(function(r){Ot[r]=e[r]})};function Yh(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,s=i.defaultValue;if(o){var a;r[o]=t[o]!==void 0?t[o]:(a=Ot[o])!=null?a:s}return r},{});return Object.assign({},t,n)}function dx(t,e){var n=e?Object.keys(Yh(Object.assign({},Ot,{plugins:e}))):cx,r=n.reduce(function(i,o){var s=(t.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return r}function qf(t,e){var n=Object.assign({},e,{content:Jh(e.content,[t])},e.ignoreAttributes?{}:dx(t,e.plugins));return n.aria=Object.assign({},Ot.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var px=function(){return"innerHTML"};function Wl(t,e){t[px()]=e}function Uf(t){var e=to();return t===!0?e.className=qh:(e.className=Uh,va(t)?e.appendChild(t):Wl(e,t)),e}function Kf(t,e){va(e.content)?(Wl(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Wl(t,e.content):t.textContent=e.content)}function ql(t){var e=t.firstElementChild,n=Os(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(Wh)}),arrow:n.find(function(r){return r.classList.contains(qh)||r.classList.contains(Uh)}),backdrop:n.find(function(r){return r.classList.contains(Kw)})}}function Xh(t){var e=to(),n=to();n.className=Uw,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=to();r.className=Wh,r.setAttribute("data-state","hidden"),Kf(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,s){var a=ql(e),l=a.box,u=a.content,c=a.arrow;s.theme?l.setAttribute("data-theme",s.theme):l.removeAttribute("data-theme"),typeof s.animation=="string"?l.setAttribute("data-animation",s.animation):l.removeAttribute("data-animation"),s.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?l.setAttribute("role",s.role):l.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&Kf(u,t.props),s.arrow?c?o.arrow!==s.arrow&&(l.removeChild(c),l.appendChild(Uf(s.arrow))):l.appendChild(Uf(s.arrow)):c&&l.removeChild(c)}return{popper:e,onUpdate:i}}Xh.$$tippy=!0;var hx=1,zo=[],ul=[];function mx(t,e){var n=qf(t,Object.assign({},Ot,Yh(Hf(e)))),r,i,o,s=!1,a=!1,l=!1,u=!1,c,f,d,p=[],h=Rf(Sr,n.interactiveDebounce),m,y=hx++,D=null,E=Gw(n.plugins),M={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},v={id:y,reference:t,popper:to(),popperInstance:D,props:n,state:M,plugins:E,clearDelayTimeouts:Mr,setProps:Fr,setContent:rn,show:Eo,hide:So,hideWithInteractivity:_o,enable:gn,disable:Xn,unmount:Oo,destroy:To};if(!n.render)return v;var O=n.render(v),k=O.popper,F=O.onUpdate;k.setAttribute("data-tippy-root",""),k.id="tippy-"+v.id,v.popper=k,t._tippy=v,k._tippy=v;var S=E.map(function(w){return w.fn(v)}),B=t.hasAttribute("aria-expanded");return nn(),ne(),ge(),ve("onCreate",[v]),n.showOnCreate&&It(),k.addEventListener("mouseenter",function(){v.props.interactive&&v.state.isVisible&&v.clearDelayTimeouts()}),k.addEventListener("mouseleave",function(){v.props.interactive&&v.props.trigger.indexOf("mouseenter")>=0&&xe().addEventListener("mousemove",h)}),v;function L(){var w=v.props.touch;return Array.isArray(w)?w:[w,0]}function z(){return L()[0]==="hold"}function U(){var w;return!!((w=v.props.render)!=null&&w.$$tippy)}function ee(){return m||t}function xe(){var w=ee().parentNode;return w?tx(w):document}function ce(){return ql(k)}function se(w){return v.state.isMounted&&!v.state.isVisible||Rt.isTouch||c&&c.type==="focus"?0:sl(v.props.delay,w?0:1,Ot.delay)}function ge(w){w===void 0&&(w=!1),k.style.pointerEvents=v.props.interactive&&!w?"":"none",k.style.zIndex=""+v.props.zIndex}function ve(w,P,R){if(R===void 0&&(R=!0),S.forEach(function(J){J[w]&&J[w].apply(J,P)}),R){var Y;(Y=v.props)[w].apply(Y,P)}}function te(){var w=v.props.aria;if(!!w.content){var P="aria-"+w.content,R=k.id,Y=zr(v.props.triggerTarget||t);Y.forEach(function(J){var ke=J.getAttribute(P);if(v.state.isVisible)J.setAttribute(P,ke?ke+" "+R:R);else{var Ge=ke&&ke.replace(R,"").trim();Ge?J.setAttribute(P,Ge):J.removeAttribute(P)}})}}function ne(){if(!(B||!v.props.aria.expanded)){var w=zr(v.props.triggerTarget||t);w.forEach(function(P){v.props.interactive?P.setAttribute("aria-expanded",v.state.isVisible&&P===ee()?"true":"false"):P.removeAttribute("aria-expanded")})}}function Ve(){xe().removeEventListener("mousemove",h),zo=zo.filter(function(w){return w!==h})}function ft(w){if(!(Rt.isTouch&&(l||w.type==="mousedown"))){var P=w.composedPath&&w.composedPath()[0]||w.target;if(!(v.props.interactive&&jf(k,P))){if(zr(v.props.triggerTarget||t).some(function(R){return jf(R,P)})){if(Rt.isTouch||v.state.isVisible&&v.props.trigger.indexOf("click")>=0)return}else ve("onClickOutside",[v,w]);v.props.hideOnClick===!0&&(v.clearDelayTimeouts(),v.hide(),a=!0,setTimeout(function(){a=!1}),v.state.isMounted||He())}}}function Z(){l=!0}function dt(){l=!1}function rt(){var w=xe();w.addEventListener("mousedown",ft,!0),w.addEventListener("touchend",ft,nr),w.addEventListener("touchstart",dt,nr),w.addEventListener("touchmove",Z,nr)}function He(){var w=xe();w.removeEventListener("mousedown",ft,!0),w.removeEventListener("touchend",ft,nr),w.removeEventListener("touchstart",dt,nr),w.removeEventListener("touchmove",Z,nr)}function en(w,P){tn(w,function(){!v.state.isVisible&&k.parentNode&&k.parentNode.contains(k)&&P()})}function ze(w,P){tn(w,P)}function tn(w,P){var R=ce().box;function Y(J){J.target===R&&(ll(R,"remove",Y),P())}if(w===0)return P();ll(R,"remove",f),ll(R,"add",Y),f=Y}function pt(w,P,R){R===void 0&&(R=!1);var Y=zr(v.props.triggerTarget||t);Y.forEach(function(J){J.addEventListener(w,P,R),p.push({node:J,eventType:w,handler:P,options:R})})}function nn(){z()&&(pt("touchstart",Jn,{passive:!0}),pt("touchend",_r,{passive:!0})),Jw(v.props.trigger).forEach(function(w){if(w!=="manual")switch(pt(w,Jn),w){case"mouseenter":pt("mouseleave",_r);break;case"focus":pt(ax?"focusout":"blur",Gn);break;case"focusin":pt("focusout",Gn);break}})}function Kn(){p.forEach(function(w){var P=w.node,R=w.eventType,Y=w.handler,J=w.options;P.removeEventListener(R,Y,J)}),p=[]}function Jn(w){var P,R=!1;if(!(!v.state.isEnabled||Yn(w)||a)){var Y=((P=c)==null?void 0:P.type)==="focus";c=w,m=w.currentTarget,ne(),!v.state.isVisible&&Zw(w)&&zo.forEach(function(J){return J(w)}),w.type==="click"&&(v.props.trigger.indexOf("mouseenter")<0||s)&&v.props.hideOnClick!==!1&&v.state.isVisible?R=!0:It(w),w.type==="click"&&(s=!R),R&&!Y&&Fe(w)}}function Sr(w){var P=w.target,R=ee().contains(P)||k.contains(P);if(!(w.type==="mousemove"&&R)){var Y=ht().concat(k).map(function(J){var ke,Ge=J._tippy,on=(ke=Ge.popperInstance)==null?void 0:ke.state;return on?{popperRect:J.getBoundingClientRect(),popperState:on,props:n}:null}).filter(Boolean);nx(Y,w)&&(Ve(),Fe(w))}}function _r(w){var P=Yn(w)||v.props.trigger.indexOf("click")>=0&&s;if(!P){if(v.props.interactive){v.hideWithInteractivity(w);return}Fe(w)}}function Gn(w){v.props.trigger.indexOf("focusin")<0&&w.target!==ee()||v.props.interactive&&w.relatedTarget&&k.contains(w.relatedTarget)||Fe(w)}function Yn(w){return Rt.isTouch?z()!==w.type.indexOf("touch")>=0:!1}function Or(){Tr();var w=v.props,P=w.popperOptions,R=w.placement,Y=w.offset,J=w.getReferenceClientRect,ke=w.moveTransition,Ge=U()?ql(k).arrow:null,on=J?{getBoundingClientRect:J,contextElement:J.contextElement||ee()}:t,vn={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Br){var yn=Br.state;if(U()){var Ca=ce(),Mi=Ca.box;["placement","reference-hidden","escaped"].forEach(function(Lr){Lr==="placement"?Mi.setAttribute("data-placement",yn.placement):yn.attributes.popper["data-popper-"+Lr]?Mi.setAttribute("data-"+Lr,""):Mi.removeAttribute("data-"+Lr)}),yn.attributes.popper={}}}},sn=[{name:"offset",options:{offset:Y}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!ke}},vn];U()&&Ge&&sn.push({name:"arrow",options:{element:Ge,padding:3}}),sn.push.apply(sn,(P==null?void 0:P.modifiers)||[]),v.popperInstance=qw(on,k,Object.assign({},P,{placement:R,onFirstUpdate:d,modifiers:sn}))}function Tr(){v.popperInstance&&(v.popperInstance.destroy(),v.popperInstance=null)}function Je(){var w=v.props.appendTo,P,R=ee();v.props.interactive&&w===Kh||w==="parent"?P=R.parentNode:P=Jh(w,[R]),P.contains(k)||P.appendChild(k),v.state.isMounted=!0,Or()}function ht(){return Os(k.querySelectorAll("[data-tippy-root]"))}function It(w){v.clearDelayTimeouts(),w&&ve("onTrigger",[v,w]),rt();var P=se(!0),R=L(),Y=R[0],J=R[1];Rt.isTouch&&Y==="hold"&&J&&(P=J),P?r=setTimeout(function(){v.show()},P):v.show()}function Fe(w){if(v.clearDelayTimeouts(),ve("onUntrigger",[v,w]),!v.state.isVisible){He();return}if(!(v.props.trigger.indexOf("mouseenter")>=0&&v.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(w.type)>=0&&s)){var P=se(!1);P?i=setTimeout(function(){v.state.isVisible&&v.hide()},P):o=requestAnimationFrame(function(){v.hide()})}}function gn(){v.state.isEnabled=!0}function Xn(){v.hide(),v.state.isEnabled=!1}function Mr(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function Fr(w){if(!v.state.isDestroyed){ve("onBeforeUpdate",[v,w]),Kn();var P=v.props,R=qf(t,Object.assign({},P,Hf(w),{ignoreAttributes:!0}));v.props=R,nn(),P.interactiveDebounce!==R.interactiveDebounce&&(Ve(),h=Rf(Sr,R.interactiveDebounce)),P.triggerTarget&&!R.triggerTarget?zr(P.triggerTarget).forEach(function(Y){Y.removeAttribute("aria-expanded")}):R.triggerTarget&&t.removeAttribute("aria-expanded"),ne(),ge(),F&&F(P,R),v.popperInstance&&(Or(),ht().forEach(function(Y){requestAnimationFrame(Y._tippy.popperInstance.forceUpdate)})),ve("onAfterUpdate",[v,w])}}function rn(w){v.setProps({content:w})}function Eo(){var w=v.state.isVisible,P=v.state.isDestroyed,R=!v.state.isEnabled,Y=Rt.isTouch&&!v.props.touch,J=sl(v.props.duration,0,Ot.duration);if(!(w||P||R||Y)&&!ee().hasAttribute("disabled")&&(ve("onShow",[v],!1),v.props.onShow(v)!==!1)){if(v.state.isVisible=!0,U()&&(k.style.visibility="visible"),ge(),rt(),v.state.isMounted||(k.style.transition="none"),U()){var ke=ce(),Ge=ke.box,on=ke.content;al([Ge,on],0)}d=function(){var sn;if(!(!v.state.isVisible||u)){if(u=!0,k.offsetHeight,k.style.transition=v.props.moveTransition,U()&&v.props.animation){var Ct=ce(),Br=Ct.box,yn=Ct.content;al([Br,yn],J),zf([Br,yn],"visible")}te(),ne(),Vf(ul,v),(sn=v.popperInstance)==null||sn.forceUpdate(),ve("onMount",[v]),v.props.animation&&U()&&ze(J,function(){v.state.isShown=!0,ve("onShown",[v])})}},Je()}}function So(){var w=!v.state.isVisible,P=v.state.isDestroyed,R=!v.state.isEnabled,Y=sl(v.props.duration,1,Ot.duration);if(!(w||P||R)&&(ve("onHide",[v],!1),v.props.onHide(v)!==!1)){if(v.state.isVisible=!1,v.state.isShown=!1,u=!1,s=!1,U()&&(k.style.visibility="hidden"),Ve(),He(),ge(!0),U()){var J=ce(),ke=J.box,Ge=J.content;v.props.animation&&(al([ke,Ge],Y),zf([ke,Ge],"hidden"))}te(),ne(),v.props.animation?U()&&en(Y,v.unmount):v.unmount()}}function _o(w){xe().addEventListener("mousemove",h),Vf(zo,h),h(w)}function Oo(){v.state.isVisible&&v.hide(),v.state.isMounted&&(Tr(),ht().forEach(function(w){w._tippy.unmount()}),k.parentNode&&k.parentNode.removeChild(k),ul=ul.filter(function(w){return w!==v}),v.state.isMounted=!1,ve("onHidden",[v]))}function To(){v.state.isDestroyed||(v.clearDelayTimeouts(),v.unmount(),Kn(),delete t._tippy,v.state.isDestroyed=!0,ve("onDestroy",[v]))}}function ko(t,e){e===void 0&&(e={});var n=Ot.plugins.concat(e.plugins||[]);ox();var r=Object.assign({},e,{plugins:n}),i=ex(t),o=i.reduce(function(s,a){var l=a&&mx(a,r);return l&&s.push(l),s},[]);return va(t)?o[0]:o}ko.defaultProps=Ot;ko.setDefaultProps=fx;ko.currentInput=Rt;Object.assign({},$h,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});ko.setDefaultProps({render:Xh});class gx{constructor({editor:e,element:n,view:r,tippyOptions:i={},shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:s,state:a,from:l,to:u})=>{const{doc:c,selection:f}=a,{empty:d}=f,p=!c.textBetween(l,u).length&&_h(a.selection);return!(!s.hasFocus()||d||p)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:s})=>{var a;if(this.preventHide){this.preventHide=!1;return}(s==null?void 0:s.relatedTarget)&&((a=this.element.parentNode)===null||a===void 0?void 0:a.contains(s.relatedTarget))||this.hide()},this.editor=e,this.element=n,this.view=r,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=ko(e,x({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle"},this.tippyOptions)),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",r=>{this.blurHandler({event:r})}))}update(e,n){var r,i,o;const{state:s,composing:a}=e,{doc:l,selection:u}=s,c=n&&n.doc.eq(l)&&n.selection.eq(u);if(a||c)return;this.createTooltip();const{ranges:f}=u,d=Math.min(...f.map(m=>m.$from.pos)),p=Math.max(...f.map(m=>m.$to.pos));if(!((r=this.shouldShow)===null||r===void 0?void 0:r.call(this,{editor:this.editor,view:e,state:s,oldState:n,from:d,to:p}))){this.hide();return}(i=this.tippy)===null||i===void 0||i.setProps({getReferenceClientRect:((o=this.tippyOptions)===null||o===void 0?void 0:o.getReferenceClientRect)||(()=>{if(RA(s.selection)){const m=e.nodeDOM(d);if(m)return m.getBoundingClientRect()}return VA(e,d,p)})}),this.show()}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e;(e=this.tippy)===null||e===void 0||e.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Zh=t=>new we({key:typeof t.pluginKey=="string"?new nt(t.pluginKey):t.pluginKey,view:e=>new gx(x({view:e},t))});Ae.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Zh({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});const vx={name:"BubbleMenu",props:{pluginKey:{type:[String,Object],default:"bubbleMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},watch:{editor:{immediate:!0,handler(t){!t||this.$nextTick(()=>{t.registerPlugin(Zh({pluginKey:this.pluginKey,editor:t,element:this.$el,tippyOptions:this.tippyOptions,shouldShow:this.shouldShow}))})}}},render(t){return t("div",{style:{visibility:"hidden"}},this.$slots.default)},beforeDestroy(){this.editor.unregisterPlugin(this.pluginKey)}};class yx extends FA{constructor(){super(...arguments),this.contentComponent=null}}const bx={name:"EditorContent",props:{editor:{default:null,type:Object}},watch:{editor:{immediate:!0,handler(t){t&&t.options.element&&this.$nextTick(()=>{const e=this.$el;!e||!t.options.element.firstChild||(e.append(...t.options.element.childNodes),t.contentComponent=this,t.setOptions({element:e}),t.createNodeViews())})}}},render(t){return t("div")},beforeDestroy(){const{editor:t}=this;if(!t||(t.isDestroyed||t.view.setProps({nodeViews:{}}),t.contentComponent=null,!t.options.element.firstChild))return;const e=document.createElement("div");e.append(...t.options.element.childNodes),t.setOptions({element:e})}};class Dx{constructor(e,n){const r=st.extend(e);this.ref=new r(n).$mount()}get element(){return this.ref.$el}updateProps(e={}){if(!this.ref.$props)return;const n=st.config.silent;st.config.silent=!0,Object.entries(e).forEach(([r,i])=>{this.ref.$props[r]=i}),st.config.silent=n}destroy(){this.ref.$destroy()}}class Cx extends BA{mount(){var e,n;const r={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(a={})=>this.updateAttributes(a),deleteNode:()=>this.deleteNode()},i=this.onDragStart.bind(this);this.decorationClasses=st.observable({value:this.getDecorationClasses()});const s=((n=(e=this.editor.contentComponent)===null||e===void 0?void 0:e.$options._base)!==null&&n!==void 0?n:st).extend(this.component).extend({props:Object.keys(r),provide:()=>({onDragStart:i,decorationClasses:this.decorationClasses})});this.renderer=new Dx(s,{parent:this.editor.contentComponent,propsData:r})}get dom(){if(!this.renderer.element.hasAttribute("data-node-view-wrapper"))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.dom.querySelector("[data-node-view-content]")||this.dom}update(e,n){const r=i=>{this.decorationClasses.value=this.getDecorationClasses(),this.renderer.updateProps(i)};if(typeof this.options.update=="function"){const i=this.node,o=this.decorations;return this.node=e,this.decorations=n,this.options.update({oldNode:i,oldDecorations:o,newNode:e,newDecorations:n,updateProps:()=>r({node:e,decorations:n})})}return e.type!==this.node.type?!1:(e===this.node&&this.decorations===n||(this.node=e,this.decorations=n,r({node:e,decorations:n})),!0)}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}getDecorationClasses(){return this.decorations.map(e=>e.type.attrs.class).flat().join(" ")}destroy(){this.renderer.destroy()}}function Ax(t,e){return n=>n.editor.contentComponent?new Cx(t,n,e):{}}const wx={props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(t){return t(this.as,{class:this.decorationClasses.value,style:{whiteSpace:"normal"},attrs:{"data-node-view-wrapper":""},on:{dragstart:this.onDragStart}},this.$slots.default)}};var xx="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z",Nu="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",kx="M19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19V5C21 3.9 20.1 3 19 3M11 8H9V10C9 11.1 8.1 12 7 12C8.1 12 9 12.9 9 14V16H11V18H9C7.9 18 7 17.1 7 16V15C7 13.9 6.1 13 5 13V11C6.1 11 7 10.1 7 9V8C7 6.9 7.9 6 9 6H11V8M19 13C17.9 13 17 13.9 17 15V16C17 17.1 16.1 18 15 18H13V16H15V14C15 12.9 15.9 12 17 12C15.9 12 15 11.1 15 10V8H13V6H15C16.1 6 17 6.9 17 8V9C17 10.1 17.9 11 19 11V13Z",Ex="M14.6,16.6L19.2,12L14.6,7.4L16,6L22,12L16,18L14.6,16.6M9.4,16.6L4.8,12L9.4,7.4L8,6L2,12L8,18L9.4,16.6Z",Jf="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z",Sx="M3,3H21V5H3V3M7,7H17V9H7V7M3,11H21V13H3V11M7,15H17V17H7V15M3,19H21V21H3V19Z",_x="M3,3H21V5H3V3M3,7H21V9H3V7M3,11H21V13H3V11M3,15H21V17H3V15M3,19H21V21H3V19Z",Ox="M3,3H21V5H3V3M3,7H15V9H3V7M3,11H21V13H3V11M3,15H15V17H3V15M3,19H21V21H3V19Z",Tx="M3,3H21V5H3V3M9,7H21V9H9V7M3,11H21V13H3V11M9,15H21V17H9V15M3,19H21V21H3V19Z",Mx="M13.5,15.5H10V12.5H13.5A1.5,1.5 0 0,1 15,14A1.5,1.5 0 0,1 13.5,15.5M10,6.5H13A1.5,1.5 0 0,1 14.5,8A1.5,1.5 0 0,1 13,9.5H10M15.6,10.79C16.57,10.11 17.25,9 17.25,8C17.25,5.74 15.5,4 13.25,4H7V18H14.04C16.14,18 17.75,16.3 17.75,14.21C17.75,12.69 16.89,11.39 15.6,10.79Z",Fx="M6,5V5.18L8.82,8H11.22L10.5,9.68L12.6,11.78L14.21,8H20V5H6M3.27,5L2,6.27L8.97,13.24L6.5,19H9.5L11.07,15.34L16.73,21L18,19.73L3.55,5.27L3.27,5Z",Bx="M4,17L6.75,14.25L6.72,14.23C6.14,13.64 6.14,12.69 6.72,12.11L11.46,7.37L15.7,11.61L10.96,16.35C10.39,16.93 9.46,16.93 8.87,16.37L8.24,17H4M15.91,2.91C16.5,2.33 17.45,2.33 18.03,2.91L20.16,5.03C20.74,5.62 20.74,6.57 20.16,7.16L16.86,10.45L12.62,6.21L15.91,2.91Z",Lx="M3,7H9V13H3V7M3,3H21V5H3V3M21,7V9H11V7H21M21,11V13H11V11H21M3,15H17V17H3V15M3,19H21V21H3V19Z",Nx="M3,7H9V13H3V7M3,3H21V5H3V3M21,11V13H11V11H21M3,15H17V17H3V15M3,19H21V21H3V19Z",Ix="M15,7H21V13H15V7M3,3H21V5H3V3M13,7V9H3V7H13M9,11V13H3V11H9M3,15H17V17H3V15M3,19H21V21H3V19Z",$x="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M14,18V16H16V6.31L13.5,7.75V5.44L16,4H18V16H20V18H14Z",Px="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M21,18H15A2,2 0 0,1 13,16C13,15.47 13.2,15 13.54,14.64L18.41,9.41C18.78,9.05 19,8.55 19,8A2,2 0 0,0 17,6A2,2 0 0,0 15,8H13A4,4 0 0,1 17,4A4,4 0 0,1 21,8C21,9.1 20.55,10.1 19.83,10.83L15,16H21V18Z",Rx="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M15,4H19A2,2 0 0,1 21,6V16A2,2 0 0,1 19,18H15A2,2 0 0,1 13,16V15H15V16H19V12H15V10H19V6H15V7H13V6A2,2 0 0,1 15,4Z",Vx="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M18,18V13H13V11L18,4H20V11H21V13H20V18H18M18,11V7.42L15.45,11H18Z",Hx="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M15,4H20V6H15V10H17A4,4 0 0,1 21,14A4,4 0 0,1 17,18H15A2,2 0 0,1 13,16V15H15V16H17A2,2 0 0,0 19,14A2,2 0 0,0 17,12H15A2,2 0 0,1 13,10V6A2,2 0 0,1 15,4Z",zx="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M15,4H19A2,2 0 0,1 21,6V7H19V6H15V10H19A2,2 0 0,1 21,12V16A2,2 0 0,1 19,18H15A2,2 0 0,1 13,16V6A2,2 0 0,1 15,4M15,12V16H19V12H15Z",jx="M11,13H21V11H11M11,9H21V7H11M3,3V5H21V3M3,21H21V19H3M3,12L7,16V8M11,17H21V15H11V17Z",Wx="M11,13H21V11H11M11,9H21V7H11M3,3V5H21V3M11,17H21V15H11M3,8V16L7,12M3,21H21V19H3V21Z",qx="M10,4V7H12.21L8.79,15H6V18H14V15H11.79L15.21,7H18V4H10Z",Ux="M7,5H21V7H7V5M7,13V11H21V13H7M4,4.5A1.5,1.5 0 0,1 5.5,6A1.5,1.5 0 0,1 4,7.5A1.5,1.5 0 0,1 2.5,6A1.5,1.5 0 0,1 4,4.5M4,10.5A1.5,1.5 0 0,1 5.5,12A1.5,1.5 0 0,1 4,13.5A1.5,1.5 0 0,1 2.5,12A1.5,1.5 0 0,1 4,10.5M7,19V17H21V19H7M4,16.5A1.5,1.5 0 0,1 5.5,18A1.5,1.5 0 0,1 4,19.5A1.5,1.5 0 0,1 2.5,18A1.5,1.5 0 0,1 4,16.5Z",Kx="M21,19V17H8V19H21M21,13V11H8V13H21M8,7H21V5H8V7M4,5V7H6V5H4M3,5A1,1 0 0,1 4,4H6A1,1 0 0,1 7,5V7A1,1 0 0,1 6,8H4A1,1 0 0,1 3,7V5M4,11V13H6V11H4M3,11A1,1 0 0,1 4,10H6A1,1 0 0,1 7,11V13A1,1 0 0,1 6,14H4A1,1 0 0,1 3,13V11M4,17V19H6V17H4M3,17A1,1 0 0,1 4,16H6A1,1 0 0,1 7,17V19A1,1 0 0,1 6,20H4A1,1 0 0,1 3,19V17Z",Jx="M7,13V11H21V13H7M7,19V17H21V19H7M7,7V5H21V7H7M3,8V5H2V4H4V8H3M2,17V16H5V20H2V19H4V18.5H3V17.5H4V17H2M4.25,10A0.75,0.75 0 0,1 5,10.75C5,10.95 4.92,11.14 4.79,11.27L3.12,13H5V14H2V13.08L4,11H2V10H4.25Z",Gx="M13,4A4,4 0 0,1 17,8A4,4 0 0,1 13,12H11V18H9V4H13M13,10A2,2 0 0,0 15,8A2,2 0 0,0 13,6H11V10H13Z",Yx="M10,7L8,11H11V17H5V11L7,7H10M18,7L16,11H19V17H13V11L15,7H18Z",Xx="M23,12V14H18.61C19.61,16.14 19.56,22 12.38,22C4.05,22.05 4.37,15.5 4.37,15.5L8.34,15.55C8.37,18.92 11.5,18.92 12.12,18.88C12.76,18.83 15.15,18.84 15.34,16.5C15.42,15.41 14.32,14.58 13.12,14H1V12H23M19.41,7.89L15.43,7.86C15.43,7.86 15.6,5.09 12.15,5.08C8.7,5.06 9,7.28 9,7.56C9.04,7.84 9.34,9.22 12,9.88H5.71C5.71,9.88 2.22,3.15 10.74,2C19.45,0.8 19.43,7.91 19.41,7.89Z",Zx="M5,21H19V19H5V21M12,17A6,6 0 0,0 18,11V3H15.5V11A3.5,3.5 0 0,1 12,14.5A3.5,3.5 0 0,1 8.5,11V3H6V11A6,6 0 0,0 12,17Z",Qx="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z",ek="M14,14H19V16H16V19H14V14M5,14H10V19H8V16H5V14M8,5H10V10H5V8H8V5M19,8V10H14V5H16V8H19Z",tk="M8.5,13.5L11,16.5L14.5,12L19,18H5M21,19V5C21,3.89 20.1,3 19,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19Z",ya="M10.59,13.41C11,13.8 11,14.44 10.59,14.83C10.2,15.22 9.56,15.22 9.17,14.83C7.22,12.88 7.22,9.71 9.17,7.76V7.76L12.71,4.22C14.66,2.27 17.83,2.27 19.78,4.22C21.73,6.17 21.73,9.34 19.78,11.29L18.29,12.78C18.3,11.96 18.17,11.14 17.89,10.36L18.36,9.88C19.54,8.71 19.54,6.81 18.36,5.64C17.19,4.46 15.29,4.46 14.12,5.64L10.59,9.17C9.41,10.34 9.41,12.24 10.59,13.41M13.41,9.17C13.8,8.78 14.44,8.78 14.83,9.17C16.78,11.12 16.78,14.29 14.83,16.24V16.24L11.29,19.78C9.34,21.73 6.17,21.73 4.22,19.78C2.27,17.83 2.27,14.66 4.22,12.71L5.71,11.22C5.7,12.04 5.83,12.86 6.11,13.65L5.64,14.12C4.46,15.29 4.46,17.19 5.64,18.36C6.81,19.54 8.71,19.54 9.88,18.36L13.41,14.83C14.59,13.66 14.59,11.76 13.41,10.59C13,10.2 13,9.56 13.41,9.17Z",nk="M19,13H5V11H19V13Z",rk="M18.4,10.6C16.55,9 14.15,8 11.5,8C6.85,8 2.92,11.03 1.54,15.22L3.9,16C4.95,12.81 7.95,10.5 11.5,10.5C13.45,10.5 15.23,11.22 16.62,12.38L13,16H22V7L18.4,10.6Z",ik="M9 7V17H15V15H11V7H9Z",ok="M9 7C7.9 7 7 7.9 7 9V17H9V9H11V16H13V9H15V17H17V9C17 7.9 16.11 7 15 7H9Z",sk="M11 7C9.9 7 9 7.9 9 9V11C9 12.11 9.9 13 11 13H13V15H9V17H13C14.11 17 15 16.11 15 15V13C15 11.9 14.11 11 13 11H11V9H15V7H11Z",Iu="M21,6V8H3V6H21M3,18H12V16H3V18M3,13H21V11H3V13Z",ak="M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z",lk="M17,10.5V7A1,1 0 0,0 16,6H4A1,1 0 0,0 3,7V17A1,1 0 0,0 4,18H16A1,1 0 0,0 17,17V13.5L21,17.5V6.5L17,10.5Z",uk="M12,20A6,6 0 0,1 6,14C6,10 12,3.25 12,3.25C12,3.25 18,10 18,14A6,6 0 0,1 12,20Z";const ck={bold:Mx,italic:qx,underline:Zx,strike:Xx,color:uk,highlight:Bx,h1:$x,h2:Px,h3:Rx,h4:Vx,h5:Hx,h6:zx,p:Gx,left:Ox,center:Sx,right:Tx,justify:_x,bulletList:Ux,orderedList:Jx,taskList:Kx,indent:Wx,outdent:jx,link:ya,image:tk,video:lk,blockquote:Yx,rule:nk,code:Ex,codeBlock:kx,clear:Fx,undo:ak,redo:rk,fullscreen:Qx};function Q(t){return ck[t]}const fk=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#000000","#333333","#666666","#999999","#CCCCCC","#D5D5D4","#E8E8E8","#EEEEEE"];var dk={props:{value:Fn().def(""),nudgeLeft:cr([String,Number]).def(0),nudgeTop:cr([String,Number]).def(0),more:pe().def(!0),dark:pe().def(!1)},setup(t,{emit:e}){const n=De(!1);function r(i){e("input",i),n.value=!1}return{mdiCircle:xx,colors:fk,menu:n,setColor:r}}},pk=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(Bg,{attrs:{"offset-y":"",dark:t.dark,"nudge-left":t.nudgeLeft||255,"nudge-top":t.nudgeTop||42,"close-on-content-click":!1,transition:"scale-transition",origin:t.nudgeLeft?"top left":"top right"},scopedSlots:t._u([{key:"activator",fn:function(r){var i=r.on;return[t._t("button",function(){return[n(be,t._g({attrs:{color:t.value,icon:"",small:""}},i),[n(Tt,[t._v(t._s(t.mdiCircle))])],1)]},null,{on:i})]}}],null,!0),model:{value:t.menu,callback:function(r){t.menu=r},expression:"menu"}},[n(Lg,[n(Ng,{staticClass:"d-flex flex-wrap justify-between ma-1",attrs:{fluid:"","max-width":230}},[t._l(t.colors,function(r){return[n(be,{key:r,attrs:{icon:"",small:""},on:{click:function(i){return t.setColor(r)}}},[n(Tt,{attrs:{color:r}},[t._v(t._s(t.mdiCircle))])],1)]})],2)],1)],1)},hk=[];function Nt(t,e,n,r,i,o,s,a){var l=typeof t=="function"?t.options:t;e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o);var u;if(s?(u=function(d){d=d||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!d&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(d=__VUE_SSR_CONTEXT__),i&&i.call(this,d),d&&d._registeredComponents&&d._registeredComponents.add(s)},l._ssrRegister=u):i&&(u=a?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(p,h){return u.call(h),c(p,h)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,u):[u]}return{exports:t,options:l}}const Gf={};var mk=Nt(dk,pk,hk,!1,gk,null,null,null);function gk(t){for(let e in Gf)this[e]=Gf[e]}var vk=function(){return mk.exports}(),yk={components:{ColorPicker:vk},props:{dark:pe().def(!1),disabled:pe().def(!1),items:vr().def(()=>[])},setup(){const t=De(null),e=De(null);function n(r){const{color:i}=r.getAttributes("textStyle"),{color:o}=r.getAttributes("highlight");t.value=i,e.value=o}return{color:t,highlight:e,onUpdate:n}}},bk=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(Yl,t._b({staticClass:"py-1 ps-1",attrs:{dense:"",flat:"",height:"auto"}},"v-toolbar",t.$attrs,!1),[t._l(t.items,function(r,i){return[r.type==="spacer"?n(vo,{key:`spacer-${i}-${r.type}`}):r.type==="divider"?n(Ed,{key:`divider-${i}-${r.type}`,staticClass:"mx-1 me-2",attrs:{vertical:""}}):r.type==="slot"?n("div",{key:`slot-${i}-${r.type}`},[t._t(r.slot,null,null,{attrs:{class:"rounded me-1",disabled:t.disabled,icon:!0,small:!0}})],2):n("div",{key:`button-${i}-${r.type}`},[n(Ig,{attrs:{"open-delay":500,top:"","z-index":201,bottom:"",attach:""},scopedSlots:t._u([{key:"activator",fn:function(o){var s=o.on,a=o.attrs;return[r.type==="color"?n("div",{staticClass:"me-1"},[n("ColorPicker",t._b({attrs:{dark:t.dark,"nudge-top":-4,"nudge-left":8},on:{input:function(l){r.action&&r.action(t.color)}},scopedSlots:t._u([{key:"button",fn:function(l){var u=l.on;return[n(be,t._g({staticClass:"rounded",attrs:{disabled:t.disabled,icon:"",small:"","data-testid":r.type}},Object.assign({},u,s)),[n(Tt,{attrs:{color:t.color}},[t._v(" "+t._s(r.icon)+" ")])],1)]}}],null,!0),model:{value:t.color,callback:function(l){t.color=l},expression:"color"}},"ColorPicker",a,!1))],1):r.type==="highlight"?n("div",{staticClass:"me-1"},[n("ColorPicker",t._b({attrs:{dark:t.dark,"nudge-top":-4,"nudge-left":8},on:{input:function(l){r.action&&r.action(t.highlight)}},scopedSlots:t._u([{key:"button",fn:function(l){var u=l.on;return[n(be,t._g({staticClass:"rounded",attrs:{disabled:t.disabled,icon:"",small:"","data-testid":r.type}},Object.assign({},u,s)),[n(Tt,{attrs:{color:t.highlight}},[t._v(" "+t._s(r.icon)+" ")])],1)]}}],null,!0),model:{value:t.highlight,callback:function(l){t.highlight=l},expression:"highlight"}},"ColorPicker",a,!1))],1):n(be,t._g(t._b({staticClass:"rounded me-1",class:{"v-btn--active":r.isActive&&r.isActive()},attrs:{disabled:t.disabled,color:r.isActive&&r.isActive()?"primary":void 0,icon:"",small:"","data-testid":r.type},on:{click:r.action}},"v-btn",a,!1),s),[n(Tt,[t._v(t._s(r.icon))])],1)]}}],null,!0)},[n("span",[t._v(t._s(r.title))])])],1)]})],2)},Dk=[];const Yf={};var Ck=Nt(yk,bk,Dk,!1,Ak,null,null,null);function Ak(t){for(let e in Yf)this[e]=Yf[e]}var Qh=function(){return Ck.exports}();const wk={"editor.words":"\u5355\u8BCD","editor.characters":"\u5B57\u7B26","editor.bold.tooltip":"\u7C97\u4F53","editor.italic.tooltip":"\u659C\u4F53","editor.underline.tooltip":"\u4E0B\u5212\u7EBF","editor.strike.tooltip":"\u4E2D\u5212\u7EBF","editor.color.tooltip":"\u6587\u672C\u989C\u8272","editor.highlight.tooltip":"\u6587\u672C\u9AD8\u4EAE","editor.heading.h1.tooltip":"\u6807\u9898 1","editor.heading.h2.tooltip":"\u6807\u9898 2","editor.heading.h3.tooltip":"\u6807\u9898 3","editor.heading.h4.tooltip":"\u6807\u9898 4","editor.heading.h5.tooltip":"\u6807\u9898 5","editor.heading.h6.tooltip":"\u6807\u9898 6","editor.paragraph.tooltip":"\u6B63\u6587","editor.left.tooltip":"\u5DE6\u5BF9\u9F50","editor.center.tooltip":"\u5C45\u4E2D\u5BF9\u9F50","editor.right.tooltip":"\u53F3\u5BF9\u9F50","editor.justify.tooltip":"\u4E24\u7AEF\u5BF9\u9F50","editor.bulletlist.tooltip":"\u65E0\u5E8F\u5217\u8868","editor.orderedlist.tooltip":"\u6709\u5E8F\u5217\u8868","editor.tasklist.tooltip":"\u4EFB\u52A1\u5217\u8868","editor.indent.tooltip":"\u589E\u52A0\u7F29\u8FDB","editor.outdent.tooltip":"\u51CF\u5C11\u7F29\u8FDB","editor.link.tooltip":"\u7F51\u7EDC\u94FE\u63A5","editor.link.dialog.title":"\u63D2\u5165\u94FE\u63A5","editor.link.dialog.link":"\u94FE\u63A5","editor.link.dialog.button.apply":"\u5E94\u7528","editor.image.tooltip":"\u56FE\u7247","editor.image.float.left.tooltip":"\u5DE6\u6D6E\u52A8","editor.image.float.none.tooltip":"\u65E0\u6D6E\u52A8","editor.image.float.right.tooltip":"\u53F3\u6D6E\u52A8","editor.image.size.small.tooltip":"\u5C0F\u5C3A\u5BF8","editor.image.size.medium.tooltip":"\u4E2D\u7B49\u5C3A\u5BF8","editor.image.size.large.tooltip":"\u5927\u5C3A\u5BF8","editor.image.remove.tooltip":"\u5220\u9664","editor.image.dialog.title":"\u63D2\u5165\u56FE\u7247","editor.image.dialog.tab.url":"\u7F51\u7EDC\u56FE\u7247","editor.image.dialog.tab.upload":"\u672C\u5730\u56FE\u7247","editor.image.dialog.form.link":"\u94FE\u63A5","editor.image.dialog.form.alt":"\u8BF4\u660E","editor.image.dialog.form.file":"\u6587\u4EF6","editor.image.dialog.button.apply":"\u5E94\u7528","editor.video.tooltip":"\u89C6\u9891","editor.video.dialog.title":"\u63D2\u5165\u89C6\u9891","editor.video.dialog.link":"\u7F51\u7EDC\u94FE\u63A5","editor.video.dialog.button.apply":"\u5E94\u7528","editor.video.remove.tooltip":"\u5220\u9664","editor.blockquote.tooltip":"\u5F15\u7528","editor.horizontalrule.tooltip":"\u5206\u9694\u7EBF","editor.code.tooltip":"\u4EE3\u7801","editor.codeblock.tooltip":"\u4EE3\u7801\u5757","editor.clear.tooltip":"\u6E05\u695A\u683C\u5F0F","editor.undo.tooltip":"\u64A4\u9500","editor.redo.tooltip":"\u91CD\u505A","editor.fullscreen.tooltip.fullscreen":"\u5168\u5C4F","editor.fullscreen.tooltip.exit":"\u9000\u51FA\u5168\u5C4F"},xk={"editor.words":"WORDS","editor.characters":"CHARACTERS","editor.bold.tooltip":"Bold","editor.italic.tooltip":"Italic","editor.underline.tooltip":"Underline","editor.strike.tooltip":"Strike","editor.color.tooltip":"Color","editor.highlight.tooltip":"Highlight","editor.heading.h1.tooltip":"Heading 1","editor.heading.h2.tooltip":"Heading 2","editor.heading.h3.tooltip":"Heading 3","editor.heading.h4.tooltip":"Heading 4","editor.heading.h5.tooltip":"Heading 5","editor.heading.h6.tooltip":"Heading 6","editor.paragraph.tooltip":"Paragraph","editor.left.tooltip":"Left","editor.center.tooltip":"Center","editor.right.tooltip":"Right","editor.justify.tooltip":"Justify","editor.bulletlist.tooltip":"Bullet List","editor.orderedlist.tooltip":"Ordered List","editor.tasklist.tooltip":"Task List","editor.indent.tooltip":"Indent","editor.outdent.tooltip":"Outdent","editor.link.tooltip":"Link","editor.link.dialog.title":"Insert link","editor.link.dialog.link":"link","editor.link.dialog.button.apply":"apply","editor.image.tooltip":"Image","editor.image.float.left.tooltip":"Float left","editor.image.float.none.tooltip":"Float none","editor.image.float.right.tooltip":"Float right","editor.image.size.small.tooltip":"Small","editor.image.size.medium.tooltip":"Medium","editor.image.size.large.tooltip":"Large","editor.image.remove.tooltip":"Remove","editor.image.dialog.title":"Insert image","editor.image.dialog.tab.url":"url","editor.image.dialog.tab.upload":"upload","editor.image.dialog.form.link":"Link","editor.image.dialog.form.alt":"Alt","editor.image.dialog.form.file":"File","editor.image.dialog.button.apply":"apply","editor.video.tooltip":"Video","editor.video.dialog.title":"Insert video","editor.video.dialog.link":"link","editor.video.dialog.button.apply":"apply","editor.video.remove.tooltip":"Remove","editor.blockquote.tooltip":"Blockquote","editor.horizontalrule.tooltip":"Horizontal Rule","editor.code.tooltip":"Code","editor.codeblock.tooltip":"Code Block","editor.clear.tooltip":"Clear Format","editor.undo.tooltip":"Undo","editor.redo.tooltip":"Redo","editor.fullscreen.tooltip.fullscreen":"Fullscreen","editor.fullscreen.tooltip.exit":"Fullscreen Exit"},jr={lang:"en",message:{zhHans:wk,en:xk}};class kk{constructor(){Ov(this,"bus"),this.bus=new st}get lang(){return jr.lang}set lang(e){if(!this.isLangSupported(e)){su.warn(`Can't find the current language "${e}", Using language "${jr.lang}" by default`);return}jr.lang=e,this.bus.$emit("lang",e)}get message(){return jr.message}set message(e){jr.message=e}loadLangMessage(e){return this.message[e]}isLangSupported(e){return Object.keys(this.message).includes(e)}setLang(e){this.lang=e}registerWatchLang(){return{subscribe:r=>{this.bus.$on("lang",i=>r(i))},unsubscribe:()=>{this.bus.$off("lang")}}}setMessage(e,n){this.message[e]=n}buildI18nHandler(e){e||(e=this.lang);const n=this.loadLangMessage(e);return function(i){return n[i]||i}}}const Ts=new kk,Ti=()=>{const t=De(jr.lang),e=de(()=>Ts.buildI18nHandler(A(t))),n=Ts.registerWatchLang();return n.subscribe(r=>{t.value=r}),ou(()=>n.unsubscribe()),{lang:t,t:e}};function Ek(t){const{t:e}=Ti();function n(o){!o||t.commands.updateAttributes("image",{display:o})}function r(o){!o||t.commands.updateAttributes("image",{width:o,height:null})}return{extMenu:de(()=>[{title:A(e)("editor.image.float.left.tooltip"),icon:Lx,type:"float-left",action:()=>n("left"),isActive:()=>t.isActive("image",{display:"left"})},{title:A(e)("editor.image.float.none.tooltip"),icon:Nx,type:"float-none",action:()=>n("inline"),isActive:()=>t.isActive("image",{display:"inline"})},{title:A(e)("editor.image.float.right.tooltip"),icon:Ix,type:"float-right",action:()=>n("right"),isActive:()=>t.isActive("image",{display:"right"})},{title:A(e)("editor.image.size.small.tooltip"),icon:sk,type:"size-small",action:()=>r(200),isActive:()=>t.isActive("image",{width:200})},{title:A(e)("editor.image.size.medium.tooltip"),icon:ok,type:"size-medium",action:()=>r(500),isActive:()=>t.isActive("image",{width:500})},{title:A(e)("editor.image.size.large.tooltip"),icon:ik,type:"size-large",action:()=>r("100%"),isActive:()=>t.isActive("image",{width:"100%"})},{title:A(e)("editor.image.remove.tooltip"),icon:Jf,type:"image-remove",action:()=>{const{state:o,dispatch:s}=t.view;Sl(o,s)}},{title:A(e)("editor.video.remove.tooltip"),icon:Jf,type:"video-remove",action:()=>{const{state:o,dispatch:s}=t.view;Sl(o,s)}}])}}const Sk={image:["float-left","float-none","float-right","image","image-remove","divider","size-small","size-medium","size-large","divider","left","center","right"],text:["bold","italic","underline","strike","color","highlight","divider","h1","h2","h3","p","divider","left","center","right","divider","link"],video:["video","video-remove"]};var _k={components:{TipTapToolbar:Qh,BubbleMenu:vx},props:{editor:Ye().isRequired,dark:pe().def(!1),disabled:pe().def(!1),items:vr().def(()=>[])},setup(t){const{extMenu:e}=Ek(t.editor),n=iu({maxWidth:"auto",zIndex:20,appendTo:"parent"}),r=de(()=>{var s,a;const l=t.editor.state.selection,u=((s=l.node)==null?void 0:s.type.name)==="image",c=((a=l.node)==null?void 0:a.type.name)==="iframe",f=l instanceof j;if(u)return"image";if(c)return"video";if(f)return"text"}),i=de(()=>r.value?Sk[r.value]||[]:[]),o=de(()=>A(i).map(s=>[...t.items,...A(e)].find(a=>a.type===s)).filter(s=>s));return{tippyOptions:n,nodeType:r,menu:o}}},Ok=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("BubbleMenu",{attrs:{editor:t.editor,tippyOptions:t.tippyOptions}},[n(Si,{staticClass:"vuetify-pro-tiptap-editor__menu-bubble"},[n(Qs,{staticClass:"d-flex pa-0"},[n("TipTapToolbar",{attrs:{items:t.menu,dark:t.dark,disabled:t.disabled,rounded:""}})],1)],1)],1)},Tk=[];const Xf={};var Mk=Nt(_k,Ok,Tk,!1,Fk,null,null,null);function Fk(t){for(let e in Xf)this[e]=Xf[e]}var Bk=function(){return Mk.exports}();const Lk=/^\s*>\s$/,Nk=Me.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",me(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ma({find:Lk,type:this.type})]}}),Ik=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,$k=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,Pk=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,Rk=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,Vk=Bt.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",me(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Cr({find:Ik,type:this.type}),Cr({find:Pk,type:this.type})]},addPasteRules(){return[Vn({find:$k,type:this.type}),Vn({find:Rk,type:this.type})]}}),Hk=/^\s*([-+*])\s$/,zk=Me.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",me(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[ma({find:Hk,type:this.type})]}}),jk=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,Wk=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,qk=Bt.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",me(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Cr({find:jk,type:this.type})]},addPasteRules(){return[Vn({find:Wk,type:this.type})]}}),Uk=/^```([a-z]+)?[\s\n]$/,Kk=/^~~~([a-z]+)?[\s\n]$/,Jk=Me.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,o=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",me(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0||r.nodeAt(a)?!1:t.commands.exitCode()}}},addInputRules(){return[zl({find:Uk,type:this.type,getAttributes:t=>({language:t[1]})}),zl({find:Kk,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new we({key:new nt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:s}=t.state;return s.replaceSelectionWith(this.type.create({language:o})),s.setSelection(j.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(n.replace(/\r\n?/g,`
`)),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),Gk=Me.create({name:"doc",topNode:!0,content:"block+"});function Yk(t={}){return new we({view(e){return new Xk(e,t)}})}class Xk{constructor(e,n){this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=n.width||1,this.color=n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=o=>{this[r](o)};return e.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n;if(!e.parent.inlineContent){let s=e.nodeBefore,a=e.nodeAfter;if(s||a){let l=this.editorView.nodeDOM(this.cursorPos-(s?s.nodeSize:0)).getBoundingClientRect(),u=s?l.bottom:l.top;s&&a&&(u=(u+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),n={left:l.left,right:l.right,top:u-this.width/2,bottom:u+this.width/2}}}if(!n){let s=this.editorView.coordsAtPos(this.cursorPos);n={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}let r=this.editorView.dom.offsetParent;this.element||(this.element=r.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);let i,o;if(!r||r==document.body&&getComputedStyle(r).position=="static")i=-pageXOffset,o=-pageYOffset;else{let s=r.getBoundingClientRect();i=s.left-r.scrollLeft,o=s.top-r.scrollTop}this.element.style.left=n.left-i+"px",this.element.style.top=n.top-o+"px",this.element.style.width=n.right-n.left+"px",this.element.style.height=n.bottom-n.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(s=Fp(this.editorView.state.doc,s,this.editorView.dragging.slice),s==null))return this.setCursor(null);this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const Zk=Ae.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:null}},addProseMirrorPlugins(){return[Yk(this.options)]}});class fe extends W{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return fe.valid(r)?new fe(r):W.near(r)}content(){return N.empty}eq(e){return e instanceof fe&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new fe(e.resolve(n.pos))}getBookmark(){return new $u(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!Qk(e)||!eE(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&fe.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let a=e.node(s);if(n>0?e.indexAfter(s)<a.childCount:e.index(s)>0){o=a.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let l=e.doc.resolve(i);if(fe.valid(l))return l}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!H.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let a=e.doc.resolve(i);if(fe.valid(a))return a}return null}}}fe.prototype.visible=!1;fe.findFrom=fe.findGapCursorFrom;W.jsonID("gapcursor",fe);class $u{constructor(e){this.pos=e}map(e){return new $u(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return fe.valid(n)?new fe(n):W.near(n)}}function Qk(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function eE(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function tE(){return new we({props:{decorations:oE,createSelectionBetween(t,e,n){return e.pos==n.pos&&fe.valid(n)?new fe(n):null},handleClick:rE,handleKeyDown:nE,handleDOMEvents:{beforeinput:iE}}})}const nE=wh({ArrowLeft:jo("horiz",-1),ArrowRight:jo("horiz",1),ArrowUp:jo("vert",-1),ArrowDown:jo("vert",1)});function jo(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,a=e>0?s.$to:s.$from,l=s.empty;if(s instanceof j){if(!o.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let u=fe.findGapCursorFrom(a,e,l);return u?(i&&i(r.tr.setSelection(new fe(u))),!0):!1}}function rE(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!fe.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&H.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new fe(r))),!0)}function iE(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof fe))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=_.empty;for(let s=r.length-1;s>=0;s--)i=_.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new N(i,0,0));return o.setSelection(j.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function oE(t){if(!(t.selection instanceof fe))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ye.create(t.doc,[Xe.widget(t.selection.head,e,{key:"gapcursor"})])}const sE=Ae.create({name:"gapCursor",addProseMirrorPlugins(){return[tE()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=q($(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),aE=Ae.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize"}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;return((t==null?void 0:t.mode)||this.options.mode)==="textSize"?e.textBetween(0,e.content.size,void 0," ").length:e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;return e.textBetween(0,e.content.size," "," ").split(" ").filter(i=>i!=="").length}},addProseMirrorPlugins(){return[new we({key:new nt("characterCount"),filterTransaction:(t,e)=>{const n=this.options.limit;if(!t.docChanged||n===0||n===null||n===void 0)return!0;const r=this.storage.characters({node:e.doc}),i=this.storage.characters({node:t.doc});if(i<=n||r>n&&i>n&&i<=r)return!0;if(r>n&&i>n&&i>r||!t.getMeta("paste"))return!1;const s=t.selection.$head.pos,a=i-n,l=s-a,u=s;return t.deleteRange(l,u),!(this.storage.characters({node:t.doc})>n)}})]}}),lE=Me.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",me(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&l&&s){const f=l.filter(d=>a.includes(d.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),uE=Me.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,me(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>x(x({},t),{[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>zl({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Ms=200,Ie=function(){};Ie.prototype.append=function(e){return e.length?(e=Ie.from(e),!this.length&&e||e.length<Ms&&this.leafAppend(e)||this.length<Ms&&e.leafPrepend(this)||this.appendInner(e)):this};Ie.prototype.prepend=function(e){return e.length?Ie.from(e).append(this):this};Ie.prototype.appendInner=function(e){return new cE(this,e)};Ie.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Ie.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Ie.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ie.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Ie.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};Ie.from=function(e){return e instanceof Ie?e:e&&e.length?new em(e):Ie.empty};var em=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Ms)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Ms)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Ie);Ie.empty=new em([]);var cE=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Ie),tm=Ie;const fE=500;class St{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,a,l,u=[],c=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(r,d+1),o=i.maps.length),o--,c.push(f);return}if(i){c.push(new $t(f.map));let p=f.step.map(i.slice(o)),h;p&&s.maybeStep(p).doc&&(h=s.mapping.maps[s.mapping.maps.length-1],u.push(new $t(h,void 0,void 0,u.length+c.length))),o--,h&&i.appendMap(h,o)}else s.maybeStep(f.step);if(f.selection)return a=i?f.selection.map(i.slice(o)):f.selection,l=new St(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,n,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let c=0;c<e.steps.length;c++){let f=e.steps[c].invert(e.docs[c]),d=new $t(e.mapping.maps[c],f,n),p;(p=l&&l.merge(d))&&(d=p,c?o.pop():a=a.slice(0,a.length-1)),o.push(d),n&&(s++,n=void 0),i||(l=d)}let u=s-r.depth;return u>pE&&(a=dE(a,u),s-=u),new St(a.append(o),s)}remapping(e,n){let r=new ri;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new St(this.items.append(e.map(n=>new $t(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(d=>{d.selection&&a--},i);let l=n;this.items.forEach(d=>{let p=o.getMirror(--l);if(p==null)return;s=Math.min(s,p);let h=o.maps[p];if(d.step){let m=e.steps[p].invert(e.docs[p]),y=d.selection&&d.selection.map(o.slice(l+1,p));y&&a++,r.push(new $t(h,m,y))}else r.push(new $t(h))},i);let u=[];for(let d=n;d<s;d++)u.push(new $t(o.maps[d]));let c=this.items.slice(0,i).append(u).append(r),f=new St(c,a);return f.emptyItemCount()>fE&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(n.slice(r)),u=l&&l.getMap();if(r--,u&&n.appendMap(u,r),l){let c=s.selection&&s.selection.map(n.slice(r));c&&o++;let f=new $t(u.invert(),l,c),d,p=i.length-1;(d=i.length&&i[p].merge(f))?i[p]=d:i.push(f)}}else s.map&&r--},this.items.length,0),new St(tm.from(i.reverse()),o)}}St.empty=new St(tm.empty,0);function dE(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class $t{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new $t(n.getMap().invert(),n,this.selection)}}}class An{constructor(e,n,r,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i}}const pE=20;function hE(t,e,n,r){let i=n.getMeta(Nn),o;if(i)return i.historyState;n.getMeta(gE)&&(t=new An(t.done,t.undone,null,0));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(Nn))return s.getMeta(Nn).redo?new An(t.done.addTransform(n,void 0,r,ts(e)),t.undone,Zf(n.mapping.maps[n.steps.length-1]),t.prevTime):new An(t.done,t.undone.addTransform(n,void 0,r,ts(e)),null,t.prevTime);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=t.prevTime==0||!s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!mE(n,t.prevRanges)),l=s?cl(t.prevRanges,n.mapping):Zf(n.mapping.maps[n.steps.length-1]);return new An(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,ts(e)),St.empty,l,n.time)}else return(o=n.getMeta("rebased"))?new An(t.done.rebased(n,o),t.undone.rebased(n,o),cl(t.prevRanges,n.mapping),t.prevTime):new An(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),cl(t.prevRanges,n.mapping),t.prevTime)}function mE(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function Zf(t){let e=[];return t.forEach((n,r,i,o)=>e.push(i,o)),e}function cl(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function nm(t,e,n,r){let i=ts(e),o=Nn.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,i);if(!s)return;let a=s.selection.resolve(s.transform.doc),l=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),u=new An(r?l:s.remaining,r?s.remaining:l,null,0);n(s.transform.setSelection(a).setMeta(Nn,{redo:r,historyState:u}).scrollIntoView())}let fl=!1,Qf=null;function ts(t){let e=t.plugins;if(Qf!=e){fl=!1,Qf=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){fl=!0;break}}return fl}const Nn=new nt("history"),gE=new nt("closeHistory");function vE(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new we({key:Nn,state:{init(){return new An(St.empty,St.empty,null,0)},apply(e,n,r){return hE(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?rm:r=="historyRedo"?im:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const rm=(t,e)=>{let n=Nn.getState(t);return!n||n.done.eventCount==0?!1:(e&&nm(n,t,e,!1),!0)},im=(t,e)=>{let n=Nn.getState(t);return!n||n.undone.eventCount==0?!1:(e&&nm(n,t,e,!0),!0)},yE=Ae.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>rm(t,e),redo:()=>({state:t,dispatch:e})=>im(t,e)}},addProseMirrorPlugins(){return[vE(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-\u044F":()=>this.editor.commands.undo(),"Shift-Mod-\u044F":()=>this.editor.commands.redo()}}}),bE=Me.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",me(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t})=>t().insertContent({type:this.name}).command(({tr:e,dispatch:n})=>{var r;if(n){const{$to:i}=e.selection,o=i.end();if(i.nodeAfter)e.setSelection(j.create(e.doc,i.pos));else{const s=(r=i.parent.type.contentMatch.defaultType)===null||r===void 0?void 0:r.create();s&&(e.insert(o,s),e.setSelection(j.create(e.doc,o)))}e.scrollIntoView()}return!0}).run()}},addInputRules(){return[Lh({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),DE=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,CE=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,AE=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,wE=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,xE=Bt.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",me(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Cr({find:DE,type:this.type}),Cr({find:AE,type:this.type})]},addPasteRules(){return[Vn({find:CE,type:this.type}),Vn({find:wE,type:this.type})]}}),kE=Me.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",me(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),EE=/^(\d+)\.\s$/,SE=Me.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const e=t,{start:n}=e,r=_v(e,["start"]);return n===1?["ol",me(this.options.HTMLAttributes,r),0]:["ol",me(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[ma({find:EE,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]})]}}),_E=Me.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",me(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),OE=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,TE=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,ME=Bt.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",me(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Cr({find:OE,type:this.type})]},addPasteRules(){return[Vn({find:TE,type:this.type})]}}),FE=Me.create({name:"text",group:"inline"}),BE=Ae.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something \u2026",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new we({props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!!n)return t.descendants((o,s)=>{const a=r>=s&&r<=s+o.nodeSize,l=!o.isLeaf&&!o.childCount;if((a||!this.options.showOnlyCurrent)&&l){const u=[this.options.emptyNodeClass];this.editor.isEmpty&&u.push(this.options.emptyEditorClass);const c=Xe.node(s,s+o.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:s,hasAnchor:a}):this.options.placeholder});i.push(c)}return this.options.includeChildren}),ye.create(t,i)}}})]}}),LE=Ae.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>t.style.textAlign||this.options.defaultAlignment,renderHTML:t=>t.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${t.textAlign}`}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.every(n=>e.updateAttributes(n,{textAlign:t})):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.every(e=>t.resetAttributes(e,"textAlign"))}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),NE=Ae.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new we({key:new nt("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:r}=this.editor,{anchor:i}=e,o=[];if(!n||!r)return ye.create(t,[]);let s=0;this.options.mode==="deepest"&&t.descendants((l,u)=>{if(l.isText)return;if(!(i>=u&&i<=u+l.nodeSize-1))return!1;s+=1});let a=0;return t.descendants((l,u)=>{if(l.isText||!(i>=u&&i<=u+l.nodeSize-1))return!1;if(a+=1,this.options.mode==="deepest"&&s-a>0||this.options.mode==="shallowest"&&a>1)return this.options.mode==="deepest";o.push(Xe.node(u,u+l.nodeSize,{class:this.options.className}))}),ye.create(t,o)}}})]}}),IE=Bt.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",me(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=ku(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),$E=Ae.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>t.style.color.replace(/['"]+/g,""),renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),PE=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,RE=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,VE=Bt.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",me(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Cr({find:PE,type:this.type})]},addPasteRules(){return[Vn({find:RE,type:this.type})]}});function Pu(t){this.j={},this.jr=[],this.jd=null,this.t=t}Pu.prototype={accepts:function(){return!!this.t},tt:function(e,n){if(n&&n.j)return this.j[e]=n,n;var r=n,i=this.j[e];if(i)return r&&(i.t=r),i;i=ie();var o=Fs(this,e);return o?(Object.assign(i.j,o.j),i.jr.append(o.jr),i.jr=o.jd,i.t=r||o.t):i.t=r,this.j[e]=i,i}};var ie=function(){return new Pu},V=function(e){return new Pu(e)},T=function(e,n,r){e.j[n]||(e.j[n]=r)},Ee=function(e,n,r){e.jr.push([n,r])},Fs=function(e,n){var r=e.j[n];if(r)return r;for(var i=0;i<e.jr.length;i++){var o=e.jr[i][0],s=e.jr[i][1];if(o.test(n))return s}return e.jd},K=function(e,n,r){for(var i=0;i<n.length;i++)T(e,n[i],r)},HE=function(e,n){for(var r=0;r<n.length;r++){var i=n[r][0],o=n[r][1];T(e,i,o)}},tr=function(e,n,r,i){for(var o=0,s=n.length,a;o<s&&(a=e.j[n[o]]);)e=a,o++;if(o>=s)return[];for(;o<s-1;)a=i(),T(e,n[o],a),e=a,o++;T(e,n[s-1],r)},wt="DOMAIN",un="LOCALHOST",Pt="TLD",gt="NUM",wi="PROTOCOL",Ru="MAILTO",om="WS",Vu="NL",Xr="OPENBRACE",no="OPENBRACKET",ro="OPENANGLEBRACKET",io="OPENPAREN",ir="CLOSEBRACE",Zr="CLOSEBRACKET",Qr="CLOSEANGLEBRACKET",ei="CLOSEPAREN",Bs="AMPERSAND",Ls="APOSTROPHE",Ns="ASTERISK",ti="AT",Is="BACKSLASH",$s="BACKTICK",Ps="CARET",oo="COLON",Hu="COMMA",Rs="DOLLAR",wn="DOT",Vs="EQUALS",zu="EXCLAMATION",Hs="HYPHEN",zs="PERCENT",js="PIPE",Ws="PLUS",qs="POUND",Us="QUERY",ju="QUOTE",Wu="SEMI",cn="SLASH",Ks="TILDE",Js="UNDERSCORE",Gs="SYM",zE=Object.freeze({__proto__:null,DOMAIN:wt,LOCALHOST:un,TLD:Pt,NUM:gt,PROTOCOL:wi,MAILTO:Ru,WS:om,NL:Vu,OPENBRACE:Xr,OPENBRACKET:no,OPENANGLEBRACKET:ro,OPENPAREN:io,CLOSEBRACE:ir,CLOSEBRACKET:Zr,CLOSEANGLEBRACKET:Qr,CLOSEPAREN:ei,AMPERSAND:Bs,APOSTROPHE:Ls,ASTERISK:Ns,AT:ti,BACKSLASH:Is,BACKTICK:$s,CARET:Ps,COLON:oo,COMMA:Hu,DOLLAR:Rs,DOT:wn,EQUALS:Vs,EXCLAMATION:zu,HYPHEN:Hs,PERCENT:zs,PIPE:js,PLUS:Ws,POUND:qs,QUERY:Us,QUOTE:ju,SEMI:Wu,SLASH:cn,TILDE:Ks,UNDERSCORE:Js,SYM:Gs}),ed="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw verm\xF6gensberater-ctb verm\xF6gensberatung-pwb \u03B5\u03BB \u03B5\u03C5 \u0431\u0433 \u0431\u0435\u043B \u0434\u0435\u0442\u0438 \u0435\u044E \u043A\u0430\u0442\u043E\u043B\u0438\u043A \u043A\u043E\u043C \u049B\u0430\u0437 \u043C\u043A\u0434 \u043C\u043E\u043D \u043C\u043E\u0441\u043A\u0432\u0430 \u043E\u043D\u043B\u0430\u0439\u043D \u043E\u0440\u0433 \u0440\u0443\u0441 \u0440\u0444 \u0441\u0430\u0439\u0442 \u0441\u0440\u0431 \u0443\u043A\u0440 \u10D2\u10D4 \u0570\u0561\u0575 \u05D9\u05E9\u05E8\u05D0\u05DC \u05E7\u05D5\u05DD \u0627\u0628\u0648\u0638\u0628\u064A \u0627\u062A\u0635\u0627\u0644\u0627\u062A \u0627\u0631\u0627\u0645\u0643\u0648 \u0627\u0644\u0627\u0631\u062F\u0646 \u0627\u0644\u0628\u062D\u0631\u064A\u0646 \u0627\u0644\u062C\u0632\u0627\u0626\u0631 \u0627\u0644\u0633\u0639\u0648\u062F\u064A\u0629 \u0627\u0644\u0639\u0644\u064A\u0627\u0646 \u0627\u0644\u0645\u063A\u0631\u0628 \u0627\u0645\u0627\u0631\u0627\u062A \u0627\u06CC\u0631\u0627\u0646 \u0628\u0627\u0631\u062A \u0628\u0627\u0632\u0627\u0631 \u0628\u06BE\u0627\u0631\u062A \u0628\u064A\u062A\u0643 \u067E\u0627\u06A9\u0633\u062A\u0627\u0646 \u0680\u0627\u0631\u062A \u062A\u0648\u0646\u0633 \u0633\u0648\u062F\u0627\u0646 \u0633\u0648\u0631\u064A\u0629 \u0634\u0628\u0643\u0629 \u0639\u0631\u0627\u0642 \u0639\u0631\u0628 \u0639\u0645\u0627\u0646 \u0641\u0644\u0633\u0637\u064A\u0646 \u0642\u0637\u0631 \u0643\u0627\u062B\u0648\u0644\u064A\u0643 \u0643\u0648\u0645 \u0645\u0635\u0631 \u0645\u0644\u064A\u0633\u064A\u0627 \u0645\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u0627 \u0645\u0648\u0642\u0639 \u0647\u0645\u0631\u0627\u0647 \u0915\u0949\u092E \u0928\u0947\u091F \u092D\u093E\u0930\u0924 \u092D\u093E\u0930\u0924\u092E\u094D \u092D\u093E\u0930\u094B\u0924 \u0938\u0902\u0917\u0920\u0928 \u09AC\u09BE\u0982\u09B2\u09BE \u09AD\u09BE\u09B0\u09A4 \u09AD\u09BE\u09F0\u09A4 \u0A2D\u0A3E\u0A30\u0A24 \u0AAD\u0ABE\u0AB0\u0AA4 \u0B2D\u0B3E\u0B30\u0B24 \u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE \u0B87\u0BB2\u0B99\u0BCD\u0B95\u0BC8 \u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD \u0C2D\u0C3E\u0C30\u0C24\u0C4D \u0CAD\u0CBE\u0CB0\u0CA4 \u0D2D\u0D3E\u0D30\u0D24\u0D02 \u0DBD\u0D82\u0D9A\u0DCF \u0E04\u0E2D\u0E21 \u0E44\u0E17\u0E22 \u0EA5\u0EB2\u0EA7 \uB2F7\uB137 \uB2F7\uCEF4 \uC0BC\uC131 \uD55C\uAD6D \u30A2\u30DE\u30BE\u30F3 \u30B0\u30FC\u30B0\u30EB \u30AF\u30E9\u30A6\u30C9 \u30B3\u30E0 \u30B9\u30C8\u30A2 \u30BB\u30FC\u30EB \u30D5\u30A1\u30C3\u30B7\u30E7\u30F3 \u30DD\u30A4\u30F3\u30C8 \u307F\u3093\u306A \u4E16\u754C \u4E2D\u4FE1 \u4E2D\u56FD \u4E2D\u570B \u4E2D\u6587\u7F51 \u4E9A\u9A6C\u900A \u4F01\u4E1A \u4F5B\u5C71 \u4FE1\u606F \u5065\u5EB7 \u516B\u5366 \u516C\u53F8 \u516C\u76CA \u53F0\u6E7E \u53F0\u7063 \u5546\u57CE \u5546\u5E97 \u5546\u6807 \u5609\u91CC \u5609\u91CC\u5927\u9152\u5E97 \u5728\u7EBF \u5927\u4F17\u6C7D\u8F66 \u5927\u62FF \u5929\u4E3B\u6559 \u5A31\u4E50 \u5BB6\u96FB \u5E7F\u4E1C \u5FAE\u535A \u6148\u5584 \u6211\u7231\u4F60 \u624B\u673A \u62DB\u8058 \u653F\u52A1 \u653F\u5E9C \u65B0\u52A0\u5761 \u65B0\u95FB \u65F6\u5C1A \u66F8\u7C4D \u673A\u6784 \u6DE1\u9A6C\u9521 \u6E38\u620F \u6FB3\u9580 \u70B9\u770B \u79FB\u52A8 \u7EC4\u7EC7\u673A\u6784 \u7F51\u5740 \u7F51\u5E97 \u7F51\u7AD9 \u7F51\u7EDC \u8054\u901A \u8BFA\u57FA\u4E9A \u8C37\u6B4C \u8D2D\u7269 \u901A\u8CA9 \u96C6\u56E2 \u96FB\u8A0A\u76C8\u79D1 \u98DE\u5229\u6D66 \u98DF\u54C1 \u9910\u5385 \u9999\u683C\u91CC\u62C9 \u9999\u6E2F".split(" "),Ii=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,$i=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,Pi=/\uFE0F/,Ri=/\d/,td=/\s/;function jE(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=ie(),n=V(gt),r=V(wt),i=ie(),o=V(om),s=[[Ri,r],[Ii,r],[$i,r],[Pi,r]],a=function(){var v=V(wt);return v.j={"-":i},v.jr=[].concat(s),v},l=function(v){var O=a();return O.t=v,O};HE(e,[["'",V(Ls)],["{",V(Xr)],["[",V(no)],["<",V(ro)],["(",V(io)],["}",V(ir)],["]",V(Zr)],[">",V(Qr)],[")",V(ei)],["&",V(Bs)],["*",V(Ns)],["@",V(ti)],["`",V($s)],["^",V(Ps)],[":",V(oo)],[",",V(Hu)],["$",V(Rs)],[".",V(wn)],["=",V(Vs)],["!",V(zu)],["-",V(Hs)],["%",V(zs)],["|",V(js)],["+",V(Ws)],["#",V(qs)],["?",V(Us)],['"',V(ju)],["/",V(cn)],[";",V(Wu)],["~",V(Ks)],["_",V(Js)],["\\",V(Is)]]),T(e,`
`,V(Vu)),Ee(e,td,o),T(o,`
`,ie()),Ee(o,td,o);for(var u=0;u<ed.length;u++)tr(e,ed[u],l(Pt),a);var c=a(),f=a(),d=a(),p=a();tr(e,"file",c,a),tr(e,"ftp",f,a),tr(e,"http",d,a),tr(e,"mailto",p,a);var h=a(),m=V(wi),y=V(Ru);T(f,"s",h),T(f,":",m),T(d,"s",h),T(d,":",m),T(c,":",m),T(h,":",m),T(p,":",y);for(var D=a(),E=0;E<t.length;E++)tr(e,t[E],D,a);return T(D,":",m),tr(e,"localhost",l(un),a),Ee(e,Ri,n),Ee(e,Ii,r),Ee(e,$i,r),Ee(e,Pi,r),Ee(n,Ri,n),Ee(n,Ii,r),Ee(n,$i,r),Ee(n,Pi,r),T(n,"-",i),T(r,"-",i),T(i,"-",i),Ee(r,Ri,r),Ee(r,Ii,r),Ee(r,$i,r),Ee(r,Pi,r),Ee(i,Ri,r),Ee(i,Ii,r),Ee(i,$i,r),Ee(i,Pi,r),e.jd=V(Gs),e}function WE(t,e){for(var n=qE(e.replace(/[A-Z]/g,function(p){return p.toLowerCase()})),r=n.length,i=[],o=0,s=0;s<r;){for(var a=t,l=null,u=0,c=null,f=-1,d=-1;s<r&&(l=Fs(a,n[s]));)a=l,a.accepts()?(f=0,d=0,c=a):f>=0&&(f+=n[s].length,d++),u+=n[s].length,o+=n[s].length,s++;o-=f,s-=d,u-=f,i.push({t:c.t,v:e.substr(o-u,u),s:o-u,e:o})}return i}function qE(t){for(var e=[],n=t.length,r=0;r<n;){var i=t.charCodeAt(r),o=void 0,s=i<55296||i>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(s),r+=s.length}return e}var sm={defaultProtocol:"http",events:null,format:nd,formatHref:nd,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function nd(t){return t}function UE(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Object.create(t.prototype);for(var i in n)r[i]=n[i];return r.constructor=e,e.prototype=r,e}function Ys(){}Ys.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sm.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}}};function xr(t,e){function n(r,i){this.t=t,this.v=r,this.tk=i}return UE(Ys,n,e),n}var am=xr("email",{isLink:!0}),Ul=xr("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),Kl=xr("text"),lm=xr("nl"),Cn=xr("url",{isLink:!0,toHref:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sm.defaultProtocol,n=this.tk,r=!1,i=!1,o=[],s=0;n[s].t===wi;)r=!0,o.push(n[s].v),s++;for(;n[s].t===cn;)i=!0,o.push(n[s].v),s++;for(;s<n.length;s++)o.push(n[s].v);return o=o.join(""),r||i||(o="".concat(e,"://").concat(o)),o},hasProtocol:function(){return this.tk[0].t===wi}}),KE=Object.freeze({__proto__:null,MultiToken:Ys,Base:Ys,createTokenClass:xr,MailtoEmail:am,Email:Ul,Text:Kl,Nl:lm,Url:Cn});function JE(){var t=ie(),e=ie(),n=ie(),r=ie(),i=ie(),o=ie(),s=ie(),a=V(Cn),l=ie(),u=V(Cn),c=V(Cn),f=ie(),d=ie(),p=ie(),h=ie(),m=ie(),y=V(Cn),D=V(Cn),E=V(Cn),M=V(Cn),v=ie(),O=ie(),k=ie(),F=ie(),S=ie(),B=ie(),L=V(Ul),z=ie(),U=V(Ul),ee=V(am),xe=ie(),ce=ie(),se=ie(),ge=ie(),ve=V(lm);T(t,Vu,ve),T(t,wi,e),T(t,Ru,n),T(e,cn,r),T(r,cn,i),T(t,Pt,o),T(t,wt,o),T(t,un,a),T(t,gt,o),T(i,Pt,c),T(i,wt,c),T(i,gt,c),T(i,un,c),T(o,wn,s),T(S,wn,B),T(s,Pt,a),T(s,wt,o),T(s,gt,o),T(s,un,o),T(B,Pt,L),T(B,wt,S),T(B,gt,S),T(B,un,S),T(a,wn,s),T(L,wn,B),T(a,oo,l),T(a,cn,c),T(l,gt,u),T(u,cn,c),T(L,oo,z),T(z,gt,U);var te=[Bs,Ns,ti,Is,$s,Ps,Rs,wt,Vs,Hs,un,gt,zs,js,Ws,qs,wi,cn,Gs,Ks,Pt,Js],ne=[Ls,Qr,ir,Zr,ei,oo,Hu,wn,zu,ro,Xr,no,io,Us,ju,Wu];T(c,Xr,d),T(c,no,p),T(c,ro,h),T(c,io,m),T(f,Xr,d),T(f,no,p),T(f,ro,h),T(f,io,m),T(d,ir,c),T(p,Zr,c),T(h,Qr,c),T(m,ei,c),T(y,ir,c),T(D,Zr,c),T(E,Qr,c),T(M,ei,c),T(v,ir,c),T(O,Zr,c),T(k,Qr,c),T(F,ei,c),K(d,te,y),K(p,te,D),K(h,te,E),K(m,te,M),K(d,ne,v),K(p,ne,O),K(h,ne,k),K(m,ne,F),K(y,te,y),K(D,te,D),K(E,te,E),K(M,te,M),K(y,ne,y),K(D,ne,D),K(E,ne,E),K(M,ne,M),K(v,te,y),K(O,te,D),K(k,te,E),K(F,te,M),K(v,ne,v),K(O,ne,O),K(k,ne,k),K(F,ne,F),K(c,te,c),K(f,te,c),K(c,ne,f),K(f,ne,f),T(n,Pt,ee),T(n,wt,ee),T(n,gt,ee),T(n,un,ee),K(ee,te,ee),K(ee,ne,xe),K(xe,te,ee),K(xe,ne,xe);var Ve=[Bs,Ls,Ns,Is,$s,Ps,ir,Rs,wt,Vs,Hs,gt,Xr,zs,js,Ws,qs,Us,cn,Gs,Ks,Pt,Js];return K(o,Ve,ce),T(o,ti,se),K(a,Ve,ce),T(a,ti,se),K(s,Ve,ce),K(ce,Ve,ce),T(ce,ti,se),T(ce,wn,ge),K(ge,Ve,ce),T(se,Pt,S),T(se,wt,S),T(se,gt,S),T(se,un,L),t}function GE(t,e,n){for(var r=n.length,i=0,o=[],s=[];i<r;){for(var a=t,l=null,u=null,c=0,f=null,d=-1;i<r&&!(l=Fs(a,n[i].t));)s.push(n[i++]);for(;i<r&&(u=l||Fs(a,n[i].t));)l=null,a=u,a.accepts()?(d=0,f=a):d>=0&&d++,i++,c++;if(d<0)for(var p=i-c;p<i;p++)s.push(n[p]);else{s.length>0&&(o.push(dl(Kl,e,s)),s=[]),i-=d,c-=d;var h=f.t,m=n.slice(i-c,i);o.push(dl(h,e,m))}}return s.length>0&&o.push(dl(Kl,e,s)),o}function dl(t,e,n){var r=n[0].s,i=n[n.length-1].e,o=e.substr(r,i-r);return new t(o,n)}var xt={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function YE(){xt.scanner={start:jE(xt.customProtocols),tokens:zE},xt.parser={start:JE(),tokens:KE};for(var t={createTokenClass:xr},e=0;e<xt.pluginQueue.length;e++)xt.pluginQueue[e][1]({scanner:xt.scanner,parser:xt.parser,utils:t});xt.initialized=!0}function um(t){return xt.initialized||YE(),GE(xt.parser.start,t,WE(xt.scanner.start,t))}function qu(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=um(t),r=[],i=0;i<n.length;i++){var o=n[i];o.isLink&&(!e||o.t===e)&&r.push(o.toObject())}return r}function rd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=um(t);return n.length===1&&n[0].isLink&&(!e||n[0].t===e)}function XE(t){return new we({key:new nt("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(c=>c.docChanged)&&!n.doc.eq(r.doc),o=e.some(c=>c.getMeta("preventAutolink"));if(!i||o)return;const{tr:s}=r,a=LA(n.doc,e),{mapping:l}=a;if(PA(a).forEach(({oldRange:c,newRange:f})=>{Ss(c.from,c.to,n.doc).filter(d=>d.mark.type===t.type).forEach(d=>{const p=l.map(d.from),h=l.map(d.to),m=Ss(p,h,r.doc).filter(O=>O.mark.type===t.type);if(!m.length)return;const y=m[0],D=n.doc.textBetween(d.from,d.to,void 0," "),E=r.doc.textBetween(y.from,y.to,void 0," "),M=rd(D),v=rd(E);M&&!v&&s.removeMark(y.from,y.to,t.type)}),NA(r.doc,f,d=>d.isTextblock).forEach(d=>{const p=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ");qu(p).filter(h=>h.isLink).filter(h=>t.validate?t.validate(h.value):!0).map(h=>_e(x({},h),{from:d.pos+h.start+1,to:d.pos+h.end+1})).filter(h=>{const m=f.from>=h.from&&f.from<=h.to,y=f.to>=h.from&&f.to<=h.to;return m||y}).forEach(h=>{s.addMark(h.from,h.to,t.type.create({href:h.href}))})})}),!!s.steps.length)return s}})}function ZE(t){return new we({key:new nt("handleClickLink"),props:{handleClick:(e,n,r)=>{var i;const o=Fh(e.state,t.type.name);return((i=r.target)===null||i===void 0?void 0:i.closest("a"))&&o.href?(window.open(o.href,o.target),!0):!1}}})}function QE(t){return new we({key:new nt("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:o}=i,{empty:s}=o;if(s)return!1;let a="";r.content.forEach(u=>{a+=u.textContent});const l=qu(a).find(u=>u.isLink&&u.value===a);return!a||!l?!1:(t.editor.commands.setMark(t.type,{href:l.href}),!0)}}})}const eS=Bt.create({name:"link",priority:1e3,keepOnSplit:!1,inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:t}){return["a",me(this.options.HTMLAttributes,t),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Vn({find:t=>qu(t).filter(e=>this.options.validate?this.options.validate(e.value):!0).filter(e=>e.isLink).map(e=>({text:e.value,index:e.start,data:e})),type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(XE({type:this.type,validate:this.options.validate})),this.options.openOnClick&&t.push(ZE({type:this.type})),this.options.linkOnPaste&&t.push(QE({editor:this.editor,type:this.type})),t}}),tS=Me.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",me(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),nS=/^\s*(\[([( |x])?\])\s$/,rS=Me.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{}}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>t.getAttribute("data-checked")==="true",renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",me(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?_e(x({},t),{Tab:()=>this.editor.commands.sinkListItem(this.name)}):t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),o=document.createElement("label"),s=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div");return o.contentEditable="false",a.type="checkbox",a.addEventListener("change",u=>{if(!r.isEditable){a.checked=!a.checked;return}const{checked:c}=u.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:f})=>{const d=n(),p=f.doc.nodeAt(d);return f.setNodeMarkup(d,void 0,_e(x({},p==null?void 0:p.attrs),{checked:c})),!0}).run()}),Object.entries(this.options.HTMLAttributes).forEach(([u,c])=>{i.setAttribute(u,c)}),i.dataset.checked=t.attrs.checked,t.attrs.checked&&a.setAttribute("checked","checked"),o.append(a,s),i.append(o,l),Object.entries(e).forEach(([u,c])=>{i.setAttribute(u,c)}),{dom:i,contentDOM:l,update:u=>u.type!==this.type?!1:(i.dataset.checked=u.attrs.checked,u.attrs.checked?a.setAttribute("checked","checked"):a.removeAttribute("checked"),!0)}}},addInputRules(){return[ma({find:nS,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),iS=Bt.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",me(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function oS(t){return t=t.replace("https://youtu.be/","https://www.youtube.com/watch?v=").replace("watch?v=","embed/"),t=t.replace("https://vimeo.com/","https://player.vimeo.com/video/"),/^https?:\/\/www.bilibili.com\/video\/.*/i.test(t)&&(t=t.replace(/\?.*$/i,"").replace("https://www.bilibili.com/video/","https://player.bilibili.com/player.html?bvid=")),t.includes("drive.google.com")&&(t=t.replace("/view","/preview")),t}var sS=Me.create({name:"iframe",group:"block",atom:!0,addOptions(){return{allowFullscreen:!0,frameborder:!1,HTMLAttributes:{class:"iframe-wrapper",style:"display: flex;justify-content: center;"}}},addAttributes(){return{src:{default:null,renderHTML:({src:t})=>({src:t?oS(t):null})},width:{default:"100%"},height:{default:"100%"},frameborder:{default:this.options.frameborder?1:0,parseHTML:()=>this.options.frameborder?1:0},allowfullscreen:{default:this.options.allowFullscreen,parseHTML:()=>this.options.allowFullscreen}}},parseHTML(){return[{tag:"iframe"}]},renderHTML({HTMLAttributes:t}){const o=["div",{style:"position: relative;overflow: hidden;display: flex;flex: 1;max-width: 640px;"},["div",{style:`flex: 1;padding-bottom: ${56.25}%;`}],["iframe",t]];return["div",this.options.HTMLAttributes,o]},addCommands(){return{setIframe:t=>({tr:e,dispatch:n})=>{const{selection:r}=e,i=this.type.create(t);return n&&e.replaceRangeWith(r.from,r.to,i),!0}}}});const aS=/(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,lS=Me.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",me(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[Lh({find:aS,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),uS={editor:Ye().isRequired,node:Ye().isRequired,decorations:Ye().isRequired,selected:pe().isRequired,extension:Ye().isRequired,getPos:Mn().isRequired,updateAttributes:Mn().isRequired,deleteNode:Mn().isRequired};function cS(t,e,n){return t<e?e:t>n?n:t}const Wo={TOP_LEFT:"tl",TOP_RIGHT:"tr",BOTTOM_LEFT:"bl",BOTTOM_RIGHT:"br"},id=20,od=1e5,sd=16;var fS={components:{NodeViewWrapper:wx},props:_e(x({},uS),{selected:pe().isRequired}),setup(t){const e=De({width:od,height:od}),n=De({width:0,height:0}),r=De([Wo.TOP_LEFT,Wo.TOP_RIGHT,Wo.BOTTOM_LEFT,Wo.BOTTOM_RIGHT]),i=De(!1),o=De({x:0,y:0,w:0,h:0,dir:""}),s=de(()=>t.node.attrs.src||void 0),a=de(()=>t.node.attrs.alt||void 0),l=de(()=>t.node.attrs.width||void 0),u=de(()=>t.node.attrs.height||void 0),c=de(()=>t.node.attrs.display||void 0),f=de(()=>typeof A(c)=="string"?["image-view",`image-view--${A(c)}`]:["image-view"]);function d(O){n.value={width:O.target.width,height:O.target.height}}function p(){const{editor:O,getPos:k}=t;O.commands.setNodeSelection(k())}const h=Ur(function(){const{editor:O}=t,{width:k}=getComputedStyle(O.view.dom);e.value.width=parseInt(k,10)},sd);function m(O,k){O.preventDefault(),O.stopPropagation(),o.value.x=O.clientX,o.value.y=O.clientY;const F=A(n).width,S=A(n).height,B=F/S;let L=Number(t.node.attrs.width),z=Number(t.node.attrs.height);const U=A(e).width;L&&!z?(L=L>U?U:L,z=Math.round(L/B)):z&&!L?(L=Math.round(z*B),L=L>U?U:L):!L&&!z?(L=F>U?U:F,z=Math.round(L/B)):L=L>U?U:L,o.value.w=L,o.value.h=z,o.value.dir=k,i.value=!0,E()}const y=Ur(function(O){if(O.preventDefault(),O.stopPropagation(),!A(i))return;const{x:k,y:F,w:S,h:B,dir:L}=A(o),z=(O.clientX-k)*(/l/.test(L)?-1:1),U=(O.clientY-F)*(/t/.test(L)?-1:1);t.updateAttributes({width:cS(S+z,id,A(e).width),height:Math.max(B+U,id)})},sd);function D(O){O.preventDefault(),O.stopPropagation(),A(i)&&(i.value=!1,o.value={x:0,y:0,w:0,h:0,dir:""},M(),p())}function E(){document==null||document.addEventListener("mousemove",y,!0),document==null||document.addEventListener("mouseup",D,!0)}function M(){document==null||document.removeEventListener("mousemove",y,!0),document==null||document.removeEventListener("mouseup",D,!0)}const v=new ResizeObserver(()=>h());return np(()=>{A(v).observe(t.editor.view.dom)}),ou(()=>{A(v).disconnect()}),{imageViewClass:f,resizing:i,src:s,alt:a,width:l,height:u,resizeDirections:r,selectImage:p,onMouseDown:m,onImageLoad:d}}},dS=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("node-view-wrapper",{class:t.imageViewClass,attrs:{as:"div"}},[n("div",{staticClass:"image-view__body",class:{"image-view__body--focused":t.selected,"image-view__body--resizing":t.resizing},attrs:{draggable:"true","data-drag-handle":""}},[n("img",{staticClass:"image-view__body__image",attrs:{src:t.src,alt:t.alt,width:t.width,height:t.height},on:{load:t.onImageLoad,click:t.selectImage}}),t.editor.view.editable?n("div",{directives:[{name:"show",rawName:"v-show",value:t.selected||t.resizing,expression:"selected || resizing"}],staticClass:"image-resizer"},t._l(t.resizeDirections,function(r){return n("span",{key:r,staticClass:"image-resizer__handler",class:`image-resizer__handler--${r}`,on:{mousedown:function(i){return t.onMouseDown(i,r)}}})}),0):t._e()])])},pS=[];const ad={};var hS=Nt(fS,dS,pS,!1,mS,null,null,null);function mS(t){for(let e in ad)this[e]=ad[e]}var gS=function(){return hS.exports}(),vS=lS.extend({addStorage(){return{upload:this.options.upload,imageTabs:this.options.imageTabs,hiddenTabs:this.options.hiddenTabs}},addAttributes(){return{src:{default:null},alt:{default:null},width:{default:"100%"},height:{default:null},display:{default:"inline",renderHTML:({display:t})=>t?{"data-display":t}:{},parseHTML:t=>t.getAttribute("data-display")||"inline"}}},addNodeView(){return Ax(gS)}}),yS=Ae.create({name:"tiptap-kit",addExtensions(){const t=[];return this.options.placeholder!==!1&&t.push(BE.configure(this.options.placeholder)),this.options.textAlign!==!1&&t.push(LE.configure(this.options.textAlign)),this.options.focus!==!1&&t.push(NE.configure(this.options.focus)),this.options.color!==!1&&t.push($E.configure(this.options.color)),this.options.highlight!==!1&&t.push(VE.configure(this.options.highlight)),this.options.image!==!1&&t.push(vS.configure(this.options.image)),this.options.link!==!1&&t.push(eS.configure(this.options.link)),this.options.taskList!==!1&&t.push(tS.configure(this.options.taskList)),this.options.taskItem!==!1&&t.push(rS.configure(this.options.taskItem)),this.options.textStyle!==!1&&t.push(IE.configure(this.options.textStyle)),this.options.underline!==!1&&t.push(iS.configure(this.options.underline)),this.options.video!==!1&&t.push(sS.configure(this.options.video)),this.options.blockquote!==!1&&t.push(Nk.configure(this.options.blockquote)),this.options.bold!==!1&&t.push(Vk.configure(this.options.bold)),this.options.bulletList!==!1&&t.push(zk.configure(this.options.bulletList)),this.options.code!==!1&&t.push(qk.configure(this.options.code)),this.options.codeBlock!==!1&&t.push(Jk.configure(this.options.codeBlock)),this.options.document!==!1&&t.push(Gk.configure(this.options.document)),this.options.dropcursor!==!1&&t.push(Zk.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&t.push(sE.configure(this.options.gapcursor)),this.options.characterCount!==!1&&t.push(aE.configure(this.options.characterCount)),this.options.hardBreak!==!1&&t.push(lE.configure(this.options.hardBreak)),this.options.heading!==!1&&t.push(uE.configure(this.options.heading)),this.options.history!==!1&&t.push(yE.configure(this.options.history)),this.options.horizontalRule!==!1&&t.push(bE.configure(this.options.horizontalRule)),this.options.italic!==!1&&t.push(xE.configure(this.options.italic)),this.options.listItem!==!1&&t.push(kE.configure(this.options.listItem)),this.options.orderedList!==!1&&t.push(SE.configure(this.options.orderedList)),this.options.paragraph!==!1&&t.push(_E.configure(this.options.paragraph)),this.options.strike!==!1&&t.push(ME.configure(this.options.strike)),this.options.text!==!1&&t.push(FE.configure(this.options.text)),t}});const bS=["bold","italic","underline","strike","color","highlight","|","h1","h2","h3","h4","h5","h6","p","|","left","center","right","justify","|","bulletList","orderedList","taskList","indent","outdent","|","link","image","video","|","blockquote","rule","code","|","clear","fullscreen","undo","redo"];var DS={props:{value:Ye().def({}),t:Mn().isRequired},setup(t,{emit:e}){const n=de({get:()=>t.value,set:r=>e("input",r)});return{mdiLinkVariant:ya,mdiText:Iu,form:n}}},CS=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(Sd,[n(si,{attrs:{label:t.t("editor.image.dialog.form.link"),autofocus:"","prepend-icon":t.mdiLinkVariant},model:{value:t.form.src,callback:function(r){t.$set(t.form,"src",r)},expression:"form.src"}}),n(si,{attrs:{label:t.t("editor.image.dialog.form.alt"),"prepend-icon":t.mdiText},model:{value:t.form.alt,callback:function(r){t.$set(t.form,"alt",r)},expression:"form.alt"}})],1)},AS=[];const ld={};var wS=Nt(DS,CS,AS,!1,xS,null,null,null);function xS(t){for(let e in ld)this[e]=ld[e]}var ud=function(){return wS.exports}(),kS={props:{value:Ye().def({}),upload:Mn(),t:Mn().isRequired},setup(t,{emit:e}){const n=De(!1),r=de({get:()=>t.value,set:o=>e("input",o)});async function i(o){var s;if(!!o)try{n.value=!0;const a=await((s=t.upload)==null?void 0:s.call(t,o));a&&(r.value.src=a)}finally{n.value=!1}}return{mdiLinkVariant:ya,mdiText:Iu,form:r,loading:n,onFileSelected:i}}},ES=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(Sd,{attrs:{disabled:t.loading}},[n($g,{attrs:{label:t.t("editor.image.dialog.form.file"),accept:"image/*",loading:t.loading,"prepend-icon":t.mdiLinkVariant},on:{change:t.onFileSelected,"click:clear":function(r){t.form.src=void 0}},model:{value:t.form.file,callback:function(r){t.$set(t.form,"file",r)},expression:"form.file"}}),n(si,{attrs:{label:t.t("editor.image.dialog.form.link"),disabled:"",autofocus:"","prepend-icon":t.mdiLinkVariant},model:{value:t.form.src,callback:function(r){t.$set(t.form,"src",r)},expression:"form.src"}}),n(si,{attrs:{label:t.t("editor.image.dialog.form.alt"),"prepend-icon":t.mdiText},model:{value:t.form.alt,callback:function(r){t.$set(t.form,"alt",r)},expression:"form.alt"}})],1)},SS=[];const cd={};var _S=Nt(kS,ES,SS,!1,OS,null,null,null);function OS(t){for(let e in cd)this[e]=cd[e]}var fd=function(){return _S.exports}(),TS={components:{ImageUrl:ud,ImageUpload:fd},props:{value:Ye().def({}),editor:Ye().isRequired,show:pe().def(!1),dark:pe().def(!1),upload:Mn(),imageTabs:vr().def([]),hiddenTabs:vr().def([])},setup(t,{root:e}){const{t:n}=Ti(),r=De(!1),i=De({}),o=de(()=>[...[{name:A(n)("editor.image.dialog.tab.url"),type:"url",component:ud},{name:A(n)("editor.image.dialog.tab.upload"),type:"upload",component:fd}].filter(f=>f.type?!t.hiddenTabs.includes(f.type):f),...t.imageTabs]),s=de(()=>{const{src:u}=A(i);return!(typeof u=="string"&&u!=="")});async function a(){const{src:u,alt:c}=A(i);!u||(t.editor.chain().focus().setImage({src:u,alt:c!=null?c:void 0}).run(),l())}function l(){var u;e.$destroy(),(u=e.$el.parentNode)==null||u.removeChild(e.$el)}return np(()=>{const{src:u,alt:c}=t.value;i.value=_e(x({},A(i)),{src:u!=null?u:void 0,alt:c!=null?c:void 0})}),{mdiClose:Nu,mdiLinkVariant:ya,mdiText:Iu,tab:r,defaultImageTabs:o,disabledApply:s,form:i,t:n,apply:a,close:l}}},MS=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(ea,{attrs:{dark:t.dark,value:t.show,"max-width":"400"}},[n(Si,[n(Xl,[n("span",{staticClass:"headline"},[t._v(t._s(t.t("editor.image.dialog.title")))]),n(vo),n(be,{attrs:{icon:""},on:{click:t.close}},[n(Tt,[t._v(t._s(t.mdiClose))])],1)],1),n(Vg,{model:{value:t.tab,callback:function(r){t.tab=r},expression:"tab"}},[t._l(t.defaultImageTabs,function(r,i){return[n(Hg,{key:"tab-"+i},[t._v(" "+t._s(r.name)+" ")]),n(zg,{key:"tab-item-"+i},[n(Qs,[n(r.component,{tag:"component",attrs:{upload:t.upload,t:t.t},model:{value:t.form,callback:function(o){t.form=o},expression:"form"}})],1)],1)]})],2),n(Zl,[n(be,{attrs:{text:"",disabled:t.disabledApply},on:{click:t.apply}},[t._v(" "+t._s(t.t("editor.image.dialog.button.apply"))+" ")])],1)],1)],1)},FS=[];const dd={};var BS=Nt(TS,MS,FS,!1,LS,null,null,null);function LS(t){for(let e in dd)this[e]=dd[e]}var NS=function(){return BS.exports}();function IS(t){var e,n;const{upload:r,imageTabs:i,hiddenTabs:o}=t.storage.image||{},s={},a=t==null?void 0:t.view.state.selection;(e=a==null?void 0:a.node)!=null&&e.attrs&&(s.src=a.node.attrs.src,s.alt=a.node.attrs.alt);const l=st.extend(NS),u=new l({vuetify:au(),propsData:{editor:t,value:s,show:!0,upload:r,imageTabs:i,hiddenTabs:o}});u.$mount(),(n=document.querySelector("body"))==null||n.appendChild(u.$el)}var $S={props:{value:Fn(),editor:Ye().isRequired,show:pe().def(!1),dark:pe().def(!1)},setup(t,{root:e}){const{t:n}=Ti(),r=De(""),i=de(()=>t.value===r.value||!A(r));function o(){A(r)&&t.editor.chain().focus().extendMarkRange("link").setLink({href:A(r)}).run(),s()}function s(){var a;e.$destroy(),(a=e.$el.parentNode)==null||a.removeChild(e.$el)}return{mdiClose:Nu,url:r,isDisabled:i,t:n,apply:o,close:s}}},PS=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(ea,{attrs:{dark:t.dark,value:t.show,"max-width":"400"}},[n(Si,[n(Xl,[n("span",{staticClass:"headline"},[t._v(t._s(t.t("editor.link.dialog.title")))]),n(vo),n(be,{attrs:{icon:""},on:{click:t.close}},[n(Tt,[t._v(t._s(t.mdiClose))])],1)],1),n(Qs,[n(si,{attrs:{value:t.value,label:t.t("editor.link.dialog.link"),"hide-details":"",autofocus:""},on:{input:function(r){t.url=r}}})],1),n(Zl,[n(be,{attrs:{disabled:t.isDisabled,text:""},on:{click:t.apply}},[t._v(" "+t._s(t.t("editor.link.dialog.button.apply"))+" ")])],1)],1)],1)},RS=[];const pd={};var VS=Nt($S,PS,RS,!1,HS,null,null,null);function HS(t){for(let e in pd)this[e]=pd[e]}var zS=function(){return VS.exports}();function jS(t){var e;const{href:n}=t.getAttributes("link"),r=st.extend(zS),i=new r({vuetify:au(),propsData:{editor:t,value:n,show:!0}});i.$mount(),(e=document.querySelector("body"))==null||e.appendChild(i.$el)}var WS={props:{value:Fn(),editor:Ye().isRequired,show:pe().def(!1),dark:pe().def(!1)},setup(t,{root:e}){const{t:n}=Ti(),r=De(""),i=de(()=>t.value===r.value||!A(r));function o(){A(r)&&t.editor.chain().focus().setIframe({src:r.value}).run(),s()}function s(){var a;e.$destroy(),(a=e.$el.parentNode)==null||a.removeChild(e.$el)}return{mdiClose:Nu,url:r,isDisabled:i,t:n,apply:o,close:s}}},qS=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(ea,{attrs:{dark:t.dark,value:t.show,"max-width":"400"}},[n(Si,[n(Xl,[n("span",{staticClass:"headline"},[t._v(t._s(t.t("editor.video.dialog.title")))]),n(vo),n(be,{attrs:{icon:""},on:{click:t.close}},[n(Tt,[t._v(t._s(t.mdiClose))])],1)],1),n(Qs,[n(si,{attrs:{value:t.value,label:t.t("editor.video.dialog.link"),"hide-details":"",autofocus:""},on:{input:function(r){t.url=r}}})],1),n(Zl,[n(be,{attrs:{disabled:t.isDisabled,text:""},on:{click:t.apply}},[t._v(" "+t._s(t.t("editor.video.dialog.button.apply"))+" ")])],1)],1)],1)},US=[];const hd={};var KS=Nt(WS,qS,US,!1,JS,null,null,null);function JS(t){for(let e in hd)this[e]=hd[e]}var GS=function(){return KS.exports}();function YS(t){var e;const{src:n}=t.getAttributes("iframe"),r=st.extend(GS),i=new r({vuetify:au(),propsData:{editor:t,value:n,show:!0}});i.$mount(),(e=document.querySelector("body"))==null||e.appendChild(i.$el)}function XS({editor:t,isFullscreen:e,toolbar:n}){const{t:r}=Ti(),i=de(()=>({"|":{type:"divider"},divider:{type:"divider"},">":{type:"spacer"},spacer:{type:"spacer"},bold:{title:A(r)("editor.bold.tooltip"),icon:Q("bold"),type:"bold",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().toggleBold().run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive("bold"))||!1}},italic:{title:A(r)("editor.italic.tooltip"),icon:Q("italic"),type:"italic",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().toggleItalic().run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive("italic"))||!1}},underline:{title:A(r)("editor.underline.tooltip"),icon:Q("underline"),type:"underline",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().toggleUnderline().run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive("underline"))||!1}},strike:{title:A(r)("editor.strike.tooltip"),icon:Q("strike"),type:"strike",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().toggleStrike().run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive("strike"))||!1}},color:{title:A(r)("editor.color.tooltip"),icon:Q("color"),type:"color",action:s=>{var a;return(a=A(t))==null?void 0:a.chain().focus().setColor(s).run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive("textStyle"))||!1}},highlight:{title:A(r)("editor.highlight.tooltip"),icon:Q("highlight"),type:"highlight",action:s=>{var a;return(a=A(t))==null?void 0:a.chain().focus().setHighlight({color:s}).run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive("highlight"))||!1}},h1:{title:A(r)("editor.heading.h1.tooltip"),icon:Q("h1"),type:"h1",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().toggleHeading({level:1}).run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive("heading",{level:1}))||!1}},h2:{title:A(r)("editor.heading.h2.tooltip"),icon:Q("h2"),type:"h2",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().toggleHeading({level:2}).run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive("heading",{level:2}))||!1}},h3:{title:A(r)("editor.heading.h3.tooltip"),icon:Q("h3"),type:"h3",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().toggleHeading({level:3}).run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive("heading",{level:3}))||!1}},h4:{title:A(r)("editor.heading.h4.tooltip"),icon:Q("h4"),type:"h4",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().toggleHeading({level:4}).run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive("heading",{level:4}))||!1}},h5:{title:A(r)("editor.heading.h5.tooltip"),icon:Q("h5"),type:"h5",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().toggleHeading({level:5}).run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive("heading",{level:5}))||!1}},h6:{title:A(r)("editor.heading.h6.tooltip"),icon:Q("h6"),type:"h6",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().toggleHeading({level:6}).run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive("heading",{level:6}))||!1}},p:{title:A(r)("editor.paragraph.tooltip"),icon:Q("p"),type:"p",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().setParagraph().run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive("paragraph"))||!1}},left:{title:A(r)("editor.left.tooltip"),icon:Q("left"),type:"left",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().setTextAlign("left").run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive({textAlign:"left"}))||!1}},center:{title:A(r)("editor.center.tooltip"),icon:Q("center"),type:"center",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().setTextAlign("center").run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive({textAlign:"center"}))||!1}},right:{title:A(r)("editor.right.tooltip"),icon:Q("right"),type:"right",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().setTextAlign("right").run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive({textAlign:"right"}))||!1}},justify:{title:A(r)("editor.justify.tooltip"),icon:Q("justify"),type:"justify",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().setTextAlign("justify").run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive({textAlign:"justify"}))||!1}},bulletList:{title:A(r)("editor.bulletlist.tooltip"),icon:Q("bulletList"),type:"bulletList",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().toggleBulletList().run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive("bulletList"))||!1}},orderedList:{title:A(r)("editor.orderedlist.tooltip"),icon:Q("orderedList"),type:"orderedList",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().toggleOrderedList().run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive("orderedList"))||!1}},taskList:{title:A(r)("editor.tasklist.tooltip"),icon:Q("taskList"),type:"taskList",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().toggleTaskList().run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive("taskList"))||!1}},indent:{title:A(r)("editor.indent.tooltip"),icon:Q("indent"),type:"indent",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().sinkListItem("listItem").run()}},outdent:{title:A(r)("editor.outdent.tooltip"),icon:Q("outdent"),type:"outdent",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().liftListItem("listItem").run()}},link:{title:A(r)("editor.link.tooltip"),icon:Q("link"),type:"link",action:()=>{t.value&&jS(t.value)},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive("link"))||!1}},image:{title:A(r)("editor.image.tooltip"),icon:Q("image"),type:"image",action:()=>{t.value&&IS(t.value)},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive("image"))||!1}},video:{title:A(r)("editor.video.tooltip"),icon:Q("video"),type:"video",action:()=>{t.value&&YS(t.value)},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive("iframe"))||!1}},blockquote:{title:A(r)("editor.blockquote.tooltip"),icon:Q("blockquote"),type:"blockquote",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().toggleBlockquote().run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive("blockquote"))||!1}},rule:{title:A(r)("editor.horizontalrule.tooltip"),icon:Q("rule"),type:"rule",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().setHorizontalRule().run()}},code:{title:A(r)("editor.code.tooltip"),icon:Q("code"),type:"code",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().toggleCode().run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive("code"))||!1}},codeBlock:{title:A(r)("editor.codeblock.tooltip"),icon:Q("codeBlock"),type:"codeBlock",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().toggleCodeBlock().run()},isActive:()=>{var s;return((s=A(t))==null?void 0:s.isActive("codeBlock"))||!1}},clear:{title:A(r)("editor.clear.tooltip"),icon:Q("clear"),type:"clear",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().focus().clearNodes().unsetAllMarks().run()}},undo:{title:A(r)("editor.undo.tooltip"),icon:Q("undo"),type:"undo",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().undo().run()}},redo:{title:A(r)("editor.redo.tooltip"),icon:Q("redo"),type:"redo",action:()=>{var s;return(s=A(t))==null?void 0:s.chain().redo().run()}},fullscreen:{title:A(e)?A(r)("editor.fullscreen.tooltip.exit"):A(r)("editor.fullscreen.tooltip.fullscreen"),icon:A(e)?ek:Q("fullscreen"),type:"fullscreen",action:()=>(e.value=!A(e),A(e)?document.documentElement.classList.add("overflow-y-hidden"):document.documentElement.classList.remove("overflow-y-hidden"),A(e))}}));return{items:de(()=>{if(!A(t))return[];const s=[];for(const a of n){const l=A(i)[a];l?s.push(l):a[0]==="#"&&s.push({type:"slot",slot:a.substring(1)})}return s})}}const qo=16;var ZS={components:{TipTapToolbar:Qh,EditorContent:bx,BubbleMenu:Bk},props:{value:Fn().def(""),dark:pe().def(!1),dense:pe().def(!1),outlined:pe().def(!0),disabled:pe().def(!1),label:Fn(),placeholder:Fn(),toolbar:vr().def(bS),hideToolbar:pe().def(!1),disableToolbar:pe().def(!1),minHeight:cr([String,Number]),maxHeight:cr([String,Number]),extensions:vr().def([]),config:Ye().def({}),editorClass:cr([String,Array,Object])},setup(t,{emit:e,listeners:n,root:r}){const i=De(null),o=De(null),s=De(!1),{t:a}=Ti(),{items:l}=XS({editor:o,isFullscreen:s,toolbar:t.toolbar}),u=de(()=>A(l).filter(D=>D.type==="slot")),c=de(()=>{if(A(s))return{height:"100%",overflowY:"auto"};const D=v=>{if(!v)return v;const O=parseInt(v,10),k=v.slice(O.toString().length);return O+(k||"px")},E=D(typeof t.minHeight=="number"?String(t.minHeight):t.minHeight),M=D(typeof t.maxHeight=="number"?String(t.maxHeight):t.maxHeight);return{minHeight:E,maxHeight:M,overflowY:"auto"}}),f=Ur(D=>{var E,M;!A(o)||((E=A(o))==null?void 0:E.getHTML())===D||(M=A(o))==null||M.commands.setContent(D)},qo),d=D=>{var E;return(E=A(o))==null?void 0:E.setEditable(!D)};vc(()=>t.value,f),vc(()=>t.disabled,d);const p=Ur(function(D,E){return E.key==="Enter"&&n.enter&&!E.shiftKey?(e("enter"),!0):!1},qo),h=Ur(function({editor:D}){var E;(E=A(i))==null||E.onUpdate(D)},qo),m=Ur(function({editor:D}){e("input",D.getHTML())},qo);return(()=>{var D;const E=h1({bold:{},blockquote:{HTMLAttributes:{class:"blockquote"}},history:{depth:10},heading:{levels:[1,2,3,4,5,6]},placeholder:{placeholder:()=>t.placeholder||""},textAlign:{types:["heading","paragraph","image"]},focus:{className:"focus"},color:{},highlight:{multicolor:!0},image:{inline:!0},link:{openOnClick:!0},taskList:{HTMLAttributes:{class:"task-list"}},taskItem:{HTMLAttributes:{itemTypeName:"task-list"}},textStyle:{},underline:{},video:{}},(D=r.$vuetifyProTiptap)==null?void 0:D.config,t.config);o.value=new yx({content:t.value,editorProps:{handleKeyDown:p},onSelectionUpdate:h,onUpdate:m,extensions:[yS.configure(E),...t.extensions],autofocus:!1,editable:!0,injectCSS:!0})})(),ou(()=>{var D;return(D=A(o))==null?void 0:D.destroy()}),{toolbarRef:i,editor:o,isFullscreen:s,items:l,slotItems:u,contentDynamicStyles:c,t:a}}},QS=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.editor?n("div",{staticClass:"vuetify-pro-tiptap",class:{dense:t.dense}},[n("BubbleMenu",{attrs:{editor:t.editor,dark:t.dark,disabled:t.disableToolbar,items:t.items}}),t.label?n(Pg,[t._v(t._s(t.label))]):t._e(),n(Rg,t._b({staticClass:"pt-0",attrs:{"hide-details":"auto"}},"v-input",t.$attrs,!1),[n(Si,t._b({staticClass:"vuetify-pro-tiptap-editor",class:{"vuetify-pro-tiptap-editor--fullscreen":t.isFullscreen},staticStyle:{width:"100%"},style:{borderColor:t.$attrs["error-messages"]?"#ff5252":void 0},attrs:{flat:"",outlined:t.outlined,dark:t.dark}},"v-card",t.$attrs,!1),[!t.hideToolbar&&t.toolbar&&t.toolbar.length?n("TipTapToolbar",{ref:"toolbarRef",staticClass:"vuetify-pro-tiptap-editor__toolbar",attrs:{dark:t.dark,disabled:t.disableToolbar,items:t.items,color:t.dark?void 0:"grey lighten-4"},scopedSlots:t._u([t._l(t.slotItems,function(r){return{key:r.slot,fn:function(i){var o=i.attrs;return[t._t(r.slot,null,null,{editor:t.editor,attrs:o})]}}})],null,!0)}):t._e(),t._t("editor",function(){return[n("editor-content",{staticClass:"vuetify-pro-tiptap-editor__content",class:t.editorClass,style:t.contentDynamicStyles,attrs:{editor:t.editor,"data-testid":"value"}})]},null,{editor:t.editor,attrs:{class:"vuetify-pro-tiptap-editor__content","data-testid":"value"}}),t._t("bottom",function(){return[n(Yl,{attrs:{dense:"",flat:"",color:t.dark?void 0:"grey lighten-4"}},[n(vo),n("span",{staticClass:"text-overline me-4"},[t._v(t._s(t.editor.storage.characterCount.words())+" "+t._s(t.t("editor.words")))]),n("span",{staticClass:"text-overline"},[t._v(t._s(t.editor.storage.characterCount.characters())+" "+t._s(t.t("editor.characters")))])],1)]},null,{editor:t.editor})],2)],1)],1):t._e()},e_=[];const md={};var t_=Nt(ZS,QS,e_,!1,n_,null,null,null);function n_(t){for(let e in md)this[e]=md[e]}var cm=function(){return t_.exports}(),Jl={exports:{}},ue={},go={exports:{}},kr={};function fm(){var t={};return t["align-content"]=!1,t["align-items"]=!1,t["align-self"]=!1,t["alignment-adjust"]=!1,t["alignment-baseline"]=!1,t.all=!1,t["anchor-point"]=!1,t.animation=!1,t["animation-delay"]=!1,t["animation-direction"]=!1,t["animation-duration"]=!1,t["animation-fill-mode"]=!1,t["animation-iteration-count"]=!1,t["animation-name"]=!1,t["animation-play-state"]=!1,t["animation-timing-function"]=!1,t.azimuth=!1,t["backface-visibility"]=!1,t.background=!0,t["background-attachment"]=!0,t["background-clip"]=!0,t["background-color"]=!0,t["background-image"]=!0,t["background-origin"]=!0,t["background-position"]=!0,t["background-repeat"]=!0,t["background-size"]=!0,t["baseline-shift"]=!1,t.binding=!1,t.bleed=!1,t["bookmark-label"]=!1,t["bookmark-level"]=!1,t["bookmark-state"]=!1,t.border=!0,t["border-bottom"]=!0,t["border-bottom-color"]=!0,t["border-bottom-left-radius"]=!0,t["border-bottom-right-radius"]=!0,t["border-bottom-style"]=!0,t["border-bottom-width"]=!0,t["border-collapse"]=!0,t["border-color"]=!0,t["border-image"]=!0,t["border-image-outset"]=!0,t["border-image-repeat"]=!0,t["border-image-slice"]=!0,t["border-image-source"]=!0,t["border-image-width"]=!0,t["border-left"]=!0,t["border-left-color"]=!0,t["border-left-style"]=!0,t["border-left-width"]=!0,t["border-radius"]=!0,t["border-right"]=!0,t["border-right-color"]=!0,t["border-right-style"]=!0,t["border-right-width"]=!0,t["border-spacing"]=!0,t["border-style"]=!0,t["border-top"]=!0,t["border-top-color"]=!0,t["border-top-left-radius"]=!0,t["border-top-right-radius"]=!0,t["border-top-style"]=!0,t["border-top-width"]=!0,t["border-width"]=!0,t.bottom=!1,t["box-decoration-break"]=!0,t["box-shadow"]=!0,t["box-sizing"]=!0,t["box-snap"]=!0,t["box-suppress"]=!0,t["break-after"]=!0,t["break-before"]=!0,t["break-inside"]=!0,t["caption-side"]=!1,t.chains=!1,t.clear=!0,t.clip=!1,t["clip-path"]=!1,t["clip-rule"]=!1,t.color=!0,t["color-interpolation-filters"]=!0,t["column-count"]=!1,t["column-fill"]=!1,t["column-gap"]=!1,t["column-rule"]=!1,t["column-rule-color"]=!1,t["column-rule-style"]=!1,t["column-rule-width"]=!1,t["column-span"]=!1,t["column-width"]=!1,t.columns=!1,t.contain=!1,t.content=!1,t["counter-increment"]=!1,t["counter-reset"]=!1,t["counter-set"]=!1,t.crop=!1,t.cue=!1,t["cue-after"]=!1,t["cue-before"]=!1,t.cursor=!1,t.direction=!1,t.display=!0,t["display-inside"]=!0,t["display-list"]=!0,t["display-outside"]=!0,t["dominant-baseline"]=!1,t.elevation=!1,t["empty-cells"]=!1,t.filter=!1,t.flex=!1,t["flex-basis"]=!1,t["flex-direction"]=!1,t["flex-flow"]=!1,t["flex-grow"]=!1,t["flex-shrink"]=!1,t["flex-wrap"]=!1,t.float=!1,t["float-offset"]=!1,t["flood-color"]=!1,t["flood-opacity"]=!1,t["flow-from"]=!1,t["flow-into"]=!1,t.font=!0,t["font-family"]=!0,t["font-feature-settings"]=!0,t["font-kerning"]=!0,t["font-language-override"]=!0,t["font-size"]=!0,t["font-size-adjust"]=!0,t["font-stretch"]=!0,t["font-style"]=!0,t["font-synthesis"]=!0,t["font-variant"]=!0,t["font-variant-alternates"]=!0,t["font-variant-caps"]=!0,t["font-variant-east-asian"]=!0,t["font-variant-ligatures"]=!0,t["font-variant-numeric"]=!0,t["font-variant-position"]=!0,t["font-weight"]=!0,t.grid=!1,t["grid-area"]=!1,t["grid-auto-columns"]=!1,t["grid-auto-flow"]=!1,t["grid-auto-rows"]=!1,t["grid-column"]=!1,t["grid-column-end"]=!1,t["grid-column-start"]=!1,t["grid-row"]=!1,t["grid-row-end"]=!1,t["grid-row-start"]=!1,t["grid-template"]=!1,t["grid-template-areas"]=!1,t["grid-template-columns"]=!1,t["grid-template-rows"]=!1,t["hanging-punctuation"]=!1,t.height=!0,t.hyphens=!1,t.icon=!1,t["image-orientation"]=!1,t["image-resolution"]=!1,t["ime-mode"]=!1,t["initial-letters"]=!1,t["inline-box-align"]=!1,t["justify-content"]=!1,t["justify-items"]=!1,t["justify-self"]=!1,t.left=!1,t["letter-spacing"]=!0,t["lighting-color"]=!0,t["line-box-contain"]=!1,t["line-break"]=!1,t["line-grid"]=!1,t["line-height"]=!1,t["line-snap"]=!1,t["line-stacking"]=!1,t["line-stacking-ruby"]=!1,t["line-stacking-shift"]=!1,t["line-stacking-strategy"]=!1,t["list-style"]=!0,t["list-style-image"]=!0,t["list-style-position"]=!0,t["list-style-type"]=!0,t.margin=!0,t["margin-bottom"]=!0,t["margin-left"]=!0,t["margin-right"]=!0,t["margin-top"]=!0,t["marker-offset"]=!1,t["marker-side"]=!1,t.marks=!1,t.mask=!1,t["mask-box"]=!1,t["mask-box-outset"]=!1,t["mask-box-repeat"]=!1,t["mask-box-slice"]=!1,t["mask-box-source"]=!1,t["mask-box-width"]=!1,t["mask-clip"]=!1,t["mask-image"]=!1,t["mask-origin"]=!1,t["mask-position"]=!1,t["mask-repeat"]=!1,t["mask-size"]=!1,t["mask-source-type"]=!1,t["mask-type"]=!1,t["max-height"]=!0,t["max-lines"]=!1,t["max-width"]=!0,t["min-height"]=!0,t["min-width"]=!0,t["move-to"]=!1,t["nav-down"]=!1,t["nav-index"]=!1,t["nav-left"]=!1,t["nav-right"]=!1,t["nav-up"]=!1,t["object-fit"]=!1,t["object-position"]=!1,t.opacity=!1,t.order=!1,t.orphans=!1,t.outline=!1,t["outline-color"]=!1,t["outline-offset"]=!1,t["outline-style"]=!1,t["outline-width"]=!1,t.overflow=!1,t["overflow-wrap"]=!1,t["overflow-x"]=!1,t["overflow-y"]=!1,t.padding=!0,t["padding-bottom"]=!0,t["padding-left"]=!0,t["padding-right"]=!0,t["padding-top"]=!0,t.page=!1,t["page-break-after"]=!1,t["page-break-before"]=!1,t["page-break-inside"]=!1,t["page-policy"]=!1,t.pause=!1,t["pause-after"]=!1,t["pause-before"]=!1,t.perspective=!1,t["perspective-origin"]=!1,t.pitch=!1,t["pitch-range"]=!1,t["play-during"]=!1,t.position=!1,t["presentation-level"]=!1,t.quotes=!1,t["region-fragment"]=!1,t.resize=!1,t.rest=!1,t["rest-after"]=!1,t["rest-before"]=!1,t.richness=!1,t.right=!1,t.rotation=!1,t["rotation-point"]=!1,t["ruby-align"]=!1,t["ruby-merge"]=!1,t["ruby-position"]=!1,t["shape-image-threshold"]=!1,t["shape-outside"]=!1,t["shape-margin"]=!1,t.size=!1,t.speak=!1,t["speak-as"]=!1,t["speak-header"]=!1,t["speak-numeral"]=!1,t["speak-punctuation"]=!1,t["speech-rate"]=!1,t.stress=!1,t["string-set"]=!1,t["tab-size"]=!1,t["table-layout"]=!1,t["text-align"]=!0,t["text-align-last"]=!0,t["text-combine-upright"]=!0,t["text-decoration"]=!0,t["text-decoration-color"]=!0,t["text-decoration-line"]=!0,t["text-decoration-skip"]=!0,t["text-decoration-style"]=!0,t["text-emphasis"]=!0,t["text-emphasis-color"]=!0,t["text-emphasis-position"]=!0,t["text-emphasis-style"]=!0,t["text-height"]=!0,t["text-indent"]=!0,t["text-justify"]=!0,t["text-orientation"]=!0,t["text-overflow"]=!0,t["text-shadow"]=!0,t["text-space-collapse"]=!0,t["text-transform"]=!0,t["text-underline-position"]=!0,t["text-wrap"]=!0,t.top=!1,t.transform=!1,t["transform-origin"]=!1,t["transform-style"]=!1,t.transition=!1,t["transition-delay"]=!1,t["transition-duration"]=!1,t["transition-property"]=!1,t["transition-timing-function"]=!1,t["unicode-bidi"]=!1,t["vertical-align"]=!1,t.visibility=!1,t["voice-balance"]=!1,t["voice-duration"]=!1,t["voice-family"]=!1,t["voice-pitch"]=!1,t["voice-range"]=!1,t["voice-rate"]=!1,t["voice-stress"]=!1,t["voice-volume"]=!1,t.volume=!1,t["white-space"]=!1,t.widows=!1,t.width=!0,t["will-change"]=!1,t["word-break"]=!0,t["word-spacing"]=!0,t["word-wrap"]=!0,t["wrap-flow"]=!1,t["wrap-through"]=!1,t["writing-mode"]=!1,t["z-index"]=!1,t}function r_(t,e,n){}function i_(t,e,n){}var o_=/javascript\s*\:/img;function s_(t,e){return o_.test(e)?"":e}kr.whiteList=fm();kr.getDefaultWhiteList=fm;kr.onAttr=r_;kr.onIgnoreAttr=i_;kr.safeAttrValue=s_;var a_={indexOf:function(t,e){var n,r;if(Array.prototype.indexOf)return t.indexOf(e);for(n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},forEach:function(t,e,n){var r,i;if(Array.prototype.forEach)return t.forEach(e,n);for(r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}},Vi=a_;function l_(t,e){t=Vi.trimRight(t),t[t.length-1]!==";"&&(t+=";");var n=t.length,r=!1,i=0,o=0,s="";function a(){if(!r){var c=Vi.trim(t.slice(i,o)),f=c.indexOf(":");if(f!==-1){var d=Vi.trim(c.slice(0,f)),p=Vi.trim(c.slice(f+1));if(d){var h=e(i,s.length,d,p,c);h&&(s+=h+"; ")}}}i=o+1}for(;o<n;o++){var l=t[o];if(l==="/"&&t[o+1]==="*"){var u=t.indexOf("*/",o+2);if(u===-1)break;o=u+1,i=o+1,r=!1}else l==="("?r=!0:l===")"?r=!1:l===";"?r||a():l===`
`&&a()}return Vi.trim(s)}var u_=l_,Uo=kr,c_=u_;function gd(t){return t==null}function f_(t){var e={};for(var n in t)e[n]=t[n];return e}function dm(t){t=f_(t||{}),t.whiteList=t.whiteList||Uo.whiteList,t.onAttr=t.onAttr||Uo.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||Uo.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||Uo.safeAttrValue,this.options=t}dm.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,n=e.options,r=n.whiteList,i=n.onAttr,o=n.onIgnoreAttr,s=n.safeAttrValue,a=c_(t,function(l,u,c,f,d){var p=r[c],h=!1;if(p===!0?h=p:typeof p=="function"?h=p(f):p instanceof RegExp&&(h=p.test(f)),h!==!0&&(h=!1),f=s(c,f),!!f){var m={position:u,sourcePosition:l,source:d,isWhite:h};if(h){var y=i(c,f,m);return gd(y)?c+":"+f:y}else{var y=o(c,f,m);if(!gd(y))return y}}});return a};var d_=dm;(function(t,e){var n=kr,r=d_;function i(s,a){var l=new r(a);return l.process(s)}e=t.exports=i,e.FilterCSS=r;for(var o in n)e[o]=n[o];typeof window!="undefined"&&(window.filterCSS=t.exports)})(go,go.exports);var Uu={indexOf:function(t,e){var n,r;if(Array.prototype.indexOf)return t.indexOf(e);for(n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},forEach:function(t,e,n){var r,i;if(Array.prototype.forEach)return t.forEach(e,n);for(r=0,i=t.length;r<i;r++)e.call(n,t[r],r,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var e=/\s|\n|\t/,n=e.exec(t);return n?n.index:-1}},p_=go.exports.FilterCSS,h_=go.exports.getDefaultWhiteList,Xs=Uu;function pm(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var hm=new p_;function m_(t,e,n){}function g_(t,e,n){}function v_(t,e,n){}function y_(t,e,n){}function mm(t){return t.replace(D_,"&lt;").replace(C_,"&gt;")}function b_(t,e,n,r){if(n=Cm(n),e==="href"||e==="src"){if(n=Xs.trim(n),n==="#")return"#";if(!(n.substr(0,7)==="http://"||n.substr(0,8)==="https://"||n.substr(0,7)==="mailto:"||n.substr(0,4)==="tel:"||n.substr(0,11)==="data:image/"||n.substr(0,6)==="ftp://"||n.substr(0,2)==="./"||n.substr(0,3)==="../"||n[0]==="#"||n[0]==="/"))return""}else if(e==="background"){if(Ko.lastIndex=0,Ko.test(n))return""}else if(e==="style"){if(vd.lastIndex=0,vd.test(n)||(yd.lastIndex=0,yd.test(n)&&(Ko.lastIndex=0,Ko.test(n))))return"";r!==!1&&(r=r||hm,n=r.process(n))}return n=Am(n),n}var D_=/</g,C_=/>/g,A_=/"/g,w_=/&quot;/g,x_=/&#([a-zA-Z0-9]*);?/gim,k_=/&colon;?/gim,E_=/&newline;?/gim,Ko=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,vd=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,yd=/u\s*r\s*l\s*\(.*/gi;function gm(t){return t.replace(A_,"&quot;")}function vm(t){return t.replace(w_,'"')}function ym(t){return t.replace(x_,function(n,r){return r[0]==="x"||r[0]==="X"?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))})}function bm(t){return t.replace(k_,":").replace(E_," ")}function Dm(t){for(var e="",n=0,r=t.length;n<r;n++)e+=t.charCodeAt(n)<32?" ":t.charAt(n);return Xs.trim(e)}function Cm(t){return t=vm(t),t=ym(t),t=bm(t),t=Dm(t),t}function Am(t){return t=gm(t),t=mm(t),t}function S_(){return""}function __(t,e){typeof e!="function"&&(e=function(){});var n=!Array.isArray(t);function r(s){return n?!0:Xs.indexOf(t,s)!==-1}var i=[],o=!1;return{onIgnoreTag:function(s,a,l){if(r(s))if(l.isClosing){var u="[/removed]",c=l.position+u.length;return i.push([o!==!1?o:l.position,c]),o=!1,u}else return o||(o=l.position),"[removed]";else return e(s,a,l)},remove:function(s){var a="",l=0;return Xs.forEach(i,function(u){a+=s.slice(l,u[0]),l=u[1]}),a+=s.slice(l),a}}}function O_(t){for(var e="",n=0;n<t.length;){var r=t.indexOf("<!--",n);if(r===-1){e+=t.slice(n);break}e+=t.slice(n,r);var i=t.indexOf("-->",r);if(i===-1)break;n=i+3}return e}function T_(t){var e=t.split("");return e=e.filter(function(n){var r=n.charCodeAt(0);return r===127?!1:r<=31?r===10||r===13:!0}),e.join("")}ue.whiteList=pm();ue.getDefaultWhiteList=pm;ue.onTag=m_;ue.onIgnoreTag=g_;ue.onTagAttr=v_;ue.onIgnoreTagAttr=y_;ue.safeAttrValue=b_;ue.escapeHtml=mm;ue.escapeQuote=gm;ue.unescapeQuote=vm;ue.escapeHtmlEntities=ym;ue.escapeDangerHtml5Entities=bm;ue.clearNonPrintableCharacter=Dm;ue.friendlyAttrValue=Cm;ue.escapeAttrValue=Am;ue.onIgnoreTagStripAll=S_;ue.StripTagBody=__;ue.stripCommentTag=O_;ue.stripBlankChar=T_;ue.cssFilter=hm;ue.getDefaultCSSWhiteList=h_;var ba={},xn=Uu;function M_(t){var e=xn.spaceIndex(t),n;return e===-1?n=t.slice(1,-1):n=t.slice(1,e+1),n=xn.trim(n).toLowerCase(),n.slice(0,1)==="/"&&(n=n.slice(1)),n.slice(-1)==="/"&&(n=n.slice(0,-1)),n}function F_(t){return t.slice(0,2)==="</"}function B_(t,e,n){var r="",i=0,o=!1,s=!1,a=0,l=t.length,u="",c="";e:for(a=0;a<l;a++){var f=t.charAt(a);if(o===!1){if(f==="<"){o=a;continue}}else if(s===!1){if(f==="<"){r+=n(t.slice(i,a)),o=a,i=a;continue}if(f===">"){r+=n(t.slice(i,o)),c=t.slice(o,a+1),u=M_(c),r+=e(o,r.length,u,c,F_(c)),i=a+1,o=!1;continue}if(f==='"'||f==="'")for(var d=1,p=t.charAt(a-d);p.trim()===""||p==="=";){if(p==="="){s=f;continue e}p=t.charAt(a-++d)}}else if(f===s){s=!1;continue}}return i<t.length&&(r+=n(t.substr(i))),r}var L_=/[^a-zA-Z0-9\\_:.-]/gim;function N_(t,e){var n=0,r=0,i=[],o=!1,s=t.length;function a(d,p){if(d=xn.trim(d),d=d.replace(L_,"").toLowerCase(),!(d.length<1)){var h=e(d,p||"");h&&i.push(h)}}for(var l=0;l<s;l++){var u=t.charAt(l),c,f;if(o===!1&&u==="="){o=t.slice(n,l),n=l+1,r=t.charAt(n)==='"'||t.charAt(n)==="'"?n:$_(t,l+1);continue}if(o!==!1&&l===r){if(f=t.indexOf(u,l+1),f===-1)break;c=xn.trim(t.slice(r+1,f)),a(o,c),o=!1,l=f,n=l+1;continue}if(/\s|\n|\t/.test(u))if(t=t.replace(/\s|\n|\t/g," "),o===!1)if(f=I_(t,l),f===-1){c=xn.trim(t.slice(n,l)),a(c),o=!1,n=l+1;continue}else{l=f-1;continue}else if(f=P_(t,l-1),f===-1){c=xn.trim(t.slice(n,l)),c=bd(c),a(o,c),o=!1,n=l+1;continue}else continue}return n<t.length&&(o===!1?a(t.slice(n)):a(o,bd(xn.trim(t.slice(n))))),xn.trim(i.join(" "))}function I_(t,e){for(;e<t.length;e++){var n=t[e];if(n!==" ")return n==="="?e:-1}}function $_(t,e){for(;e<t.length;e++){var n=t[e];if(n!==" ")return n==="'"||n==='"'?e:-1}}function P_(t,e){for(;e>0;e--){var n=t[e];if(n!==" ")return n==="="?e:-1}}function R_(t){return t[0]==='"'&&t[t.length-1]==='"'||t[0]==="'"&&t[t.length-1]==="'"}function bd(t){return R_(t)?t.substr(1,t.length-2):t}ba.parseTag=B_;ba.parseAttr=N_;var V_=go.exports.FilterCSS,kt=ue,wm=ba,H_=wm.parseTag,z_=wm.parseAttr,ns=Uu;function Jo(t){return t==null}function j_(t){var e=ns.spaceIndex(t);if(e===-1)return{html:"",closing:t[t.length-2]==="/"};t=ns.trim(t.slice(e+1,-1));var n=t[t.length-1]==="/";return n&&(t=ns.trim(t.slice(0,-1))),{html:t,closing:n}}function W_(t){var e={};for(var n in t)e[n]=t[n];return e}function q_(t){var e={};for(var n in t)Array.isArray(t[n])?e[n.toLowerCase()]=t[n].map(function(r){return r.toLowerCase()}):e[n.toLowerCase()]=t[n];return e}function xm(t){t=W_(t||{}),t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=kt.onIgnoreTagStripAll),t.whiteList||t.allowList?t.whiteList=q_(t.whiteList||t.allowList):t.whiteList=kt.whiteList,t.onTag=t.onTag||kt.onTag,t.onTagAttr=t.onTagAttr||kt.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||kt.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||kt.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||kt.safeAttrValue,t.escapeHtml=t.escapeHtml||kt.escapeHtml,this.options=t,t.css===!1?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new V_(t.css))}xm.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,n=e.options,r=n.whiteList,i=n.onTag,o=n.onIgnoreTag,s=n.onTagAttr,a=n.onIgnoreTagAttr,l=n.safeAttrValue,u=n.escapeHtml,c=e.cssFilter;n.stripBlankChar&&(t=kt.stripBlankChar(t)),n.allowCommentTag||(t=kt.stripCommentTag(t));var f=!1;n.stripIgnoreTagBody&&(f=kt.StripTagBody(n.stripIgnoreTagBody,o),o=f.onIgnoreTag);var d=H_(t,function(p,h,m,y,D){var E={sourcePosition:p,position:h,isClosing:D,isWhite:Object.prototype.hasOwnProperty.call(r,m)},M=i(m,y,E);if(!Jo(M))return M;if(E.isWhite){if(E.isClosing)return"</"+m+">";var v=j_(y),O=r[m],k=z_(v.html,function(F,S){var B=ns.indexOf(O,F)!==-1,L=s(m,F,S,B);return Jo(L)?B?(S=l(m,F,S,c),S?F+'="'+S+'"':F):(L=a(m,F,S,B),Jo(L)?void 0:L):L});return y="<"+m,k&&(y+=" "+k),v.closing&&(y+=" /"),y+=">",y}else return M=o(m,y,E),Jo(M)?u(y):M},u);return f&&(d=f.remove(d)),d};var U_=xm;(function(t,e){var n=ue,r=ba,i=U_;function o(a,l){var u=new i(l);return u.process(a)}e=t.exports=o,e.filterXSS=o,e.FilterXSS=i,function(){for(var a in n)e[a]=n[a];for(var l in r)e[l]=r[l]}(),typeof window!="undefined"&&(window.filterXSS=t.exports);function s(){return typeof self!="undefined"&&typeof DedicatedWorkerGlobalScope!="undefined"&&self instanceof DedicatedWorkerGlobalScope}s()&&(self.filterXSS=t.exports)})(Jl,Jl.exports);var K_=Jl.exports;const J_={a:["href","title","target"],span:["style"],blockquote:["style"],p:["class","style"],hr:[],pre:[],code:[],strong:[],img:["src","alt","title","width","height","style","data-display"],label:["contenteditable"],input:["type","value","checked"],div:["class","style"],iframe:["src","allowfullscreen","frameborder","width","height"],em:[],s:[],mark:[],h1:["class","style"],h2:["class","style"],h3:["class","style"],h4:["class","style"],h5:["class","style"],h6:["class","style"],ul:["class","data-type"],li:["data-checked","itemtypename"],ol:[],u:[],tr:["class","style"],td:["class","style"],th:["class","style"],tbody:["class","style"],table:["class","style"],br:[]};var G_={props:{value:Fn().def(""),dense:pe().def(!1),xss:cr([Boolean,Array]).def(!0),xssOptions:Ye().def(J_)},setup(t){return{cleanValue:de(()=>{if(t.xss===!1)return t.value;const n=t.value.replace("https://youtu.be/","https://www.youtube.com/watch?v=").replace("watch?v=","embed/").replace("https://vimeo.com/","https://player.vimeo.com/video/"),r=t.xssOptions;return K_(n,{whiteList:r,css:!1})})}}},Y_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vuetify-pro-tiptap-editor__content",class:{dense:t.dense,view:!0},staticStyle:{width:"100%"},domProps:{innerHTML:t._s(t.cleanValue)}})},X_=[];const Dd={};var Z_=Nt(G_,Y_,X_,!1,Q_,null,null,null);function Q_(t){for(let e in Dd)this[e]=Dd[e]}var km=function(){return Z_.exports}();typeof window!="undefined"&&window.Vue&&(window.Vue.component("VuetifyTiptap",cm),window.Vue.component("VuetifyViewer",km));const eO=t=>n=>{const{vuetify:r,lang:i,components:o={},config:s}=t||{};if(!r){su.warn("The module VuetifyProTipTap needs vuetify instance. Use Vue.use(VuetifyProTipTap, { vuetify })");return}Mv(r),i&&Ts.setLang(i),Object.keys(o).forEach(a=>n.component(a,o[a])),n.prototype.$vuetifyProTiptap={defaultLang:i,config:s}},tO=`<h2 style="text-align: center">Welcome To Vuetify Tiptap Editor Demo</h2><p>\u{1F525} <strong>Vuetify Tiptap Editor </strong>\u{1F525}is a WYSIWYG rich-text editor using&nbsp; <a target="_blank" rel="noopener noreferrer nofollow" href="https://github.com/scrumpy/tiptap">tiptap</a>&nbsp;and <a target="_blank" rel="noopener noreferrer nofollow" href="https://github.com/vuetifyjs/vuetify">vuetify</a>&nbsp;for Vue.js <img src="https://i.ibb.co/nbRN3S2/undraw-upload-87y9.png" alt="Test alt" width="200" data-display="right"> that's easy to use, friendly to developers, fully extensible and clean in design.</p><p></p><p style="text-align: right">\u{1F449}Click on the image to get started image features \u{1F449}</p><p></p><p>You can toggle <strong>Fullscreen</strong> \u{1F4FA} in this demo.</p><p></p><blockquote class="blockquote"><p>This demo is simple, switch tab for more features.</p><p>All demos source code: <a target="_blank" rel="noopener noreferrer nofollow" href="https://github.com/yikoyu/vuetify-pro-tiptap">source code \u{1F517}</a></p></blockquote>`;var nO={setup(){const t=At(tO),e=At(!1),n=At(!0),r=At(!1),i=At(!1),o=At(!1),s=At(!1),a=At(null),l=At(["bold","italic","underline","strike","color","highlight","|","h1","h2","h3","h4","h5","h6","p","|","left","center","right","justify","|","bulletList","orderedList","taskList","indent","outdent","|","link","image","video","|","blockquote","rule","code","|","clear","fullscreen","undo","redo","#clean-btn","#preview","#html"]);return{mdiDeleteCircleOutline:S0,mdiFileCodeOutline:_0,mdiSend:O0,locale:Ts,content:t,dialog:e,outlined:n,dense:r,editHtml:i,hideToolbar:o,disableToolbar:s,errorMessages:a,toolbar:l}}},Em=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(jg,{attrs:{id:"app"}},[n(ic,[n(be,{attrs:{color:"primary"},on:{click:function(r){t.$vuetify.theme.dark=!t.$vuetify.theme.dark}}},[t._v(" "+t._s(t.$vuetify.theme.dark?"dark":"light")+" ")]),n(be,{staticClass:"ms-2",attrs:{color:"primary"},on:{click:function(r){t.$vuetify.rtl=!t.$vuetify.rtl}}},[t._v(" "+t._s(t.$vuetify.rtl?"RTL":"LTR")+" ")]),n(be,{staticClass:"ms-2",attrs:{color:"primary"},on:{click:function(r){return t.locale.setLang("zhHans")}}},[t._v("set Chinese")]),n(be,{staticClass:"ms-2",attrs:{color:"primary"},on:{click:function(r){return t.locale.setLang("en")}}},[t._v("set English")]),n("vuetify-tiptap",{attrs:{label:"Title","hide-toolbar":t.hideToolbar,"disable-toolbar":t.disableToolbar,toolbar:t.toolbar,outlined:t.outlined,dense:t.dense,dark:t.$vuetify.theme.dark,placeholder:"Enter some text...","error-messages":t.errorMessages,rounded:"",maxHeight:465},scopedSlots:t._u([t.editHtml?{key:"editor",fn:function(r){var i=r.attrs;return[n(oc,t._b({attrs:{height:"auto","hide-details":"",flat:"",solo:""},model:{value:t.content,callback:function(o){t.content=o},expression:"content"}},"v-textarea",i,!1))]}}:null,{key:"preview",fn:function(r){var i=r.attrs;return[n(ea,{attrs:{fullscreen:"","hide-overlay":""},scopedSlots:t._u([{key:"activator",fn:function(o){var s=o.on,a=o.attrs;return[n(be,t._g(t._b({},"v-btn",Object.assign({},i,a),!1),s),[n(Tt,[t._v(t._s(t.mdiFileCodeOutline))])],1)]}}],null,!0),model:{value:t.dialog,callback:function(o){t.dialog=o},expression:"dialog"}},[n(Si,[n(Yl,{attrs:{dark:"",color:"primary"}},[n(be,{attrs:{icon:"",dark:""},on:{click:function(o){t.dialog=!1}}},[n(Tt,[t._v("$close")])],1)],1),n(ic,[n("vuetify-viewer",{attrs:{value:t.content}})],1)],1)],1)]}},{key:"html",fn:function(){return[n(be,{staticClass:"elevation-0",attrs:{small:"",color:t.editHtml?"primary":void 0,text:""},on:{click:function(r){t.editHtml=!t.editHtml,t.disableToolbar=!t.disableToolbar}}},[t._v(" HTML ")])]},proxy:!0},{key:"clean-btn",fn:function(r){var i=r.editor,o=r.attrs;return[n(be,t._b({attrs:{icon:"",small:""},on:{click:function(s){i&&i.commands.setContent(""),t.content=""}}},"v-btn",o,!1),[n(Tt,[t._v(t._s(t.mdiDeleteCircleOutline))])],1)]}}],null,!0),model:{value:t.content,callback:function(r){t.content=r},expression:"content"}}),n(Ed,{staticClass:"my-4"}),n(oc,{attrs:{value:t.content,readonly:"","auto-grow":""}})],1)],1)},rO=[];Em._withStripped=!0;function Sm(t,e,n,r,i,o,s,a){var l=typeof t=="function"?t.options:t;e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),o&&(l._scopeId="data-v-"+o);var u;if(s?(u=function(d){d=d||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!d&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(d=__VUE_SSR_CONTEXT__),i&&i.call(this,d),d&&d._registeredComponents&&d._registeredComponents.add(s)},l._ssrRegister=u):i&&(u=a?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(p,h){return u.call(h),c(p,h)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,u):[u]}return{exports:t,options:l}}const Cd={};var _m=Sm(nO,Em,rO,!1,iO,null,null,null);function iO(t){for(let e in Cd)this[e]=Cd[e]}_m.options.__file="examples/App.vue";var oO=function(){return _m.exports}();/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Ad(t){return Object.prototype.toString.call(t)==="[object Object]"}function sO(t){var e,n;return Ad(t)===!1?!1:(e=t.constructor,e===void 0?!0:(n=e.prototype,!(Ad(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}function so(){return so=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},so.apply(this,arguments)}function Om(t,e){if(t==null)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)e.indexOf(n=o[r])>=0||(i[n]=t[n]);return i}const Gl={silent:!1,logLevel:"warn"},aO=["validator"],Tm=Object.prototype,Mm=Tm.toString,lO=Tm.hasOwnProperty,Fm=/^\s*function (\w+)/;function wd(t){var e;const n=(e=t==null?void 0:t.type)!==null&&e!==void 0?e:t;if(n){const r=n.toString().match(Fm);return r?r[1]:""}return""}const Ar=sO,Bm=t=>t;let Ne=Bm;Ne=typeof console!="undefined"?function(e,n=Gl.logLevel){Gl.silent===!1&&console[n](`[VueTypes warn]: ${e}`)}:Bm;const xi=(t,e)=>lO.call(t,e),uO=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t},ki=Array.isArray||function(t){return Mm.call(t)==="[object Array]"},Ei=t=>Mm.call(t)==="[object Function]",Zs=t=>Ar(t)&&xi(t,"_vueTypes_name"),Lm=t=>Ar(t)&&(xi(t,"type")||["_vueTypes_name","validator","default","required"].some(e=>xi(t,e)));function Ku(t,e){return Object.defineProperty(t.bind(e),"__original",{value:t})}function Er(t,e,n=!1){let r,i=!0,o="";r=Ar(t)?t:{type:t};const s=Zs(r)?r._vueTypes_name+" - ":"";if(Lm(r)&&r.type!==null){if(r.type===void 0||r.type===!0||!r.required&&e===void 0)return i;ki(r.type)?(i=r.type.some(a=>Er(a,e,!0)===!0),o=r.type.map(a=>wd(a)).join(" or ")):(o=wd(r),i=o==="Array"?ki(e):o==="Object"?Ar(e):o==="String"||o==="Number"||o==="Boolean"||o==="Function"?function(a){if(a==null)return"";const l=a.constructor.toString().match(Fm);return l?l[1]:""}(e)===o:e instanceof r.type)}if(!i){const a=`${s}value "${e}" should be of type "${o}"`;return n===!1?(Ne(a),!1):a}if(xi(r,"validator")&&Ei(r.validator)){const a=Ne,l=[];if(Ne=u=>{l.push(u)},i=r.validator(e),Ne=a,!i){const u=(l.length>1?"* ":"")+l.join(`
* `);return l.length=0,n===!1?(Ne(u),i):u}}return i}function ct(t,e){const n=Object.defineProperties(e,{_vueTypes_name:{value:t,writable:!0},isRequired:{get(){return this.required=!0,this}},def:{value(i){return i===void 0?(xi(this,"default")&&delete this.default,this):Ei(i)||Er(this,i,!0)===!0?(this.default=ki(i)?()=>[...i]:Ar(i)?()=>Object.assign({},i):i,this):(Ne(`${this._vueTypes_name} - invalid default value: "${i}"`),this)}}}),{validator:r}=n;return Ei(r)&&(n.validator=Ku(r,n)),n}function Jt(t,e){const n=ct(t,e);return Object.defineProperty(n,"validate",{value(r){return Ei(this.validator)&&Ne(`${this._vueTypes_name} - calling .validate() will overwrite the current custom validator function. Validator info:
${JSON.stringify(this)}`),this.validator=Ku(r,this),this}})}function xd(t,e,n){const r=function(l){const u={};return Object.getOwnPropertyNames(l).forEach(c=>{u[c]=Object.getOwnPropertyDescriptor(l,c)}),Object.defineProperties({},u)}(e);if(r._vueTypes_name=t,!Ar(n))return r;const{validator:i}=n,o=Om(n,aO);if(Ei(i)){let{validator:l}=r;l&&(l=(a=(s=l).__original)!==null&&a!==void 0?a:s),r.validator=Ku(l?function(u){return l.call(this,u)&&i.call(this,u)}:i,r)}var s,a;return Object.assign(r,o)}function Da(t){return t.replace(/^(?!\s*$)/gm,"  ")}const cO=()=>Jt("any",{}),fO=()=>Jt("function",{type:Function}),dO=()=>Jt("boolean",{type:Boolean}),pO=()=>Jt("string",{type:String}),hO=()=>Jt("number",{type:Number}),mO=()=>Jt("array",{type:Array}),Nm=()=>Jt("object",{type:Object}),gO=()=>ct("integer",{type:Number,validator:t=>uO(t)}),vO=()=>ct("symbol",{validator:t=>typeof t=="symbol"});function yO(t,e="custom validation failed"){if(typeof t!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return ct(t.name||"<<anonymous function>>",{type:null,validator(n){const r=t(n);return r||Ne(`${this._vueTypes_name} - ${e}`),r}})}function bO(t){if(!ki(t))throw new TypeError("[VueTypes error]: You must provide an array as argument.");const e=`oneOf - value should be one of "${t.join('", "')}".`,n=t.reduce((r,i)=>{if(i!=null){const o=i.constructor;r.indexOf(o)===-1&&r.push(o)}return r},[]);return ct("oneOf",{type:n.length>0?n:void 0,validator(r){const i=t.indexOf(r)!==-1;return i||Ne(e),i}})}function DO(t){if(!ki(t))throw new TypeError("[VueTypes error]: You must provide an array as argument");let e=!1,n=[];for(let i=0;i<t.length;i+=1){const o=t[i];if(Lm(o)){if(Zs(o)&&o._vueTypes_name==="oneOf"&&o.type){n=n.concat(o.type);continue}if(Ei(o.validator)&&(e=!0),o.type===!0||!o.type){Ne('oneOfType - invalid usage of "true" or "null" as types.');continue}n=n.concat(o.type)}else n.push(o)}n=n.filter((i,o)=>n.indexOf(i)===o);const r=n.length>0?n:null;return ct("oneOfType",e?{type:r,validator(i){const o=[],s=t.some(a=>{const l=Er(Zs(a)&&a._vueTypes_name==="oneOf"?a.type||null:a,i,!0);return typeof l=="string"&&o.push(l),l===!0});return s||Ne(`oneOfType - provided value does not match any of the ${o.length} passed-in validators:
${Da(o.join(`
`))}`),s}}:{type:r})}function CO(t){return ct("arrayOf",{type:Array,validator(e){let n="";const r=e.every(i=>(n=Er(t,i,!0),n===!0));return r||Ne(`arrayOf - value validation error:
${Da(n)}`),r}})}function AO(t){return ct("instanceOf",{type:t})}function wO(t){return ct("objectOf",{type:Object,validator(e){let n="";const r=Object.keys(e).every(i=>(n=Er(t,e[i],!0),n===!0));return r||Ne(`objectOf - value validation error:
${Da(n)}`),r}})}function xO(t){const e=Object.keys(t),n=e.filter(i=>{var o;return!((o=t[i])===null||o===void 0||!o.required)}),r=ct("shape",{type:Object,validator(i){if(!Ar(i))return!1;const o=Object.keys(i);if(n.length>0&&n.some(s=>o.indexOf(s)===-1)){const s=n.filter(a=>o.indexOf(a)===-1);return Ne(s.length===1?`shape - required property "${s[0]}" is not defined.`:`shape - required properties "${s.join('", "')}" are not defined.`),!1}return o.every(s=>{if(e.indexOf(s)===-1)return this._vueTypes_isLoose===!0||(Ne(`shape - shape definition does not include a "${s}" property. Allowed keys: "${e.join('", "')}".`),!1);const a=Er(t[s],i[s],!0);return typeof a=="string"&&Ne(`shape - "${s}" property validation error:
 ${Da(a)}`),a===!0})}});return Object.defineProperty(r,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(r,"loose",{get(){return this._vueTypes_isLoose=!0,this}}),r}const kO=["name","validate","getter"],EO=(()=>{var t,e;return e=t=class{static get any(){return cO()}static get func(){return fO().def(this.defaults.func)}static get bool(){return dO().def(this.defaults.bool)}static get string(){return pO().def(this.defaults.string)}static get number(){return hO().def(this.defaults.number)}static get array(){return mO().def(this.defaults.array)}static get object(){return Nm().def(this.defaults.object)}static get integer(){return gO().def(this.defaults.integer)}static get symbol(){return vO()}static extend(n){if(ki(n))return n.forEach(u=>this.extend(u)),this;const{name:r,validate:i=!1,getter:o=!1}=n,s=Om(n,kO);if(xi(this,r))throw new TypeError(`[VueTypes error]: Type "${r}" already defined`);const{type:a}=s;if(Zs(a))return delete s.type,Object.defineProperty(this,r,o?{get:()=>xd(r,a,s)}:{value(...u){const c=xd(r,a,s);return c.validator&&(c.validator=c.validator.bind(c,...u)),c}});let l;return l=o?{get(){const u=Object.assign({},s);return i?Jt(r,u):ct(r,u)},enumerable:!0}:{value(...u){const c=Object.assign({},s);let f;return f=i?Jt(r,c):ct(r,c),c.validator&&(f.validator=c.validator.bind(f,...u)),f},enumerable:!0},Object.defineProperty(this,r,l)}},t.defaults={},t.sensibleDefaults=void 0,t.config=Gl,t.custom=yO,t.oneOf=bO,t.instanceOf=AO,t.oneOfType=DO,t.arrayOf=CO,t.objectOf=wO,t.shape=xO,t.utils={validate:(n,r)=>Er(r,n,!0)===!0,toType:(n,r,i=!1)=>i?Jt(n,r):ct(n,r)},e})();function SO(t={func:()=>{},bool:!0,string:"",number:0,array:()=>[],object:()=>({}),integer:0}){var e,n;return n=e=class extends EO{static get sensibleDefaults(){return so({},this.defaults)}static set sensibleDefaults(r){this.defaults=r!==!1?so({},r!==!0?r:t):{}}},e.defaults=so({},t),n}class $O extends SO(){}var _O={props:{value:Nm().def({})},setup(t,{emit:e}){return{form:v0({get:()=>t.value,set:r=>e("input",r)}),items:[{alt:"Test 1",src:"https://i.picsum.photos/id/1069/1920/1080.webp?hmac=cxjVzYK0ihh3VsIEKZ8FIfl6aGr19QO8yehQlPzoPeM"},{alt:"Test 2",src:"https://i.picsum.photos/id/90/1920/1080.webp?hmac=gxjDsn0a57jTpyPG9YRuDhW0YIo5DlqbRSRXpwSAVmw"},{alt:"Test 3",src:"https://i.picsum.photos/id/627/1920/1080.webp?hmac=N91GT9f0ZfCjx4mwrqPYHo-27d_0852EXonU54iCv6o"}]}}},Im=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(Wg,{attrs:{label:"Image","return-object":"",items:t.items,"item-text":"alt","item-value":"src"},model:{value:t.form,callback:function(r){t.form=r},expression:"form"}})},OO=[];Im._withStripped=!0;const kd={};var $m=Sm(_O,Im,OO,!1,TO,null,null,null);function TO(t){for(let e in kd)this[e]=kd[e]}$m.options.__file="examples/components/SelectImage.vue";var MO=function(){return $m.exports}();const Pm=E0(st);st.use(Rd);const FO=eO({vuetify:Pm,lang:"zhHans",components:{VuetifyTiptap:cm,VuetifyViewer:km},config:{image:{imageTabs:[{name:"SELECT",component:MO}],upload(t){return console.log("e :>> ",t),Promise.resolve("https://picsum.photos/1920/1080.webp")}}}});st.use(FO);const BO=y0({vuetify:Pm,render:()=>b0(oO)});BO.mount("#app");
